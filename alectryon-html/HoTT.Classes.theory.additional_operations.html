<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>additional_operations.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk0"><span class="kn">Require Import</span> HoTT.Classes.interfaces.canonical_names.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Generalizable Variables</span> <span class="nf">A</span> R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Set Universe Minimization ToSet</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">decide_eqb</span> `{DecidablePaths A} : Eqb A
  := <span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt; <span class="kr">if</span> decide_rel paths a b <span class="kr">then</span> true <span class="kr">else</span> false.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1"><span class="kn">Lemma</span> <span class="nf">decide_eqb_ok</span>@{i} {A:<span class="kt">Type</span>@{i} } `{DecidablePaths A} :
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, iff@{<span class="kt">Set</span> i i} (eqb a b = true) (a = b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a =? b) = true &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a =? b) = true &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk3"><span class="nb">unfold</span> eqb,decide_eqb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
(<span class="kr">if</span> decide_rel paths a b <span class="kr">then</span> true <span class="kr">else</span> false) = true &lt;-&gt;
a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk4"><span class="nb">intros</span> a b;<span class="nb">destruct</span> (decide_rel paths a b) <span class="kr">as</span> [E1|E1];<span class="nb">split</span>;<span class="nb">intros</span> E2;<span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>false = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk5"><hr></label><div class="goal-conclusion">false = true</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>false = true</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (false_ne_true E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>DecidablePaths A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>a &lt;&gt; b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">false = true</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (E1 E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk8"><span class="kn">Lemma</span> <span class="nf">LT_EQ</span> : LT &lt;&gt; EQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">LT &lt;&gt; EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">LT &lt;&gt; EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chka"><span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = EQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chkb"><span class="nb">change</span> ((<span class="kr">fun</span> <span class="nv">r</span> =&gt; <span class="kr">match</span> r <span class="kr">with</span> LT =&gt; Unit | _ =&gt; Empty <span class="kr">end</span>) EQ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = EQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">r</span> : comparison =&gt;
 <span class="kr">match</span> r <span class="kr">with</span>
 | LT =&gt; Unit
 | _ =&gt; Empty
 <span class="kr">end</span>) EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chkc"><span class="nb">rewrite</span> &lt;-E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = EQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chkd"><span class="kn">Lemma</span> <span class="nf">LT_GT</span> : LT &lt;&gt; GT.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">LT &lt;&gt; GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chke"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">LT &lt;&gt; GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chkf"><span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk10"><span class="nb">change</span> ((<span class="kr">fun</span> <span class="nv">r</span> =&gt; <span class="kr">match</span> r <span class="kr">with</span> LT =&gt; Unit | _ =&gt; Empty <span class="kr">end</span>) GT).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">r</span> : comparison =&gt;
 <span class="kr">match</span> r <span class="kr">with</span>
 | LT =&gt; Unit
 | _ =&gt; Empty
 <span class="kr">end</span>) GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk11"><span class="nb">rewrite</span> &lt;-E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>LT = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk12"><span class="kn">Lemma</span> <span class="nf">EQ_LT</span> : EQ &lt;&gt; LT.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EQ &lt;&gt; LT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EQ &lt;&gt; LT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> symmetric_neq, LT_EQ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk14"><span class="kn">Lemma</span> <span class="nf">EQ_GT</span> : EQ &lt;&gt; GT.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EQ &lt;&gt; GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EQ &lt;&gt; GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk16"><span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>EQ = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk17"><span class="nb">change</span> ((<span class="kr">fun</span> <span class="nv">r</span> =&gt; <span class="kr">match</span> r <span class="kr">with</span> EQ =&gt; Unit | _ =&gt; Empty <span class="kr">end</span>) GT).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>EQ = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">r</span> : comparison =&gt;
 <span class="kr">match</span> r <span class="kr">with</span>
 | EQ =&gt; Unit
 | _ =&gt; Empty
 <span class="kr">end</span>) GT</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk18"><span class="nb">rewrite</span> &lt;-E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>E</var><span class="hyp-type"><b>: </b><span>EQ = GT</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk19"><span class="kn">Lemma</span> <span class="nf">GT_EQ</span> : GT &lt;&gt; EQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">GT &lt;&gt; EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">GT &lt;&gt; EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> symmetric_neq, EQ_GT.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">compare_eqb</span> `{Compare A} : Eqb A | <span class="mi">2</span> := <span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt;
  <span class="kr">match</span> a ?= b <span class="kr">with</span>
  | EQ =&gt; true
  | _ =&gt; false
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1b"><span class="kn">Lemma</span> <span class="nf">compare_eqb_eq</span> `{Compare A} : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, a =? b = true -&gt; a ?= b = EQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compare A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a =? b) = true -&gt; (a ?= b) = EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compare A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a =? b) = true -&gt; (a ?= b) = EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1d"><span class="nb">unfold</span> eqb,compare_eqb;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compare A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
<span class="kr">match</span> a ?= b <span class="kr">with</span>
| EQ =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true -&gt; (a ?= b) = EQ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1e"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Compare A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> a ?= b <span class="kr">with</span>
| EQ =&gt; true
| _ =&gt; false
<span class="kr">end</span> = true -&gt; (a ?= b) = EQ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (a ?= b);<span class="nb">trivial</span>;<span class="nb">intros</span> E;<span class="nb">destruct</span> (false_ne_true E).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">tricho_compare</span> `{Trichotomy A R} : Compare A | <span class="mi">2</span>
  := <span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt;
  <span class="kr">match</span> trichotomy R a b <span class="kr">with</span>
  | inl _ =&gt; LT
  | inr (inl _) =&gt; EQ
  | inr (inr _) =&gt; GT
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk1f"><span class="kn">Lemma</span> <span class="nf">tricho_compare_eq</span> `{Trichotomy A R}
  : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, <span class="nb">compare</span> a b = EQ -&gt; a = b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a ?= b) = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a ?= b) = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk21"><span class="nb">unfold</span> <span class="nb">compare</span>,tricho_compare.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
<span class="kr">match</span> trichotomy R a b <span class="kr">with</span>
| inl _ =&gt; LT
| inr (inl _) =&gt; EQ
| inr (inr _) =&gt; GT
<span class="kr">end</span> = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk22"><span class="nb">intros</span> a b;<span class="nb">destruct</span> (trichotomy R a b) <span class="kr">as</span> [E|[E|E]];<span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LT = EQ -&gt; a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk23"><hr></label><div class="goal-conclusion">GT = EQ -&gt; a = b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LT = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> E1;<span class="nb">destruct</span> (LT_EQ E1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk25">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GT = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> E1;<span class="nb">destruct</span> (GT_EQ E1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk26"><span class="kn">Lemma</span> <span class="nf">tricho_compare_ok</span> `{Trichotomy A R} `{Irreflexive A R}
  : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, <span class="nb">compare</span> a b = EQ &lt;-&gt; a = b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a ?= b) = EQ &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk27"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, (a ?= b) = EQ &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk28"><span class="nb">unfold</span> <span class="nb">compare</span>,tricho_compare.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
<span class="kr">match</span> trichotomy R a b <span class="kr">with</span>
| inl _ =&gt; LT
| inr (inl _) =&gt; EQ
| inr (inr _) =&gt; GT
<span class="kr">end</span> = EQ &lt;-&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk29"><span class="nb">intros</span> a b;<span class="nb">destruct</span> (trichotomy R a b) <span class="kr">as</span> [E1|[E1|E1]];<span class="nb">split</span>;<span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LT = EQ -&gt; a = b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk2a"><hr></label><div class="goal-conclusion">a = b -&gt; LT = EQ</div></blockquote><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk2b"><hr></label><div class="goal-conclusion">GT = EQ -&gt; a = b</div></blockquote><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk2c"><hr></label><div class="goal-conclusion">a = b -&gt; GT = EQ</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk2d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LT = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> E2;<span class="nb">destruct</span> (LT_EQ E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk2e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b -&gt; LT = EQ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk2f"><span class="nb">intros</span> E2;<span class="nb">rewrite</span> E2 <span class="kr">in</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LT = EQ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (irreflexivity R _ E1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk30">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GT = EQ -&gt; a = b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> E2;<span class="nb">destruct</span> (GT_EQ E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk31">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = b -&gt; GT = EQ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk32"><span class="nb">intros</span> E2;<span class="nb">rewrite</span> E2 <span class="kr">in</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Trichotomy R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Irreflexive R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>R b b</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GT = EQ</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (irreflexivity R _ E1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk33"><span class="kn">Lemma</span> <span class="nf">total_abs_either</span> `{Abs A} `{!TotalRelation le}
  : <span class="kr">forall</span> <span class="nv">x</span> : A, (<span class="mi">0</span> &lt;= x /\ abs x = x) |_| (x &lt;= <span class="mi">0</span> /\ abs x = - x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
(<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk34"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
(<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk35"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk36"><span class="nb">destruct</span> (total le <span class="mi">0</span> x) <span class="kr">as</span> [E|E].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="additional-operations-v-chk37" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>x ‚â§ <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="additional-operations-v-chk37"><hr></label><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk38">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk39"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk3a"><span class="nb">split</span>;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs x = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ((abs_sig x).<span class="mi">2</span>);<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk3b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>x ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">0</span> ‚â§ x) * (abs x = x) + (x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk3c"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>x ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((x ‚â§ <span class="mi">0</span>) * (abs x = - x))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="additional-operations-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="additional-operations-v-chk3d"><span class="nb">split</span>;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Zero A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Negate A</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Abs A</span></span></span><br><span><var>TotalRelation0</var><span class="hyp-type"><b>: </b><span>TotalRelation le</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>x ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs x = - x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ((abs_sig x).<span class="mi">2</span>);<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre>
</div>
</div></body>
</html>
