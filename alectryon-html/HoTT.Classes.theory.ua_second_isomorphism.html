<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>ua_second_isomorphism.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** The second isomorphism theorem [isomorphic_second_isomorphism]. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk0"><span class="kn">Require Import</span>
  Basics.Notations
  HSet
  Colimits.Quotient
  Classes.interfaces.canonical_names
  Classes.theory.ua_isomorphic
  Classes.theory.ua_subalgebra
  Classes.theory.ua_quotient_algebra.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span>
  algebra_notations
  quotient_algebra_notations
  subalgebra_notations
  isomorphic_notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">i</span> := (hom_inc_subalgebra _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This section defines [cong_trace] and proves that it is a</span>
<span class="sd">    congruence, the restriction of a congruence to a subalgebra. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">cong_trace</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">œÉ</span> : Signature} {<span class="nv">A</span> : Algebra œÉ}
    (<span class="nv">P</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí <span class="kt">Type</span>) `{!IsSubalgebraPredicate A P}
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cong_trace</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A&amp;&amp;P) s) (<span class="nv">y</span> : (A&amp;&amp;P) s)
    := Œ¶ s (i s x) (i s y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1">#[export] <span class="kn">Instance</span> <span class="nf">equiv_rel_trace_congruence</span> (<span class="nv">s</span> : Sort œÉ)
    : EquivRel (cong_trace s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">EquivRel (cong_trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">EquivRel (cong_trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3"><span class="nb">unfold</span> cong_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">EquivRel (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk5"><hr></label><div class="goal-conclusion">Symmetric (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk6"><hr></label><div class="goal-conclusion">Transitive (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk8"><span class="nb">intros</span> [y Y].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y</var><span class="hyp-type"><b>: </b><span>P s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ s (i s (y; Y)) (i s (y; Y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chka"><span class="nb">intros</span> [y1 Y1] [y2 Y2] S.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y1</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y1</var><span class="hyp-type"><b>: </b><span>P s y1</span></span></span><br><span><var>y2</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y2</var><span class="hyp-type"><b>: </b><span>P s y2</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Œ¶ s (i s (y1; Y1)) (i s (y2; Y2))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ s (i s (y2; Y2)) (i s (y1; Y1))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : (A &amp;&amp; P) s, Œ¶ s (i s x) (i s y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chkc"><span class="nb">intros</span> [y1 Y1] [y2 Y2] [y3 Y3] S T.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y1</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y1</var><span class="hyp-type"><b>: </b><span>P s y1</span></span></span><br><span><var>y2</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y2</var><span class="hyp-type"><b>: </b><span>P s y2</span></span></span><br><span><var>y3</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>Y3</var><span class="hyp-type"><b>: </b><span>P s y3</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Œ¶ s (i s (y1; Y1)) (i s (y2; Y2))</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>Œ¶ s (i s (y2; Y2)) (i s (y3; Y3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ s (i s (y1; Y1)) (i s (y3; Y3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">transitivity</span> y2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chkd"><span class="kn">Lemma</span> <span class="nf">for_all_2_family_prod_trace_congruence</span> {<span class="nv">w</span> : SymbolType œÉ}
    (<span class="nv">a</span> <span class="nv">b</span> : FamilyProd (A&amp;&amp;P) (dom_symboltype w))
    (<span class="nv">R</span> : for_all_2_family_prod (A&amp;&amp;P) (A&amp;&amp;P) cong_trace a b)
    : for_all_2_family_prod A A Œ¶
        (map_family_prod i a) (map_family_prod i b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype w)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶ (map_family_prod i a)
  (map_family_prod i b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chke"><span class="kn">Proof with</span> <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype w)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶ (map_family_prod i a)
  (map_family_prod i b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chkf"><span class="nb">induction</span> w...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P)
  (dom_symboltype (ne_list.cons t w))</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> <span class="nv">b</span> : FamilyProd (A &amp;&amp; P) (dom_symboltype w),
for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b -&gt;
for_all_2_family_prod A A Œ¶
  (map_family_prod i a) 
  (map_family_prod i b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶ (map_family_prod i a)
  (map_family_prod i b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk10"><span class="nb">destruct</span> a <span class="kr">as</span> [x a], b <span class="kr">as</span> [y b], R <span class="kr">as</span> [C R].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), (A &amp;&amp; P) i * A0)
  Unit (dom_symboltype w)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), (A &amp;&amp; P) i * A0)
  Unit (dom_symboltype w)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>cong_trace t x y</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> <span class="nv">b</span> : FamilyProd (A &amp;&amp; P) (dom_symboltype w),
for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b -&gt;
for_all_2_family_prod A A Œ¶
  (map_family_prod i a) 
  (map_family_prod i b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶ (map_family_prod i (x, a))
  (map_family_prod i (y, b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk11"><span class="nb">split</span>...</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), (A &amp;&amp; P) i * A0)
  Unit (dom_symboltype w)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), (A &amp;&amp; P) i * A0)
  Unit (dom_symboltype w)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>cong_trace t x y</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> <span class="nv">b</span> : FamilyProd (A &amp;&amp; P) (dom_symboltype w),
for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b -&gt;
for_all_2_family_prod A A Œ¶
  (map_family_prod i a) 
  (map_family_prod i b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶
  (snd (map_family_prod i (x, a)))
  (snd (map_family_prod i (y, b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHw...</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk12">#[export] <span class="kn">Instance</span> <span class="nf">ops_compatible_trace_trace</span>
    : OpsCompatible (A&amp;&amp;P) cong_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpsCompatible (A &amp;&amp; P) cong_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpsCompatible (A &amp;&amp; P) cong_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk14"><span class="nb">intros</span> u a b R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype (œÉ u))</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cong_trace (cod_symboltype (œÉ u))
  (ap_operation u.#(A &amp;&amp; P) a)
  (ap_operation u.#(A &amp;&amp; P) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk15"><span class="nb">refine</span> (transport (<span class="kr">Œª</span> <span class="nv">X</span>, Œ¶ _ X _)
              (path_homomorphism_ap_operation i u a)^ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype (œÉ u))</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ (cod_symboltype (œÉ u))
  (ap_operation u.#A (map_family_prod i a))
  (i (cod_symboltype (œÉ u))
     (ap_operation u.#(A &amp;&amp; P) b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk16"><span class="nb">refine</span> (transport (<span class="kr">Œª</span> <span class="nv">X</span>, Œ¶ _ _ X)
              (path_homomorphism_ap_operation i u b)^ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype (œÉ u))</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ (cod_symboltype (œÉ u))
  (ap_operation u.#A (map_family_prod i a))
  (ap_operation u.#A (map_family_prod i b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk17"><span class="nb">apply</span> (ops_compatible_cong A Œ¶).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>FamilyProd (A &amp;&amp; P) (dom_symboltype (œÉ u))</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>for_all_2_family_prod 
  (A &amp;&amp; P) (A &amp;&amp; P) cong_trace a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all_2_family_prod A A Œ¶ (map_family_prod i a)
  (map_family_prod i b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (for_all_2_family_prod_trace_congruence a b R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk18">#[export] <span class="kn">Instance</span> <span class="nf">is_congruence_trace</span> : IsCongruence (A&amp;&amp;P) cong_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsCongruence (A &amp;&amp; P) cong_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsCongruence (A &amp;&amp; P) cong_trace</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (@BuildIsCongruence _ (A&amp;&amp;P) cong_trace);
      [<span class="nb">intros</span>; <span class="nb">apply</span> (is_mere_relation_cong A Œ¶) | <span class="bp">exact</span> _ ..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">cong_trace</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following section defines the [is_subalgebra_class] subalgebra</span>
<span class="sd">    predicate, which induces a subalgebra of [A/Œ¶]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">is_subalgebra_class</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}
    {œÉ : Signature} {A : Algebra œÉ}
    (P : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí <span class="kt">Type</span>) `{!IsSubalgebraPredicate A P}
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">is_subalgebra_class</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A/Œ¶) s) : HProp
    := hexists (<span class="kr">Œª</span> (<span class="nv">y</span> : (A&amp;&amp;P) s), in_class (Œ¶ s) x (i s y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1a"><span class="kn">Lemma</span> <span class="nf">op_closed_subalgebra_is_subalgebra_class</span> {<span class="nv">w</span> : SymbolType œÉ}
    (<span class="nv">Œ≥</span> : Operation (A/Œ¶) w)
    (<span class="nv">Œ±</span> : Operation A w)
    (<span class="nv">Q</span> : ComputeOpQuotient A Œ¶ Œ± Œ≥)
    (<span class="nv">C</span> : ClosedUnderOp A P Œ±)
    : ClosedUnderOp (A/Œ¶) is_subalgebra_class Œ≥.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1c"><span class="nb">induction</span> w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk1d"><hr></label><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk1f"><span class="nb">specialize</span> (Q tt).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ap_operation Œ≥
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) tt) =
class_of (Œ¶ (cod_symboltype (ne_list.one t)))
  (ap_operation Œ± tt)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk20"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ap_operation Œ≥
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) tt) =
class_of (Œ¶ (cod_symboltype (ne_list.one t)))
  (ap_operation Œ± tt)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{y : (A &amp;&amp; P) t &amp; in_class (Œ¶ t) Œ≥ (i t y)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk21"><span class="kr">exists</span> (<span class="nv">Œ±</span>; C).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ap_operation Œ≥
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) tt) =
class_of (Œ¶ (cod_symboltype (ne_list.one t)))
  (ap_operation Œ± tt)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (Œ¶ t) Œ≥ (i t (Œ±; C))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk22"><span class="nb">cbn</span> <span class="kr">in</span> Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.one t)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>Œ≥ = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (Œ¶ t) Œ≥ (i t (Œ±; C))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk23"><span class="nb">destruct</span> Q^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.one t)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>class_of (Œ¶ t) Œ± = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (Œ¶ t) (class_of (Œ¶ t) Œ±) (i t (Œ±; C))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (EquivRel_Reflexive Œ±).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk25"><span class="nb">refine</span> (Quotient_ind_hprop (Œ¶ t) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A t,
is_subalgebra_class t (class_of (Œ¶ t) a) -&gt;
(<span class="kr">fix</span> ClosedUnderOp (w : SymbolType œÉ) :
     Operation (A / Œ¶) w -&gt; <span class="kt">Type</span> :=
   <span class="kr">match</span>
     w <span class="kr">as</span> w0 <span class="kr">return</span> (Operation (A / Œ¶) w0 -&gt; <span class="kt">Type</span>)
   <span class="kr">with</span>
   | ne_list.one s =&gt;
       <span class="kr">Œª</span> <span class="nv">x</span> : (A / Œ¶) s, is_subalgebra_class s x
   | ne_list.cons s w&#39; =&gt;
       <span class="kr">Œª</span> <span class="nv">Œ±</span> : (A / Œ¶) s -&gt; Operation (A / Œ¶) w&#39;,
       <span class="kr">forall</span> <span class="nv">x</span> : (A / Œ¶) s,
       is_subalgebra_class s x -&gt;
       ClosedUnderOp w&#39; (Œ± x)
   <span class="kr">end</span>) w (Œ≥ (class_of (Œ¶ t) a))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk26"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_subalgebra_class t (class_of (Œ¶ t) x) -&gt;
(<span class="kr">fix</span> ClosedUnderOp (w : SymbolType œÉ) :
     Operation (A / Œ¶) w -&gt; <span class="kt">Type</span> :=
   <span class="kr">match</span>
     w <span class="kr">as</span> w0 <span class="kr">return</span> (Operation (A / Œ¶) w0 -&gt; <span class="kt">Type</span>)
   <span class="kr">with</span>
   | ne_list.one s =&gt;
       <span class="kr">Œª</span> <span class="nv">x</span> : (A / Œ¶) s, is_subalgebra_class s x
   | ne_list.cons s w&#39; =&gt;
       <span class="kr">Œª</span> <span class="nv">Œ±</span> : (A / Œ¶) s -&gt; Operation (A / Œ¶) w&#39;,
       <span class="kr">forall</span> <span class="nv">x</span> : (A / Œ¶) s,
       is_subalgebra_class s x -&gt;
       ClosedUnderOp w&#39; (Œ± x)
   <span class="kr">end</span>) w (Œ≥ (class_of (Œ¶ t) x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk27"><span class="nb">refine</span> (Trunc_rec _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{y : (A &amp;&amp; P) t &amp;
in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)} -&gt;
(<span class="kr">fix</span> ClosedUnderOp (w : SymbolType œÉ) :
     Operation (A / Œ¶) w -&gt; <span class="kt">Type</span> :=
   <span class="kr">match</span>
     w <span class="kr">as</span> w0 <span class="kr">return</span> (Operation (A / Œ¶) w0 -&gt; <span class="kt">Type</span>)
   <span class="kr">with</span>
   | ne_list.one s =&gt;
       <span class="kr">Œª</span> <span class="nv">x</span> : (A / Œ¶) s, is_subalgebra_class s x
   | ne_list.cons s w&#39; =&gt;
       <span class="kr">Œª</span> <span class="nv">Œ±</span> : (A / Œ¶) s -&gt; Operation (A / Œ¶) w&#39;,
       <span class="kr">forall</span> <span class="nv">x</span> : (A / Œ¶) s,
       is_subalgebra_class s x -&gt;
       ClosedUnderOp w&#39; (Œ± x)
   <span class="kr">end</span>) w (Œ≥ (class_of (Œ¶ t) x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk28"><span class="nb">intros</span> [y R].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fix</span> ClosedUnderOp (w : SymbolType œÉ) :
     Operation (A / Œ¶) w -&gt; <span class="kt">Type</span> :=
   <span class="kr">match</span>
     w <span class="kr">as</span> w0 <span class="kr">return</span> (Operation (A / Œ¶) w0 -&gt; <span class="kt">Type</span>)
   <span class="kr">with</span>
   | ne_list.one s =&gt;
       <span class="kr">Œª</span> <span class="nv">x</span> : (A / Œ¶) s, is_subalgebra_class s x
   | ne_list.cons s w&#39; =&gt;
       <span class="kr">Œª</span> <span class="nv">Œ±</span> : (A / Œ¶) s -&gt; Operation (A / Œ¶) w&#39;,
       <span class="kr">forall</span> <span class="nv">x</span> : (A / Œ¶) s,
       is_subalgebra_class s x -&gt;
       ClosedUnderOp w&#39; (Œ± x)
   <span class="kr">end</span>) w (Œ≥ (class_of (Œ¶ t) x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk29"><span class="nb">apply</span> (IHw (Œ≥ (class_of (Œ¶ t) x)) (Œ± (i t y))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ (Œ± (i t y))
  (Œ≥ (class_of (Œ¶ t) x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk2a"><hr></label><div class="goal-conclusion">ClosedUnderOp A P (Œ± (i t y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ (Œ± (i t y))
  (Œ≥ (class_of (Œ¶ t) x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2c"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (Œ≥ (class_of (Œ¶ t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (i t y)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2d"><span class="nb">destruct</span> (qglue R)^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) (i t y)) (i t y)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (Œ≥ (class_of (Œ¶ t) (i t y)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (i t y)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Q (i t y,a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp A P (Œ± (i t y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk2f"><span class="nb">apply</span> C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) (ne_list.cons t w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (ne_list.cons t w)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ≥</span> : Operation (A / Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
ComputeOpQuotient A Œ¶ Œ± Œ≥ -&gt;
ClosedUnderOp A P Œ± -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) 
   (<span class="nv">x</span> : (A / Œ¶) s), 
   is_subalgebra_class s x) Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ t) (class_of (Œ¶ t) x) (i t y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P t (i t y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> y.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk30"><span class="kn">Definition</span> <span class="nf">is_closed_under_ops_is_subalgebra_class</span>
    : IsClosedUnderOps (A/Œ¶) is_subalgebra_class.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsClosedUnderOps (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsClosedUnderOps (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk32"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x) u.#(A / Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk33"><span class="nb">eapply</span> op_closed_subalgebra_is_subalgebra_class.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk34"><hr></label><div class="goal-conclusion">ClosedUnderOp A P <span class="nl">?Œ±</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> compute_op_quotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ClosedUnderOp A P u.#A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk37"><span class="nb">apply</span> is_closed_under_ops_subalgebra_predicate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSubalgebraPredicate A P</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk38">#[export] <span class="kn">Instance</span> <span class="nf">is_subalgebra_predicate_is_subalgebra_class</span>
    : IsSubalgebraPredicate (A/Œ¶) is_subalgebra_class.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSubalgebraPredicate (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk39"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSubalgebraPredicate (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3a"><span class="nb">apply</span> BuildIsSubalgebraPredicate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsClosedUnderOps (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s),
   is_subalgebra_class s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> is_closed_under_ops_is_subalgebra_class.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">is_subalgebra_class</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The next section proves the second isomorphism theorem,</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      (A&amp;&amp;P) / (cong_trace P Œ¶) ‚âÖ (A/Œ¶) &amp;&amp; (is_subalgebra_class P Œ¶).</span>
<span class="sd">&gt;&gt;</span>
<span class="sd">*)</span>

<span class="c">(* There is an alternative proof using the first isomorphism theorem,</span>
<span class="c">   but the direct proof below seems simpler in HoTT. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">second_isomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}
    {œÉ : Signature} (A : Algebra œÉ)
    (P : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí <span class="kt">Type</span>) `{!IsSubalgebraPredicate A P}
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">Œ®</span> := (cong_trace P Œ¶).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">Q</span> := (is_subalgebra_class P Œ¶).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">def_second_isomorphism</span> (<span class="nv">s</span> : Sort œÉ)
    : ((A&amp;&amp;P) / Œ®) s ‚Üí ((A/Œ¶) &amp;&amp; Q) s
    := Quotient_rec (Œ® s) _ 
        (<span class="kr">Œª</span> (<span class="nv">x</span> : (A&amp;&amp;P) s),
         (class_of (Œ¶ s) (i s x); tr (x; EquivRel_Reflexive x)))
        (<span class="kr">Œª</span> (<span class="nv">x</span> <span class="nv">y</span> : (A&amp;&amp;P) s) (<span class="nv">T</span> : Œ® s x y),
         path_sigma_hprop (class_of (Œ¶ s) (i s x); _)
           (class_of (Œ¶ s) (i s y); _) (@qglue _ (Œ¶ s) _ _ T)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3b"><span class="kn">Lemma</span> <span class="nf">oppreserving_second_isomorphism</span> {<span class="nv">w</span> : SymbolType œÉ}
    (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≥</span> : Operation (A/Œ¶) w)
    (<span class="nv">Œ∂</span> : Operation ((A&amp;&amp;P) / Œ®) w) (<span class="nv">CA</span> : ClosedUnderOp (A/Œ¶) Q Œ≥)
    (<span class="nv">CB</span> : ClosedUnderOp A P Œ±) (<span class="nv">QA</span> : ComputeOpQuotient A Œ¶ Œ± Œ≥)
    (<span class="nv">QB</span> : ComputeOpQuotient (A&amp;&amp;P) Œ® (op_subalgebra A P Œ± CB) Œ∂)
    : OpPreserving def_second_isomorphism Œ∂ (op_subalgebra (A/Œ¶) Q Œ≥ CA).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>Operation ((A &amp;&amp; P) / Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient 
  (A &amp;&amp; P) Œ® (op_subalgebra A P Œ± CB) Œ∂</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥ CA)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>Operation ((A &amp;&amp; P) / Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± Œ≥</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient 
  (A &amp;&amp; P) Œ® (op_subalgebra A P Œ± CB) Œ∂</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥ CA)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3d"><span class="nb">unfold</span> ComputeOpQuotient <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>Operation ((A &amp;&amp; P) / Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>ClosedUnderOp A P Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation Œ≥
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation Œ± a)</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : FamilyProd (A &amp;&amp; P) (dom_symboltype w),
ap_operation Œ∂
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
class_of (Œ® (cod_symboltype w))
  (ap_operation (op_subalgebra A P Œ± CB) a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x) Œ≥ CA)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk3e"><span class="nb">induction</span> w; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) Œ≥ (def_inc_subalgebra A P t y)}</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>P t Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ≥ = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ∂ = class_of (Œ® t) (Œ±; CB)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">def_second_isomorphism t Œ∂ = (Œ≥; CA)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk3f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk3f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra (A &amp;&amp; P) Œ® t,
OpPreserving def_second_isomorphism 
  (Œ∂ x)
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class (Œ¶ s) x0 (def_inc_subalgebra A P s y)})
     (Œ≥ (def_second_isomorphism t x).<span class="mi">1</span>)
     (CA (def_second_isomorphism t x).<span class="mi">1</span>
        (def_second_isomorphism t x).<span class="mi">2</span>))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk40">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) Œ≥ (def_inc_subalgebra A P t y)}</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>P t Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ≥ = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ∂ = class_of (Œ® t) (Œ±; CB)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">def_second_isomorphism t Œ∂ = (Œ≥; CA)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk41"><span class="nb">apply</span> path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) Œ≥ (def_inc_subalgebra A P t y)}</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>P t Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ≥ = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ∂ = class_of (Œ® t) (Œ±; CB)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(def_second_isomorphism t Œ∂).<span class="mi">1</span> = (Œ≥; CA).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk42"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) Œ≥ (def_inc_subalgebra A P t y)}</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>P t Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ≥ = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>Unit -&gt; Œ∂ = class_of (Œ® t) (Œ±; CB)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(def_second_isomorphism t Œ∂).<span class="mi">1</span> = Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk43"><span class="nb">destruct</span> (QB tt)^, (QA tt)^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span>Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) 
    (class_of (Œ¶ t) Œ±)
    (def_inc_subalgebra A P t y)}</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span>P t Œ±</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span>Unit -&gt; class_of (Œ¶ t) Œ± = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span>Unit -&gt;
class_of (Œ® t) (Œ±; CB) = class_of (Œ® t) (Œ±; CB)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(def_second_isomorphism t (class_of (Œ® t) (Œ±; CB))).<span class="mi">1</span> =
class_of (Œ¶ t) Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk44">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra (A &amp;&amp; P) Œ® t,
OpPreserving def_second_isomorphism (Œ∂ x)
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class (Œ¶ s) x0 (def_inc_subalgebra A P s y)})
     (Œ≥ (def_second_isomorphism t x).<span class="mi">1</span>)
     (CA (def_second_isomorphism t x).<span class="mi">1</span>
        (def_second_isomorphism t x).<span class="mi">2</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk45"><span class="nb">refine</span> (Quotient_ind_hprop (Œ® t) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : (A &amp;&amp; P) t,
OpPreserving def_second_isomorphism
  (Œ∂ (class_of (Œ® t) a))
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class (Œ¶ s) x (def_inc_subalgebra A P s y)})
     (Œ≥
        (def_second_isomorphism t (class_of (Œ® t) a)).<span class="mi">1</span>)
     (CA
        (def_second_isomorphism t (class_of (Œ® t) a)).<span class="mi">1</span>
        (def_second_isomorphism t (class_of (Œ® t) a)).<span class="mi">2</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk46"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_second_isomorphism
  (Œ∂ (class_of (Œ® t) x))
  (op_subalgebra (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class (Œ¶ s) x (def_inc_subalgebra A P s y)})
     (Œ≥
        (def_second_isomorphism t (class_of (Œ® t) x)).<span class="mi">1</span>)
     (CA
        (def_second_isomorphism t (class_of (Œ® t) x)).<span class="mi">1</span>
        (def_second_isomorphism t (class_of (Œ® t) x)).<span class="mi">2</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk47"><span class="nb">apply</span> (IHw (Œ± (i t x)) (Œ≥ (class_of (Œ¶ t) (i t x)))
              (Œ∂ (class_of (Œ® t) x))
              (CA (class_of (Œ¶ t) (i t x)) (tr (x; _)))
              (CB (i t x) x.<span class="mi">2</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (i t x)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (i t x)) a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk48"><hr></label><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">a</span> : FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P (Œ± (i t x)) (CB (i t x) x.<span class="mi">2</span>))
     a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk49">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (i t x)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (i t x)) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4a"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (Œ≥ (class_of (Œ¶ t) (i t x)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (i t x)) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (QA (i t x, a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">a</span> : FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P (Œ± (i t x)) (CB (i t x) x.<span class="mi">2</span>))
     a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4c"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list.notations.ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ∂</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra (A &amp;&amp; P) Œ® t -&gt;
Operation (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w</span></span></span><br><span><var>CA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
Trunc (-<span class="mi">1</span>)
  {y : carriers_subalgebra A P t &amp;
  in_class (Œ¶ t) x (def_inc_subalgebra A P t y)} -&gt;
ClosedUnderOp (A / Œ¶)
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
   (<span class="nv">x0</span> : carriers_quotient_algebra A Œ¶ s),
   Trunc (-<span class="mi">1</span>)
     {y : carriers_subalgebra A P s &amp;
     in_class (Œ¶ s) x0
       (def_inc_subalgebra A P s y)}) 
  (Œ≥ x)</span></span></span><br><span><var>CB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, P t x -&gt; ClosedUnderOp A P (Œ± x)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (Œ≥ (class_of (Œ¶ t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) 
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>QB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
<span class="nv">a</span> : carriers_subalgebra A P t *
    FamilyProd (carriers_subalgebra A P)
      (dom_symboltype w),
ap_operation (Œ∂ (class_of (Œ® t) (fst a)))
  (map_family_prod 
     (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) 
     (snd a)) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P 
        (Œ± (fst a).<span class="mi">1</span>) 
        (CB (fst a).<span class="mi">1</span> (fst a).<span class="mi">2</span>)) 
     (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≥</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ∂</span> : Operation
       (carriers_quotient_algebra (A &amp;&amp; P) Œ®) w)
(<span class="nv">CA</span> : ClosedUnderOp 
        (A / Œ¶)
        (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
         (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
         Trunc (-<span class="mi">1</span>)
           {y : 
           carriers_subalgebra A P s &amp;
           in_class 
             (Œ¶ s) x
             (def_inc_subalgebra A P s y)}) Œ≥)
(<span class="nv">CB</span> : ClosedUnderOp A P Œ±),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation Œ≥
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
(<span class="kr">forall</span>
 <span class="nv">a</span> : FamilyProd 
       (carriers_subalgebra A P)
       (dom_symboltype w),
 ap_operation Œ∂
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
 class_of (Œ® (cod_symboltype w))
   (ap_operation (op_subalgebra A P Œ± CB) a)) -&gt;
OpPreserving def_second_isomorphism Œ∂
  (op_subalgebra 
     (A / Œ¶)
     (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ)
      (<span class="nv">x</span> : carriers_quotient_algebra A Œ¶ s),
      Trunc (-<span class="mi">1</span>)
        {y : carriers_subalgebra A P s &amp;
        in_class 
          (Œ¶ s) x 
          (def_inc_subalgebra A P s y)}) Œ≥ CA)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd (carriers_subalgebra A P)
  (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (Œ∂ (class_of (Œ® t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ® s)) a) =
class_of (Œ® (cod_symboltype w))
  (ap_operation
     (op_subalgebra A P (Œ± (i t x)) (CB (i t x) x.<span class="mi">2</span>))
     a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (QB (x, a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4d">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_second_isomorphism</span>
    : IsHomomorphism def_second_isomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_second_isomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_second_isomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk4f"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_second_isomorphism u.#((A &amp;&amp; P) / Œ®)
  u.#(A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk50"><span class="nb">eapply</span> oppreserving_second_isomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-second-isomorphism-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><label class="goal-separator" for="ua-second-isomorphism-v-chk51"><hr></label><div class="goal-conclusion">ComputeOpQuotient 
  (A &amp;&amp; P) Œ® (op_subalgebra A P <span class="nl">?Œ±</span> <span class="nl">?CB</span>)
  u.#((A &amp;&amp; P) / Œ®)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk52">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (compute_op_quotient A).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk53">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient (A &amp;&amp; P) Œ®
  (op_subalgebra A P u.#A <span class="nl">?CB</span>) u.#((A &amp;&amp; P) / Œ®)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (compute_op_quotient (A&amp;&amp;P)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_second_isomorphism</span>
    : Homomorphism ((A&amp;&amp;P) / Œ®) ((A/Œ¶) &amp;&amp; Q)
    := BuildHomomorphism def_second_isomorphism.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk54">#[export] <span class="kn">Instance</span> <span class="nf">embedding_second_isomorphism</span> (<span class="nv">s</span> : Sort œÉ)
    : IsEmbedding (hom_second_isomorphism s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEmbedding (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk55"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEmbedding (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk56"><span class="nb">apply</span> isembedding_isinj_hset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInjective (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk57"><span class="nb">refine</span> (Quotient_ind_hprop (Œ® s) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : (A &amp;&amp; P) s) (<span class="nv">y</span> : ((A &amp;&amp; P) / Œ®) s),
hom_second_isomorphism s (class_of (Œ® s) a) =
hom_second_isomorphism s y -&gt; class_of (Œ® s) a = y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk58"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : ((A &amp;&amp; P) / Œ®) s,
hom_second_isomorphism s (class_of (Œ® s) x) =
hom_second_isomorphism s y -&gt; class_of (Œ® s) x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk59"><span class="nb">refine</span> (Quotient_ind_hprop (Œ® s) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : (A &amp;&amp; P) s,
hom_second_isomorphism s (class_of (Œ® s) x) =
hom_second_isomorphism s (class_of (Œ® s) a) -&gt;
class_of (Œ® s) x = class_of (Œ® s) a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5a"><span class="nb">intros</span> y p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>hom_second_isomorphism s (class_of (Œ® s) x) =
hom_second_isomorphism s (class_of (Œ® s) y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (Œ® s) x = class_of (Œ® s) y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5b"><span class="nb">apply</span> qglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>hom_second_isomorphism s (class_of (Œ® s) x) =
hom_second_isomorphism s (class_of (Œ® s) y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ® s x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (related_quotient_paths (Œ¶ s) (i s x) (i s y) (p..<span class="mi">1</span>)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5c">#[export] <span class="kn">Instance</span> <span class="nf">surjection_second_isomorphism</span> (<span class="nv">s</span> : Sort œÉ)
    : IsSurjection (hom_second_isomorphism s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5e"><span class="nb">apply</span> BuildIsSurjection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">b</span> : (A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x))
      s, merely (hfiber (hom_second_isomorphism s) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk5f"><span class="nb">intros</span> [y S].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A / Œ¶) s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (hom_second_isomorphism s) (y; S))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk60"><span class="nb">generalize dependent</span> S.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>(A / Œ¶) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">S</span> : Q s y,
merely (hfiber (hom_second_isomorphism s) (y; S))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk61"><span class="nb">generalize dependent</span> y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">y</span> : (A / Œ¶) s) (<span class="nv">S</span> : Q s y),
merely (hfiber (hom_second_isomorphism s) (y; S))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk62"><span class="nb">refine</span> (Quotient_ind_hprop (Œ¶ s) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A s) (<span class="nv">S</span> : Q s (class_of (Œ¶ s) a)),
merely
  (hfiber (hom_second_isomorphism s)
     (class_of (Œ¶ s) a; S))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk63"><span class="nb">intros</span> y S.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  (hfiber (hom_second_isomorphism s)
     (class_of (Œ¶ s) y; S))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk64"><span class="nb">refine</span> (Trunc_rec _ S).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{y0 : (A &amp;&amp; P) s &amp;
in_class (Œ¶ s) (class_of (Œ¶ s) y) (i s y0)} -&gt;
merely
  (hfiber (hom_second_isomorphism s)
     (class_of (Œ¶ s) y; S))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk65"><span class="nb">intros</span> [y&#39; S&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br><span><var>y'</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>S'</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ s) (class_of (Œ¶ s) y) (i s y&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  (hfiber (hom_second_isomorphism s)
     (class_of (Œ¶ s) y; S))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk66"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br><span><var>y'</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>S'</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ s) (class_of (Œ¶ s) y) (i s y&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (hom_second_isomorphism s)
  (class_of (Œ¶ s) y; S)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk67"><span class="kr">exists</span> (<span class="nv">class_of</span> <span class="nv">_</span> <span class="nv">y&#39;</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br><span><var>y'</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>S'</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ s) (class_of (Œ¶ s) y) (i s y&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hom_second_isomorphism s (class_of (Œ® s) y&#39;) =
(class_of (Œ¶ s) y; S)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk68"><span class="nb">apply</span> path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>Q s (class_of (Œ¶ s) y)</span></span></span><br><span><var>y'</var><span class="hyp-type"><b>: </b><span>(A &amp;&amp; P) s</span></span></span><br><span><var>S'</var><span class="hyp-type"><b>: </b><span>in_class (Œ¶ s) (class_of (Œ¶ s) y) (i s y&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(hom_second_isomorphism s (class_of (Œ® s) y&#39;)).<span class="mi">1</span> =
(class_of (Œ¶ s) y; S).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk69"><span class="kn">Theorem</span> <span class="nf">is_isomorphism_second_isomorphism</span>
    : IsIsomorphism hom_second_isomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism hom_second_isomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism hom_second_isomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6b"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (hom_second_isomorphism s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> isequiv_surj_emb; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Existing Instance</span> <span class="nf">is_isomorphism_second_isomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6c"><span class="kn">Theorem</span> <span class="nf">isomorphic_second_isomorphism</span> : (A&amp;&amp;P) / Œ® ‚âÖ (A/Œ¶) &amp;&amp; Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &amp;&amp; P) / Œ®
‚âÖ A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &amp;&amp; P) / Œ®
‚âÖ A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (BuildIsomorphic def_second_isomorphism).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6e"><span class="kn">Corollary</span> <span class="nf">id_second_isomorphism</span> : (A&amp;&amp;P) / Œ® = (A/Œ¶) &amp;&amp; Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &amp;&amp; P) / Œ® =
A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-second-isomorphism-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-second-isomorphism-v-chk6f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsSubalgebraPredicate0</var><span class="hyp-type"><b>: </b><span>IsSubalgebraPredicate A P</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &amp;&amp; P) / Œ® =
A / Œ¶ &amp;&amp; (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : (A / Œ¶) s), Q s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (id_isomorphic isomorphic_second_isomorphism).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">second_isomorphism</span>.</span></span></pre>
</div>
</div></body>
</html>
