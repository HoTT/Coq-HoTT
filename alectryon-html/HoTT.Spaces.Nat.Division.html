<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Division.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Tactics Basics.Trunc Basics.Classes
  Basics.PathGroupoids Basics.Equivalences Types.Sigma Spaces.Nat.Core
  Basics.Decidable Basics.Iff Types.Prod List.Theory Types.Sum Types.Arrow.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Set Universe Minimization ToSet</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Division of natural numbers *)</span>

<span class="sd">(** ** Divisibility *)</span>

<span class="sd">(** We define divisibility as a relation between natural numbers. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">NatDivides</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) : Type0 := nat_divides : {k : nat &amp; k * n = m}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;( n | m )&quot;</span> := (NatDivides n m) : nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Any number divides [0]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_zero_r</span> <span class="nv">n</span> : (n | <span class="mi">0</span>)
  := (<span class="mi">0</span>; idpath).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [1] divides any number. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_one_l</span> <span class="nv">n</span> : (<span class="mi">1</span> | n)
  := (n; nat_mul_one_r _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Any number divides itself. Divisibility is a reflexive relation. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_refl</span> <span class="nv">n</span> : (n | n)
  := (<span class="mi">1</span>; nat_mul_one_l _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">reflexive_nat_divides</span> : Reflexive NatDivides := nat_divides_refl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility is transitive. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1"><span class="kn">Definition</span> <span class="nf">nat_divides_trans</span> {<span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span>} : (n | m) -&gt; (m | l) -&gt; (n | l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (m | l) -&gt; (n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (m | l) -&gt; (n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3"><span class="nb">intros</span> [x p] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * m = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4"><span class="kr">exists</span> (<span class="nv">y</span> * x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * m = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * x * n = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5">lhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * m = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * (x * n) = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6">lhs napply (ap _ p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * m = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * m = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Hint Immediate</span> nat_divides_trans : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">transitive_nat_divides</span> : Transitive NatDivides := @nat_divides_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A left factor divides a product. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_mul_l&#39;</span> <span class="nv">n</span> <span class="nv">m</span> : (n | n * m)
  := (m; nat_mul_comm _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A right factor divides a product. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_mul_r&#39;</span> <span class="nv">n</span> <span class="nv">m</span> : (m | n * m)
  := (n; idpath).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility of the product is implied by divisibility of the left factor. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_mul_l</span> {<span class="nv">n</span> <span class="nv">m</span>} <span class="nv">l</span> : (n | m) -&gt; (n | m * l)
  := <span class="kr">fun</span> <span class="nv">H</span> =&gt; nat_divides_trans _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility of the product is implied by divisibility of the right factor. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_mul_r</span> {<span class="nv">n</span> <span class="nv">m</span>} <span class="nv">l</span> : (n | m) -&gt; (n | l * m)
  := <span class="kr">fun</span> <span class="nv">H</span> =&gt; nat_divides_trans _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplication is monotone with respect to divisibility. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7"><span class="kn">Instance</span> <span class="nf">nat_divides_mul_monotone</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span> <span class="nv">p</span>
  : (n | m) -&gt; (l | p) -&gt; (n * l | m * p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (l | p) -&gt; (n * l | m * p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (l | p) -&gt; (n * l | m * p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9"><span class="nb">intros</span> [x r] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, p, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * l = p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * l | m * p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka"><span class="kr">exists</span> (<span class="nv">x</span> * y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, p, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * l = p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (n * l) = m * p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb"><span class="nb">destruct</span> r, q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (n * l) = x * n * (y * l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc">lhs napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * n * l = x * n * (y * l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd">rhs napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * n * l = x * n * y * l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke">napply (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; nat_mul x _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * n = x * n * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf">lhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * n) = x * n * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10">rhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * n) = x * (n * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11">napply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, l, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * n = n * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_mul_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility of the sum is implied by divisibility of the summands. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12"><span class="kn">Instance</span> <span class="nf">nat_divides_add</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span> : (n | m) -&gt; (n | l) -&gt; (n | m + l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | l) -&gt; (n | m + l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | l) -&gt; (n | m + l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14"><span class="nb">intros</span> [x p] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m + l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15"><span class="kr">exists</span> (<span class="nv">x</span> + y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y) * n = m + l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk16"><span class="nb">destruct</span> p, q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y) * n = x * n + y * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_dist_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [n] divides a sum and the left summand, then [n] divides the right summand. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17"><span class="kn">Definition</span> <span class="nf">nat_divides_add_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span> : (n | m) -&gt; (n | m + l) -&gt; (n | l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | m + l) -&gt; (n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | m + l) -&gt; (n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19"><span class="nb">intros</span> [x p] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a"><span class="kr">exists</span> (<span class="nv">y</span> - x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y - x) * n = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b">lhs napply nat_dist_sub_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * n - x * n = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c"><span class="nb">apply</span> nat_moveR_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * n = l + x * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d">lhs <span class="bp">exact</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + l = l + x * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e">lhs napply nat_add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m + l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l + m = l + x * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ p^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [n] divides a sum and the right summand, then [n] divides the left summand. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f"><span class="kn">Definition</span> <span class="nf">nat_divides_add_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span> : (n | l) -&gt; (n | m + l) -&gt; (n | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | l) -&gt; (n | m + l) -&gt; (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | l) -&gt; (n | m + l) -&gt; (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> nat_add_comm; <span class="nb">apply</span> nat_divides_add_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility of the difference is implied by divisibility of the minuend and subtrahend. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21"><span class="kn">Instance</span> <span class="nf">nat_divides_sub</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span> : (n | m) -&gt; (n | l) -&gt; (n | m - l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | l) -&gt; (n | m - l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (n | l) -&gt; (n | m - l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23"><span class="nb">intros</span> [x p] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m - l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24"><span class="kr">exists</span> (<span class="nv">x</span> - y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x - y) * n = m - l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk25"><span class="nb">destruct</span> p, q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x - y) * n = x * n - y * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_dist_sub_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The divisor is greater than zero when the number being divided is greater than zero. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26"><span class="kn">Definition</span> <span class="nf">gt_zero_divides</span> <span class="nv">n</span> <span class="nv">m</span> (<span class="nv">d</span> : (n | m)) (<span class="nv">gt0</span> : <span class="mi">0</span> &lt; m)
  : <span class="mi">0</span> &lt; n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk28"><span class="nb">destruct</span> d <span class="kr">as</span> [d H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>d * n = m</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk29"><span class="nb">destruct</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; d * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a"><span class="nb">destruct</span> (nat_zero_or_gt_zero n) <span class="kr">as</span> [z | s].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; d * n</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; d * n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><label class="goal-separator" for="division-v-chk2b"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c"><span class="mi">2</span>: <span class="bp">exact</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; d * n</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* The remaining case is impossible. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d"><span class="nb">destruct</span> z; <span class="nb">cbn</span> <span class="kr">in</span> gt0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; d * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e"><span class="nb">rewrite</span> nat_mul_zero_r <span class="kr">in</span> gt0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> gt0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility implies that the divisor is less than or equal to the dividend. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f"><span class="kn">Definition</span> <span class="nf">leq_divides</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; m -&gt; (n | m) -&gt; n &lt;= m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n | m) -&gt; n &lt;= m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n | m) -&gt; n &lt;= m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk31"><span class="nb">intros</span> H1 [x p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk32"><span class="nb">destruct</span> p, x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; <span class="mi">0</span> * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= <span class="mi">0</span> * n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; x.+<span class="mi">1</span> * n</span></span></span><br></div><label class="goal-separator" for="division-v-chk33"><hr></label><div class="goal-conclusion">n &lt;= x.+<span class="mi">1</span> * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34"><span class="mi">1</span>: <span class="bp">contradiction</span> (not_lt_zero_r _ H1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; x.+<span class="mi">1</span> * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= x.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (leq_mul_l _ _ <span class="mi">0</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The divisor is strictly less than the dividend when the other factor is greater than one. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk35"><span class="kn">Definition</span> <span class="nf">lt_divides</span> <span class="nv">n</span> <span class="nv">m</span> (<span class="nv">d</span> : (n | m)) (<span class="nv">gt0</span> : <span class="mi">0</span> &lt; m) (<span class="nv">gt1</span> : <span class="mi">1</span> &lt; d.<span class="mi">1</span>)
  : n &lt; m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk37"><span class="nb">rewrite</span> &lt;- d.<span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; d.<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk38">snapply (lt_leq_lt_trans (m:=<span class="mi">1</span>*n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= <span class="mi">1</span> * n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk39"><hr></label><div class="goal-conclusion"><span class="mi">1</span> * n &lt; d.<span class="mi">1</span> * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3a"><span class="mi">1</span>: rapply (leq_mul_l _ _ <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * n &lt; d.<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3b">srapply (nat_mul_r_strictly_monotone (l:=<span class="mi">0</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>gt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>gt1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (gt_zero_divides n m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility is antisymmetric *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3c"><span class="kn">Definition</span> <span class="nf">nat_divides_antisym</span> <span class="nv">n</span> <span class="nv">m</span> : (n | m) -&gt; (m | n) -&gt; n = m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (m | n) -&gt; n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; (m | n) -&gt; n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3e"><span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk3f"><span class="nb">destruct</span> m; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> (H2.<span class="mi">2</span>^ @ nat_mul_zero_r _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | m.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m.+<span class="mi">1</span> | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk40"><span class="nb">destruct</span> n; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> ((nat_mul_zero_r _)^ @ H1.<span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n.+<span class="mi">1</span> | m.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m.+<span class="mi">1</span> | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> = m.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">snapply leq_antisym; napply leq_divides; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">antisymmetric_divides</span> : AntiSymmetric NatDivides
  := nat_divides_antisym.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [n] divides [m], then the other factor also divides [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk41"><span class="kn">Instance</span> <span class="nf">divides_divisor</span> <span class="nv">n</span> <span class="nv">m</span> (<span class="nv">H</span> : (n | m)) : (H.<span class="mi">1</span> | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(H.<span class="mi">1</span> | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(H.<span class="mi">1</span> | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk43"><span class="kr">exists</span> <span class="nv">n</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * H.<span class="mi">1</span> = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk44">lhs napply nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(n | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">H.<span class="mi">1</span> * n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Properties of division *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk45"><span class="kn">Local Definition</span> <span class="nf">nat_div_mod_unique_helper</span> <span class="nv">b</span> <span class="nv">q1</span> <span class="nv">q2</span> <span class="nv">r1</span> <span class="nv">r2</span>
  : r1 &lt; b -&gt; r2 &lt; b -&gt; q1 &lt; q2 -&gt; b * q1 + r1 &lt;&gt; b * q2 + r2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 &lt; b -&gt;
r2 &lt; b -&gt; q1 &lt; q2 -&gt; b * q1 + r1 &lt;&gt; b * q2 + r2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 &lt; b -&gt;
r2 &lt; b -&gt; q1 &lt; q2 -&gt; b * q1 + r1 &lt;&gt; b * q2 + r2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk47"><span class="nb">intros</span> H1 H2 H3 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>b * q1 + r1 = b * q2 + r2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk48"><span class="nb">rewrite</span> <span class="mi">2</span> (nat_add_comm (b * _)) <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 + b * q1 = r2 + b * q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk49"><span class="nb">apply</span> nat_moveL_nV <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 = r2 + b * q2 - b * q1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4a"><span class="nb">rewrite</span> nat_sub_l_add_r <span class="kr">in</span> p; <span class="kp">only</span> <span class="mi">2</span>: rapply nat_mul_l_monotone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 = r2 + (b * q2 - b * q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4b"><span class="nb">rewrite</span> &lt;- nat_dist_sub_l <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 = r2 + b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4c"><span class="nb">rewrite</span> nat_add_comm <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 = b * (q2 - q1) + r2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4d"><span class="nb">apply</span> nat_moveR_nV <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk4e">napply (snd (@leq_iff_not_gt b (r1 - r2))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b &lt;= r1 - r2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><label class="goal-separator" for="division-v-chk4f"><hr></label><div class="goal-conclusion">b &gt; r1 - r2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk50"><span class="mi">2</span>: <span class="bp">exact</span> (lt_leq_lt_trans _ H1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b &lt;= r1 - r2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk51"><span class="nb">rewrite</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b &lt;= b * (q2 - q1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk52">snapply (leq_mul_r _ _ <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; b</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; b</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>r1 - r2 = b * (q2 - q1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; q2 - q1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equiv_lt_lt_sub.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Quotients and remainders are uniquely determined. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk53"><span class="kn">Definition</span> <span class="nf">nat_div_mod_unique</span> <span class="nv">d</span> <span class="nv">q1</span> <span class="nv">q2</span> <span class="nv">r1</span> <span class="nv">r2</span>
  : r1 &lt; d -&gt; r2 &lt; d -&gt; d * q1 + r1 = d * q2 + r2
    -&gt; q1 = q2 /\ r1 = r2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 &lt; d -&gt;
r2 &lt; d -&gt;
d * q1 + r1 = d * q2 + r2 -&gt; (q1 = q2) * (r1 = r2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk54"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 &lt; d -&gt;
r2 &lt; d -&gt;
d * q1 + r1 = d * q2 + r2 -&gt; (q1 = q2) * (r1 = r2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk55"><span class="nb">intros</span> H1 H2 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk56"><span class="nb">destruct</span> (nat_trichotomy q1 q2) <span class="kr">as</span> [[q | q] | q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 = q2</span></span></span><br></div><label class="goal-separator" for="division-v-chk57"><hr></label><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote><input class="alectryon-extra-goal-toggle" id="division-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 &gt; q2</span></span></span><br></div><label class="goal-separator" for="division-v-chk58"><hr></label><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 &lt; q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> (nat_div_mod_unique_helper d q1 q2 r1 r2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 = q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5b"><span class="nb">split</span>; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 = q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 = r2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5c"><span class="nb">destruct</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q1 + r2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r1 = r2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isinj_nat_add_l <span class="kr">in</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, q1, q2, r1, r2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>r1 &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>r2 &lt; d</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d * q1 + r1 = d * q2 + r2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>q1 &gt; q2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((q1 = q2) * (r1 = r2))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradiction</span> (nat_div_mod_unique_helper d q2 q1 r2 r1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility by a positive natural number is a hprop. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5e"><span class="kn">Instance</span> <span class="nf">ishprop_nat_divides</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; n -&gt; IsHProp (n | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; IsHProp (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; IsHProp (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk60"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk61"><span class="nb">apply</span> hprop_allpath.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : (n | m), x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk62"><span class="nb">intros</span> [x p] [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x; p) = (y; q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk63">rapply path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x; p).<span class="mi">1</span> = (y; q).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk64"><span class="nb">destruct</span> H <span class="kr">as</span> [|n]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * <span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk65" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><label class="goal-separator" for="division-v-chk65"><hr></label><div class="goal-conclusion">x = y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk66"><span class="mi">1</span>: <span class="bp">exact</span> ((nat_mul_one_r _)^ @ p @ q^ @ nat_mul_one_r _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk67"><span class="nb">refine</span> (fst (nat_div_mod_unique n.+<span class="mi">1</span> x y <span class="mi">0</span> <span class="mi">0</span> _ _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * x + <span class="mi">0</span> = n.+<span class="mi">1</span> * y + <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk68">lhs napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * x = n.+<span class="mi">1</span> * y + <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk69">rhs napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * x = n.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6a"><span class="nb">rewrite</span> <span class="mi">2</span> (nat_mul_comm n.+<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * n.+<span class="mi">1</span> = m</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n.+<span class="mi">1</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * n.+<span class="mi">1</span> = y * n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p @ q^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This specifies the behaviour of [nat_div_mod_helper] when [u &lt;= y]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6b"><span class="kn">Definition</span> <span class="nf">nat_div_mod_helper_spec</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> (<span class="nv">H</span> : u &lt;= y)
  : <span class="kr">let</span> (<span class="nv">q&#39;</span>, u&#39;) := nat_div_mod x y q u <span class="kr">in</span>
     x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * q&#39; + (y - u&#39;) /\ u&#39; &lt;= y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">q&#39;</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">u&#39;</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(((x + y.+<span class="mi">1</span> * q + (y - u))%nat =
  (y.+<span class="mi">1</span> * q&#39; + (y - u&#39;))%nat) * (u&#39; &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">q&#39;</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">u&#39;</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(((x + y.+<span class="mi">1</span> * q + (y - u))%nat =
  (y.+<span class="mi">1</span> * q&#39; + (y - u&#39;))%nat) * (u&#39; &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6d"><span class="nb">intros</span> d r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x y q u)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x y q u)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x + y.+<span class="mi">1</span> * q + (y - u))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6e"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx] <span class="kr">in</span> y, q, u, H, d, r |- *; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">by</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - u))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk6f"><span class="nb">destruct</span> u <span class="kr">as</span> [|u].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - <span class="mi">0</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br></div><label class="goal-separator" for="division-v-chk70"><hr></label><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - u.+<span class="mi">1</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk71">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - <span class="mi">0</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk72"><span class="nb">destruct</span> (IHx y q.+<span class="mi">1</span> y _) <span class="kr">as</span> [p H&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q.+<span class="mi">1</span> + (y - y) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q.+<span class="mi">1</span> y) +
(y - snd (nat_div_mod x y q.+<span class="mi">1</span> y))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q.+<span class="mi">1</span> y) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - <span class="mi">0</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk73"><span class="nb">split</span>; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q.+<span class="mi">1</span> + (y - y) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q.+<span class="mi">1</span> y) +
(y - snd (nat_div_mod x y q.+<span class="mi">1</span> y))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q.+<span class="mi">1</span> y) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - <span class="mi">0</span>) = y.+<span class="mi">1</span> * d + (y - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk74"><span class="nb">rewrite</span> &lt;- p, nat_sub_zero_r, nat_sub_cancel, nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q.+<span class="mi">1</span> + (y - y) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q.+<span class="mi">1</span> y) +
(y - snd (nat_div_mod x y q.+<span class="mi">1</span> y))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q.+<span class="mi">1</span> y) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + y = x + y.+<span class="mi">1</span> * q.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk75"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q.+<span class="mi">1</span> + (y - y) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q.+<span class="mi">1</span> y) +
(y - snd (nat_div_mod x y q.+<span class="mi">1</span> y))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q.+<span class="mi">1</span> y) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + (q + y * q) + y).+<span class="mi">1</span> = x + (q + y * q.+<span class="mi">1</span>).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_add_succ_r, &lt;- <span class="mi">2</span> nat_add_assoc, nat_mul_succ_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - u.+<span class="mi">1</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk77"><span class="nb">destruct</span> (IHx y q u _) <span class="kr">as</span> [p H&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - u.+<span class="mi">1</span>))%nat =
  (y.+<span class="mi">1</span> * d + (y - r))%nat) * (r &lt;= y))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk78"><span class="nb">split</span>; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y.+<span class="mi">1</span> * q + (y - u.+<span class="mi">1</span>) = y.+<span class="mi">1</span> * d + (y - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk79"><span class="nb">rewrite</span> &lt;- p, <span class="mi">2</span> nat_add_succ_l, &lt;- nat_add_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> * q + (y - u.+<span class="mi">1</span>).+<span class="mi">1</span> = x + y.+<span class="mi">1</span> * q + (y - u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7a">snapply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y - u.+<span class="mi">1</span>).+<span class="mi">1</span> = y - u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7b"><span class="nb">rewrite</span> nat_sub_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_pred (y - u)).+<span class="mi">1</span> = y - u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7c"><span class="nb">apply</span> nat_succ_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, q, u</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>u.+<span class="mi">1</span> &lt;= y</span></span></span><br><span><var>d</var><span><span class="hyp-body"><b>:= </b><span>fst (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>snd (nat_div_mod x.+<span class="mi">1</span> y q u.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">u</span> : nat,
u &lt;= y -&gt;
<span class="kr">let</span> <span class="nv">d</span> := fst (nat_div_mod x y q u) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">r</span> := snd (nat_div_mod x y q u) <span class="kr">in</span>
(x + y.+<span class="mi">1</span> * q + (y - u) = y.+<span class="mi">1</span> * d + (y - r)) * (r &lt;= y)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * q + (y - u) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y q u) +
(y - snd (nat_div_mod x y q u))</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>snd (nat_div_mod x y q u) &lt;= y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; y - u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">rapply lt_moveL_nV.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Division and modulo can be put in quotient-remainder form. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7d"><span class="kn">Definition</span> <span class="nf">nat_div_mod_spec</span> <span class="nv">x</span> <span class="nv">y</span> : x = y * (x / y) + x mod y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y * (x / y) + x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y * (x / y) + x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk7f"><span class="nb">destruct</span> y <span class="kr">as</span> [|y]; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y.+<span class="mi">1</span> * (x / y.+<span class="mi">1</span>) + x mod y.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk80"><span class="nb">pose proof</span> (p := fst (nat_div_mod_helper_spec x y <span class="mi">0</span> y _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y.+<span class="mi">1</span> * <span class="mi">0</span> + (y - y) =
y.+<span class="mi">1</span> * fst (nat_div_mod x y <span class="mi">0</span> y) +
(y - snd (nat_div_mod x y <span class="mi">0</span> y))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y.+<span class="mi">1</span> * (x / y.+<span class="mi">1</span>) + x mod y.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r, nat_sub_cancel, <span class="mi">2</span> nat_add_zero_r <span class="kr">in</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk81"><span class="kn">Definition</span> <span class="nf">nat_div_mod_spec&#39;</span> <span class="nv">x</span> <span class="nv">y</span> : x - y * (x / y) = x mod y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - y * (x / y) = x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk82"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - y * (x / y) = x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk83"><span class="nb">apply</span> nat_moveR_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = x mod y + y * (x / y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk84">rhs napply nat_add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y * (x / y) + x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk85"><span class="kn">Definition</span> <span class="nf">nat_div_mod_spec&#39;&#39;</span> <span class="nv">x</span> <span class="nv">y</span> : x - x mod y = y * (x / y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - x mod y = y * (x / y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk86"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - x mod y = y * (x / y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk87"><span class="nb">apply</span> nat_moveR_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y * (x / y) + x mod y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk88"><span class="kn">Definition</span> <span class="nf">nat_mod_lt_r&#39;</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">r</span> : r &lt; m -&gt; n mod m &lt; m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, r</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r &lt; m -&gt; n mod m &lt; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk89"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, r</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r &lt; m -&gt; n mod m &lt; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8a"><span class="nb">intros</span> H; <span class="nb">destruct</span> H; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, r, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r.+<span class="mi">1</span> &lt;= m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m.+<span class="mi">1</span> &lt; m.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (lt_leq_lt_trans (m:=m)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Hint Immediate</span> nat_mod_lt_r&#39; : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] modulo [m] is less than [m]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_mod_lt_r</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; m -&gt; n mod m &lt; m
  := nat_mod_lt_r&#39; n m <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] modulo [m] is less than or equal to [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8b"><span class="kn">Instance</span> <span class="nf">nat_mod_leq_l</span> <span class="nv">n</span> <span class="nv">m</span> : n mod m &lt;= n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8d"><span class="nb">rewrite</span> &lt;- nat_div_mod_spec&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n - m * (n / m) &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply leq_moveR_nV.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Division is unique. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_div_unique</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">r</span> (<span class="nv">H</span> : r &lt; y) (<span class="nv">p</span> : y * q + r = x) : x / y = q
  := fst (nat_div_mod_unique y (x / y) q (x mod y) r _ _ (p @ nat_div_mod_spec x y)^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Modulo is unique. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_mod_unique</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">q</span> <span class="nv">r</span> (<span class="nv">H</span> : r &lt; y) (<span class="nv">p</span> : y * q + r = x) : x mod y = r
  := snd (nat_div_mod_unique y (x / y) q (x mod y) r _ _ (p @ nat_div_mod_spec x y)^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [0] divided by any number is [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8e"><span class="kn">Definition</span> <span class="nf">nat_div_zero_l</span> <span class="nv">n</span> : <span class="mi">0</span> / n = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> / n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk8f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> / n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] divided by [0] is [0] by convention. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_div_zero_r</span> <span class="nv">n</span> : n / <span class="mi">0</span> = <span class="mi">0</span> := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] divided by [1] is [n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk90"><span class="kn">Definition</span> <span class="nf">nat_div_one_r</span> <span class="nv">n</span> : n / <span class="mi">1</span> = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / <span class="mi">1</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk91"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / <span class="mi">1</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk92">lhs_V napply nat_mul_one_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * (n / <span class="mi">1</span>) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk93">lhs_V napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * (n / <span class="mi">1</span>) + <span class="mi">0</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] divided by [n] is [1]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk94"><span class="kn">Definition</span> <span class="nf">nat_div_cancel</span> <span class="nv">n</span> : <span class="mi">0</span> &lt; n -&gt; n / n = <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; n / n = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk95"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; n / n = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk96"><span class="nb">intros</span> [|m _]; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m.+<span class="mi">1</span> / m.+<span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk97">napply (nat_div_unique _ _ _ <span class="mi">0</span>); <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m.+<span class="mi">1</span> * <span class="mi">1</span> + <span class="mi">0</span> = m.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk98">lhs napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m.+<span class="mi">1</span> * <span class="mi">1</span> = m.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_mul_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A number divided by a larger number is 0. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk99"><span class="kn">Definition</span> <span class="nf">nat_div_lt</span> <span class="nv">n</span> <span class="nv">m</span> : n &lt; m -&gt; n / m = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; m -&gt; n / m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; m -&gt; n / m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9b"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9c">snapply (nat_div_unique _ _ _ _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * <span class="mi">0</span> + n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r, nat_add_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n * m] divided by [n] is [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9d"><span class="kn">Definition</span> <span class="nf">nat_div_mul_cancel_l</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; n -&gt; (n * m) / n = m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; (n * m) / n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; (n * m) / n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk9f"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m) / n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka0">napply (nat_div_unique _ _ _ _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * m + <span class="mi">0</span> = n * m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_add_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n * m] divided by [n] is [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka1"><span class="kn">Definition</span> <span class="nf">nat_div_mul_cancel_r</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; m -&gt; (n * m) / m = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n * m) / m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n * m) / m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka3"><span class="nb">rewrite</span> nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (m * n) / m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_div_mul_cancel_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** More generally, [n * m + k] divided by [n] is [m + k / n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka4"><span class="kn">Definition</span> <span class="nf">nat_div_mul_add_cancel_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; n -&gt; (n * m + k) / n = m + k / n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; (n * m + k) / n = m + k / n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; (n * m + k) / n = m + k / n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka6"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m + k) / n = m + k / n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka7">rapply (nat_div_unique _ _ _ (k mod n) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (m + k / n) + k mod n = n * m + k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka8"><span class="nb">rewrite</span> nat_dist_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * m + n * (k / n) + k mod n = n * m + k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chka9">lhs_V napply nat_add_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * m + (n * (k / n) + k mod n) = n * m + k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkaa">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (k / n) + k mod n = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkab"><span class="kn">Definition</span> <span class="nf">nat_div_mul_add_cancel_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; m -&gt; (n * m + k) / m = n + k / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n * m + k) / m = n + k / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (n * m + k) / m = n + k / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkad"><span class="nb">rewrite</span> nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (m * n + k) / m = n + k / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_div_mul_add_cancel_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [k] is positive, then multiplication on the left is injective; that is, if [k * m = k * n], then [m = n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkae"><span class="kn">Definition</span> <span class="nf">isinj_nat_mul_l</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; k -&gt; IsInjective (nat_mul k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; IsInjective (nat_mul k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkaf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; IsInjective (nat_mul k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb0"><span class="nb">intros</span> kp m n p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * m = k * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb1">lhs_V rapply (nat_div_mul_cancel_l k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * m = k * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * m) / k = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb2">rhs_V rapply (nat_div_mul_cancel_l k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * m = k * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * m) / k = (k * n) / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x / k) p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [k] is positive, then multiplication on the right is injective; that is, if [m * k = n * k], then [m = n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb3"><span class="kn">Definition</span> <span class="nf">isinj_nat_mul_r</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; k -&gt; IsInjective (<span class="kr">fun</span> <span class="nv">n</span> =&gt; nat_mul n k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; IsInjective (<span class="kr">fun</span> <span class="nv">n</span> : nat =&gt; n * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; IsInjective (<span class="kr">fun</span> <span class="nv">n</span> : nat =&gt; n * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb5"><span class="nb">intros</span> kp m n p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m * k = n * k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb6">lhs_V rapply (nat_div_mul_cancel_r _ k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m * k = n * k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k) / k = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb7">rhs_V rapply (nat_div_mul_cancel_r _ k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m * k = n * k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k) / k = (n * k) / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x / k) p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When [d] divides one of the summands, division distributes over addition. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb8"><span class="kn">Definition</span> <span class="nf">nat_div_dist</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">d</span>
  : (d | n) -&gt; (n + m) / d = n / d + m / d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d | n) -&gt; (n + m) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkb9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d | n) -&gt; (n + m) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkba"><span class="nb">destruct</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> | n) -&gt; (n + m) / <span class="mi">0</span> = n / <span class="mi">0</span> + m / <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chkbb"><hr></label><div class="goal-conclusion">(d.+<span class="mi">1</span> | n) -&gt; (n + m) / d.+<span class="mi">1</span> = n / d.+<span class="mi">1</span> + m / d.+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkbc"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d.+<span class="mi">1</span> | n) -&gt; (n + m) / d.+<span class="mi">1</span> = n / d.+<span class="mi">1</span> + m / d.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkbd"><span class="nb">intros</span> [x []].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * d.+<span class="mi">1</span> + m) / d.+<span class="mi">1</span> = (x * d.+<span class="mi">1</span>) / d.+<span class="mi">1</span> + m / d.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkbe"><span class="nb">rewrite</span> nat_div_mul_cancel_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * d.+<span class="mi">1</span> + m) / d.+<span class="mi">1</span> = x + m / d.+<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chkbf"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; d.+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc0"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * d.+<span class="mi">1</span> + m) / d.+<span class="mi">1</span> = x + m / d.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_mul_add_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc1"><span class="kn">Definition</span> <span class="nf">nat_div_dist&#39;</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">d</span>
  : (d | m) -&gt; (n + m) / d = n / d + m / d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d | m) -&gt; (n + m) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d | m) -&gt; (n + m) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc3"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(d | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n + m) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc4"><span class="nb">rewrite</span> (nat_add_comm n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(d | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m + n) / d = n / d + m / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc5">rhs_V napply nat_add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(d | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m + n) / d = m / d + n / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_dist.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** In general, [n * (m / n)] is less than or equal to [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc6"><span class="kn">Definition</span> <span class="nf">nat_leq_mul_div_l</span> <span class="nv">n</span> <span class="nv">m</span>
  : n * (m / n) &lt;= m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (m / n) &lt;= m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (m / n) &lt;= m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc8"><span class="nb">set</span> (tmp := n * (m / n));
    <span class="nb">rewrite</span> (nat_div_mod_spec m n);
    <span class="nb">unfold</span> tmp; <span class="nb">clear</span> tmp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (m / n) &lt;= n * (m / n) + m mod n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When [n] divides [m], they are equal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkc9"><span class="kn">Definition</span> <span class="nf">nat_mul_div_cancel_r</span> <span class="nv">n</span> <span class="nv">m</span>
  : (n | m) -&gt; (m / n) * n = m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; m / n * n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkca"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; m / n * n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkcb"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> | m) -&gt; m / <span class="mi">0</span> * <span class="mi">0</span> = m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkcc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chkcc"><hr></label><div class="goal-conclusion">(n.+<span class="mi">1</span> | m) -&gt; m / n.+<span class="mi">1</span> * n.+<span class="mi">1</span> = m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkcd">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> | m) -&gt; m / <span class="mi">0</span> * <span class="mi">0</span> = m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkce"><span class="nb">intros</span> [k []].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * <span class="mi">0</span>) / <span class="mi">0</span> * <span class="mi">0</span> = k * <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkcf"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = k * <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_mul_zero_r.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n.+<span class="mi">1</span> | m) -&gt; m / n.+<span class="mi">1</span> * n.+<span class="mi">1</span> = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd1"><span class="nb">intros</span> [k []].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n.+<span class="mi">1</span>) / n.+<span class="mi">1</span> * n.+<span class="mi">1</span> = k * n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd2">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n.+<span class="mi">1</span>) / n.+<span class="mi">1</span> = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_mul_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd3"><span class="kn">Definition</span> <span class="nf">nat_mul_div_cancel_l</span> <span class="nv">n</span> <span class="nv">m</span>
  : (n | m) -&gt; n * (m / n) = m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; n * (m / n) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; n * (m / n) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd5"><span class="nb">rewrite</span> nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m) -&gt; m / n * n = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_mul_div_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Division by non-zero [k] is strictly monotone if [k] divides the larger number. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd6"><span class="kn">Definition</span> <span class="nf">nat_div_strictly_monotone_r</span> {<span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span>} <span class="nv">k</span>
  : l &lt; k -&gt; n &lt; m -&gt; (k | m) -&gt; n / k &lt; m / k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l &lt; k -&gt; n &lt; m -&gt; (k | m) -&gt; n / k &lt; m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l &lt; k -&gt; n &lt; m -&gt; (k | m) -&gt; n / k &lt; m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd8"><span class="nb">intros</span> lk nm km.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / k &lt; m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkd9"><span class="nb">apply</span> gt_iff_not_leq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (m / k &lt;= n / k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkda"><span class="nb">intro</span> mknk.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkdb"><span class="nb">apply</span> (@gt_iff_not_leq m n); <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> nm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkdc"><span class="nb">rewrite</span> &lt;- (nat_mul_div_cancel_l k m km).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m / k) &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkdd">napply (leq_trans (y:=k * (n / k))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m / k) &lt;= k * (n / k)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkde" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><label class="goal-separator" for="division-v-chkde"><hr></label><div class="goal-conclusion">k * (n / k) &lt;= n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkdf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m / k) &lt;= k * (n / k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_mul_l_monotone.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lk</var><span class="hyp-type"><b>: </b><span>l &lt; k</span></span></span><br><span><var>nm</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br><span><var>km</var><span class="hyp-type"><b>: </b><span>(k | m)</span></span></span><br><span><var>mknk</var><span class="hyp-type"><b>: </b><span>m / k &lt;= n / k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / k) &lt;= n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_leq_mul_div_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [0] modulo [n] is [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke1"><span class="kn">Definition</span> <span class="nf">nat_mod_zero_l</span> <span class="nv">n</span> : <span class="mi">0</span> mod n = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> mod n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> mod n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke3"><span class="nb">induction</span> n; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> mod n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> mod n.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_sub_cancel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] modulo [0] is [n]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_mod_zero_r</span> <span class="nv">n</span> : n mod <span class="mi">0</span> = n := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke4"><span class="kn">Definition</span> <span class="nf">nat_mod_lt</span> <span class="nv">n</span> <span class="nv">k</span> : k &lt; n -&gt; k mod n = k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k &lt; n -&gt; k mod n = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k &lt; n -&gt; k mod n = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke6"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k mod n = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke7">lhs_V napply nat_div_mod_spec&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k - n * (k / n) = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chke8"><span class="nb">rewrite</span> nat_div_lt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k - n * <span class="mi">0</span> = k</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chke9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><label class="goal-separator" for="division-v-chke9"><hr></label><div class="goal-conclusion">k &lt; n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkea">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k - n * <span class="mi">0</span> = k</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkeb"><span class="nb">rewrite</span> nat_mul_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k - <span class="mi">0</span> = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_sub_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] modulo [1] is [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chked"><span class="kn">Definition</span> <span class="nf">nat_mod_one_r</span> <span class="nv">n</span> : n mod <span class="mi">1</span> = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod <span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkee"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod <span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [m] divides [n], then [n mod m = 0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkef"><span class="kn">Definition</span> <span class="nf">nat_mod_divides</span> <span class="nv">n</span> <span class="nv">m</span> : (m | n) -&gt; n mod m = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; n mod m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; n mod m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf1"><span class="nb">intros</span> [x p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * m = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf2"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * m) mod m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf3"><span class="nb">destruct</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * <span class="mi">0</span>) mod <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkf4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chkf4"><hr></label><div class="goal-conclusion">(x * m.+<span class="mi">1</span>) mod m.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf5">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * <span class="mi">0</span>) mod <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf6"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_mul_zero_r.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * m.+<span class="mi">1</span>) mod m.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf8">lhs_V napply nat_div_mod_spec&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * m.+<span class="mi">1</span> - m.+<span class="mi">1</span> * ((x * m.+<span class="mi">1</span>) / m.+<span class="mi">1</span>) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkf9"><span class="nb">rewrite</span> nat_div_mul_cancel_r; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * m.+<span class="mi">1</span> - m.+<span class="mi">1</span> * x = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_moveR_nV, nat_mul_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n mod m = 0] iff [m] divides [n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkfa"><span class="kn">Definition</span> <span class="nf">nat_mod_iff_divides</span> <span class="nv">n</span> <span class="nv">m</span> : n mod m = <span class="mi">0</span> &lt;-&gt; (m | n) .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span> &lt;-&gt; (m | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkfb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span> &lt;-&gt; (m | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkfc"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span> -&gt; (m | n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chkfd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chkfd"><hr></label><div class="goal-conclusion">(m | n) -&gt; n mod m = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkfe"><span class="mi">2</span>: <span class="bp">exact</span> (nat_mod_divides _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span> -&gt; (m | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chkff"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk100"><span class="kr">exists</span> (<span class="nv">n</span> / m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / m * m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk101"><span class="nb">rewrite</span> nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk102">lhs_V napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + <span class="mi">0</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk103"><span class="nb">rewrite</span> &lt;- p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + n mod m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk104"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n mod m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m * (n / m) + n mod m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Divisibility is therefore decidable. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk105"><span class="kn">Instance</span> <span class="nf">decidable_nat_divides</span> <span class="nv">n</span> <span class="nv">m</span> : Decidable (n | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk106"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (n | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk107">napply decidable_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;-&gt; (n | m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk108"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk109"><span class="mi">1</span>: <span class="nb">apply</span> nat_mod_iff_divides.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (m mod n = <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] modulo [n] is [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10a"><span class="kn">Definition</span> <span class="nf">nat_mod_cancel</span> <span class="nv">n</span> : n mod n = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10c"><span class="nb">destruct</span> n; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> mod n.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10d">snapply (nat_mod_unique _ _ <span class="mi">1</span>); <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * <span class="mi">1</span> + <span class="mi">0</span> = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10e">lhs napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * <span class="mi">1</span> = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_mul_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A number can be corrected so that it is divisible by subtracting the modulo. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk10f"><span class="kn">Instance</span> <span class="nf">nat_divides_sub_mod</span> <span class="nv">n</span> <span class="nv">m</span> : (n | m - m mod n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m - m mod n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk110"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m - m mod n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk111"><span class="nb">rewrite</span> nat_div_mod_spec&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | n * (m / n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Further Properties of division and modulo *)</span>

<span class="sd">(** We can cancel common factors on the left in a division. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk112"><span class="kn">Definition</span> <span class="nf">nat_div_cancel_mul_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  : <span class="mi">0</span> &lt; k -&gt; (k * n) / (k * m) = n / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; (k * n) / (k * m) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk113"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; (k * n) / (k * m) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk114"><span class="nb">intro</span> kp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) / (k * m) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk115"><span class="nb">destruct</span> (nat_zero_or_gt_zero m) <span class="kr">as</span> [[] | mp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) / (k * <span class="mi">0</span>) = n / <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk116" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk116"><hr></label><div class="goal-conclusion">(k * n) / (k * m) = n / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk117"><span class="mi">1</span>: <span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) / (k * m) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk118">napply (nat_div_unique _ _ _ (k * (n mod m))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n mod m) &lt; k * m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk119"><hr></label><div class="goal-conclusion">k * m * (n / m) + k * (n mod m) = k * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11a"><span class="mi">1</span>: rapply nat_mul_l_strictly_monotone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * m * (n / m) + k * (n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11b"><span class="nb">rewrite</span> &lt;- nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m * (n / m)) + k * (n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11c"><span class="nb">rewrite</span> &lt;- nat_dist_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m * (n / m) + n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11d"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + n mod m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can cancel common factors on the right in a division. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11e"><span class="kn">Definition</span> <span class="nf">nat_div_cancel_mul_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  : <span class="mi">0</span> &lt; k -&gt; (n * k) / (m * k) = n / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; (n * k) / (m * k) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk11f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; (n * k) / (m * k) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk120"><span class="nb">rewrite</span> <span class="mi">2</span> (nat_mul_comm _ k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; (k * n) / (k * m) = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_div_cancel_mul_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can swap the order of division and multiplication on the left under certain conditions. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk121"><span class="kn">Definition</span> <span class="nf">nat_div_mul_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : (m | n) -&gt; k * (n / m) = (k * n) / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; k * (n / m) = (k * n) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; k * (n / m) = (k * n) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk123"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / m) = (k * n) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk124"><span class="nb">destruct</span> (nat_zero_or_gt_zero m) <span class="kr">as</span> [[] | mp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / <span class="mi">0</span>) = (k * n) / <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk125" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk125"><hr></label><div class="goal-conclusion">k * (n / m) = (k * n) / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk126"><span class="mi">1</span>: snapply nat_mul_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / m) = (k * n) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk127">rapply (nat_div_unique _ _ _ <span class="mi">0</span> _ _)^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (k * (n / m)) + <span class="mi">0</span> = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk128">lhs napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (k * (n / m)) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk129">lhs napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * k * (n / m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12a">lhs napply (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x * _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * k = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk12b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk12b"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> * (n / m) = k * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12c"><span class="mi">1</span>: napply nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * m * (n / m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12d">lhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m * (n / m)) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12e">snapply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk12f">lhs_V napply nat_add_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + <span class="mi">0</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk130">rhs napply (nat_div_mod_spec n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + <span class="mi">0</span> = m * (n / m) + n mod m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk131">snapply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = n mod m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk132"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_mod_divides.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can swap the order of division and multiplication on the right under certain conditions. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk133"><span class="kn">Definition</span> <span class="nf">nat_div_mul_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : (m | n) -&gt; (n / m) * k = (n * k) / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; n / m * k = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk134"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; n / m * k = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk135"><span class="nb">rewrite</span> <span class="mi">2</span> (nat_mul_comm _ k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n) -&gt; k * (n / m) = (k * n) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">snapply nat_div_mul_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk136"><span class="kn">Definition</span> <span class="nf">nat_div_sub_mod</span> <span class="nv">n</span> <span class="nv">m</span> : n / m = (n - n mod m) / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / m = (n - n mod m) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk137"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / m = (n - n mod m) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk138"><span class="nb">destruct</span> (nat_zero_or_gt_zero m) <span class="kr">as</span> [[] | mp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / <span class="mi">0</span> = (n - n mod <span class="mi">0</span>) / <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk139"><hr></label><div class="goal-conclusion">n / m = (n - n mod m) / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13a"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / m = (n - n mod m) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13b"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n - n mod m) / m = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13c"><span class="nb">rewrite</span> nat_div_mod_spec&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * (n / m)) / m = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_mul_cancel_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Dividing a quotient is the same as dividing by the product of the divisors. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13d"><span class="kn">Definition</span> <span class="nf">nat_div_div_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : (n / m) / k = n / (m * k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk13f"><span class="nb">destruct</span> (nat_zero_or_gt_zero k) <span class="kr">as</span> [[] | kp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m) / <span class="mi">0</span> = n / (m * <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk140" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><label class="goal-separator" for="division-v-chk140"><hr></label><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk141"><span class="mi">1</span>: <span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk142"><span class="nb">destruct</span> (nat_zero_or_gt_zero m) <span class="kr">as</span> [[] | mp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / <span class="mi">0</span>) / k = n / (<span class="mi">0</span> * k)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk143"><hr></label><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk144"><span class="mi">1</span>: snapply nat_div_zero_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m) / k = n / (m * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk145"><span class="nb">apply</span> nat_div_unique <span class="kr">with</span> (r := (n mod (m * k)) / m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n mod (m * k)) / m &lt; k</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk146" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk146"><hr></label><div class="goal-conclusion">k * (n / (m * k)) + (n mod (m * k)) / m = n / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk147">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n mod (m * k)) / m &lt; k</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk148"><span class="nb">apply</span> (lt_lt_leq_trans (m:=(m * k)/m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n mod (m * k)) / m &lt; (m * k) / m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk149" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk149"><hr></label><div class="goal-conclusion">(m * k) / m &lt;= k</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n mod (m * k)) / m &lt; (m * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14b">rapply nat_div_strictly_monotone_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n mod (m * k) &lt; m * k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14c">napply (nat_mod_lt_r&#39; _ _ <span class="mi">0</span> _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m * k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (nat_mul_strictly_monotone mp kp).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k) / m &lt;= k</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_div_mul_cancel_l.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14e">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / (m * k)) + (n mod (m * k)) / m = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk14f"><span class="nb">transitivity</span> ((m * (k * (n / (m * k)))) / m + (n mod (m * k)) / m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / (m * k)) + (n mod (m * k)) / m =
(m * (k * (n / (m * k)))) / m + (n mod (m * k)) / m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk150" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk150"><hr></label><div class="goal-conclusion">(m * (k * (n / (m * k)))) / m + (n mod (m * k)) / m =
n / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk151">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / (m * k)) + (n mod (m * k)) / m =
(m * (k * (n / (m * k)))) / m + (n mod (m * k)) / m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk152">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n / (m * k)) = (m * (k * (n / (m * k)))) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; rapply nat_div_mul_cancel_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk153">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * (k * (n / (m * k)))) / m + (n mod (m * k)) / m =
n / m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk154"><span class="nb">rewrite</span> nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k * (n / (m * k))) / m + (n mod (m * k)) / m =
n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk155">lhs_V napply nat_div_dist.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | m * k * (n / (m * k)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk156" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk156"><hr></label><div class="goal-conclusion">(m * k * (n / (m * k)) + n mod (m * k)) / m = n / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk157"><span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k * (n / (m * k)) + n mod (m * k)) / m = n / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk158"><span class="nb">apply</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x / m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * k * (n / (m * k)) + n mod (m * k) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Dividing a number by a quotient is the same as dividing the product of the number with the denominator of the quotient by the numerator of the quotient. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk159"><span class="kn">Definition</span> <span class="nf">nat_div_div_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : (k | m) -&gt; n / (m / k) = (n * k) / m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k | m) -&gt; n / (m / k) = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k | m) -&gt; n / (m / k) = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15b"><span class="nb">intros</span> [d r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * k = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / (m / k) = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15c"><span class="nb">destruct</span> (nat_zero_or_gt_zero k) <span class="kr">as</span> [[] | kp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * k = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / (m / <span class="mi">0</span>) = (n * <span class="mi">0</span>) / m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk15d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * k = m</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><label class="goal-separator" for="division-v-chk15d"><hr></label><div class="goal-conclusion">n / (m / k) = (n * k) / m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15e"><span class="mi">1</span>: <span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r, nat_div_zero_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * k = m</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / (m / k) = (n * k) / m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk15f"><span class="nb">destruct</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / ((d * k) / k) = (n * k) / (d * k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk160">rhs napply nat_div_cancel_mul_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / ((d * k) / k) = n / d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk161" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><label class="goal-separator" for="division-v-chk161"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; k</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk162"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / ((d * k) / k) = n / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk163"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d * k) / k = d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_mul_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A variant of [nat_div_div_r] without the divisibility assumption, by modifying [m] to become divisible. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk164"><span class="kn">Definition</span> <span class="nf">nat_div_div_r&#39;</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : n / (m / k) = (n * k) / (m - m mod k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / (m / k) = (n * k) / (m - m mod k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk165"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / (m / k) = (n * k) / (m - m mod k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk166"><span class="nb">rewrite</span> (nat_div_sub_mod m k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / ((m - m mod k) / k) = (n * k) / (m - m mod k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_div_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can cancel common factors on the left in a modulo. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk167"><span class="kn">Definition</span> <span class="nf">nat_mod_mul_l</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  : (k * n) mod (k * m) = k * (n mod m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk168"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk169"><span class="nb">destruct</span> (nat_zero_or_gt_zero k) <span class="kr">as</span> [[] | kp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> * n) mod (<span class="mi">0</span> * m) = <span class="mi">0</span> * (n mod m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><label class="goal-separator" for="division-v-chk16a"><hr></label><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk16b"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk16c"><span class="nb">destruct</span> (nat_zero_or_gt_zero m) <span class="kr">as</span> [[] | mp].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * <span class="mi">0</span>) = k * (n mod <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk16d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk16d"><hr></label><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk16e"><span class="mi">1</span>: <span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk16f"><span class="nb">apply</span> (nat_mod_unique _ _ (n / m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n mod m) &lt; k * m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk170" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk170"><hr></label><div class="goal-conclusion">k * m * (n / m) + k * (n mod m) = k * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk171"><span class="mi">1</span>: rapply nat_mul_l_strictly_monotone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * m * (n / m) + k * (n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk172"><span class="nb">rewrite</span> &lt;- nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m * (n / m)) + k * (n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk173"><span class="nb">rewrite</span> &lt;- nat_dist_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (m * (n / m) + n mod m) = k * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk174"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>kp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>mp</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n / m) + n mod m = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> nat_div_mod_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can cancel common factors on the right in a modulo. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk175"><span class="kn">Definition</span> <span class="nf">nat_mod_mul_r</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  : (n * k) mod (m * k) = (n mod m) * k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * k) mod (m * k) = n mod m * k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk176"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * k) mod (m * k) = n mod m * k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk177"><span class="nb">rewrite</span> <span class="mi">3</span> (nat_mul_comm _ k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(k * n) mod (k * m) = k * (n mod m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_mod_mul_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can move a divisor from the right to become a factor on the left of an equation. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk178"><span class="kn">Definition</span> <span class="nf">nat_div_moveL_nV</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; k -&gt; n * k = m -&gt; n = m / k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; n * k = m -&gt; n = m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk179"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; n * k = m -&gt; n = m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17a"><span class="nb">intros</span> H p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n * k = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = m / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17b"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = (n * k) / k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; rapply nat_div_mul_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17c"><span class="kn">Definition</span> <span class="nf">nat_div_moveR_nV</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : <span class="mi">0</span> &lt; k -&gt; n = m * k -&gt; n / k = m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; n = m * k -&gt; n / k = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k -&gt; n = m * k -&gt; n / k = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17e"><span class="nb">intros</span> H p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n = m * k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n / k = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk17f"><span class="nb">destruct</span> p^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m * k = m * k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * k) / k = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_div_mul_cancel_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk180"><span class="kn">Definition</span> <span class="nf">nat_divides_l_div</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span>
  : <span class="mi">0</span> &lt; m -&gt; (m | n) -&gt; (n | l * m) -&gt; (n / m | l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (m | n) -&gt; (n | l * m) -&gt; (n / m | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk181"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; (m | n) -&gt; (n | l * m) -&gt; (n / m | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk182"><span class="nb">intros</span> H1 H2 [y q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n / m | l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk183"><span class="kr">exists</span> <span class="nv">y</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * (n / m) = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk184"><span class="nb">rewrite</span> nat_div_mul_l; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * n = l * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y * n) / m = l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply nat_div_moveR_nV.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk185"><span class="kn">Definition</span> <span class="nf">nat_divides_r_div</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span>
  : (n * l | m) -&gt; (n | m / l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * l | m) -&gt; (n | m / l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk186"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * l | m) -&gt; (n | m / l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk187"><span class="nb">destruct</span> l; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * l.+<span class="mi">1</span> | m) -&gt; (n | m / l.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk188"><span class="nb">intros</span> [k p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * (n * l.+<span class="mi">1</span>) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | m / l.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk189"><span class="kr">exists</span> <span class="nv">k</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * (n * l.+<span class="mi">1</span>) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * n = m / l.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18a">rapply nat_div_moveL_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * (n * l.+<span class="mi">1</span>) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * n * l.+<span class="mi">1</span> = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> lhs_V napply nat_mul_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18b"><span class="kn">Definition</span> <span class="nf">nat_divides_l_mul</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">l</span>
  : (l | m) -&gt; (n | m / l) -&gt; (n * l | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(l | m) -&gt; (n | m / l) -&gt; (n * l | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(l | m) -&gt; (n | m / l) -&gt; (n * l | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18d"><span class="nb">intros</span> H [k p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(l | m)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * n = m / l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * l | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18e"><span class="kr">exists</span> <span class="nv">k</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(l | m)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * n = m / l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * (n * l) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk18f"><span class="nb">rewrite</span> nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(l | m)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * n = m / l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * n * l = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk190"><span class="nb">rewrite</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, l</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(l | m)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k * n = m / l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m / l * l = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_mul_div_cancel_r.</span><span class="alectryon-wsp">  
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Greatest Common Divisor *)</span>

<span class="sd">(** The greatest common divisor of [0] and a number is the number itself. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_gcd_zero_l</span> <span class="nv">n</span> : nat_gcd <span class="mi">0</span> n = n := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The greatest common divisor of a number and [0] is the number itself. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk191"><span class="kn">Definition</span> <span class="nf">nat_gcd_zero_r</span> <span class="nv">n</span> : nat_gcd n <span class="mi">0</span> = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n <span class="mi">0</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk192"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n <span class="mi">0</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk193"><span class="nb">induction</span> n; <span class="nb">simpl</span>; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>nat_gcd n <span class="mi">0</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n - n) n.+<span class="mi">1</span> = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_sub_cancel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The greatest common divisor of [1] and any number is [1]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_gcd_one_l</span> <span class="nv">n</span> : nat_gcd <span class="mi">1</span> n = <span class="mi">1</span> := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The greatest common divisor of any number and [1] is [1]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk194"><span class="kn">Definition</span> <span class="nf">nat_gcd_one_r</span> <span class="nv">n</span> : nat_gcd n <span class="mi">1</span> = <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk195"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk196"><span class="nb">destruct</span> n; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n.+<span class="mi">1</span> <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk197"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd
  (n -
   snd
     <span class="kr">match</span> n <span class="kr">with</span>
     | <span class="mi">0</span> =&gt; (<span class="mi">1</span>, n)
     | u&#39;.+<span class="mi">1</span> =&gt; (<span class="mi">0</span>, u&#39;)
     <span class="kr">end</span>) n.+<span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk198"><span class="nb">destruct</span> n; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n.+<span class="mi">1</span> - snd (<span class="mi">0</span>, n)) n.+<span class="mi">2</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk199"><span class="nb">rewrite</span> nat_sub_succ_l; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n - snd (<span class="mi">0</span>, n)).+<span class="mi">1</span> n.+<span class="mi">2</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_sub_cancel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Idempotency. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19a"><span class="kn">Definition</span> <span class="nf">nat_gcd_idem</span> <span class="nv">n</span> : nat_gcd n n = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19c"><span class="nb">induction</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd <span class="mi">0</span> <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk19d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>nat_gcd n n = n</span></span></span><br></div><label class="goal-separator" for="division-v-chk19d"><hr></label><div class="goal-conclusion">nat_gcd n.+<span class="mi">1</span> n.+<span class="mi">1</span> = n.+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19e"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>nat_gcd n n = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n.+<span class="mi">1</span> n.+<span class="mi">1</span> = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk19f"><span class="nb">unfold</span> nat_gcd; <span class="nb">fold</span> nat_gcd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>nat_gcd n n = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n.+<span class="mi">1</span> mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_mod_cancel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can prove that the greatest common divisor of [n] and [m] divides both [n] and [m]. This proof requires strong induction. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a0"><span class="kn">Definition</span> <span class="nf">nat_divides_l_gcd</span> <span class="nv">n</span> <span class="nv">m</span> : (nat_gcd n m | n) /\ (nat_gcd n m | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd n m | n) * (nat_gcd n m | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd n m | n) * (nat_gcd n m | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a2"><span class="nb">revert</span> n m; snapply nat_ind_strong; <span class="nb">intros</span> n IHn m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n -&gt;
(<span class="kr">fun</span> <span class="nv">n</span> : nat =&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd n m0 | n) * (nat_gcd n m0 | m0)) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd n m | n) * (nat_gcd n m | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a3"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; <span class="mi">0</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd <span class="mi">0</span> m | <span class="mi">0</span>) * (nat_gcd <span class="mi">0</span> m | m))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk1a4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk1a4"><hr></label><div class="goal-conclusion">((nat_gcd n.+<span class="mi">1</span> m | n.+<span class="mi">1</span>) * (nat_gcd n.+<span class="mi">1</span> m | m))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a5"><span class="mi">1</span>: <span class="nb">split</span>; <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd n.+<span class="mi">1</span> m | n.+<span class="mi">1</span>) * (nat_gcd n.+<span class="mi">1</span> m | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a6"><span class="nb">destruct</span> (IHn (m mod n.+<span class="mi">1</span>) _ n.+<span class="mi">1</span>) <span class="kr">as</span> [H1 H2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | m mod n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd n.+<span class="mi">1</span> m | n.+<span class="mi">1</span>) * (nat_gcd n.+<span class="mi">1</span> m | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a7"><span class="nb">unfold</span> nat_gcd; <span class="nb">fold</span> nat_gcd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | m mod n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | n.+<span class="mi">1</span>) *
 (nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span> | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a8"><span class="nb">set</span> (n&#39; := n.+<span class="mi">1</span>) <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n'</var><span><span class="hyp-body"><b>:= </b><span>n.+<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n&#39; -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | m mod n&#39;)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((nat_gcd (m mod n&#39;) n&#39; | n&#39;) *
 (nat_gcd (m mod n&#39;) n&#39; | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1a9"><span class="nb">split</span>; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n'</var><span><span class="hyp-body"><b>:= </b><span>n.+<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n&#39; -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | m mod n&#39;)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd (m mod n&#39;) n&#39; | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1aa"><span class="nb">set</span> (r := m mod n&#39;); <span class="nb">rewrite</span> (nat_div_mod_spec m n&#39;); <span class="nb">unfold</span> r; <span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n'</var><span><span class="hyp-body"><b>:= </b><span>n.+<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n&#39; -&gt; <span class="kr">forall</span> <span class="nv">m0</span> : nat, (nat_gcd m m0 | m) * (nat_gcd m m0 | m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | m mod n&#39;)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_gcd (m mod n&#39;) n&#39; | n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd (m mod n&#39;) n&#39; | n&#39; * (m / n&#39;) + m mod n&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The greatest common divisor of [n] and [m] divides [n]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_l_gcd_l</span> <span class="nv">n</span> <span class="nv">m</span> : (nat_gcd n m | n)
  := fst (nat_divides_l_gcd n m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The greatest common divisor of [n] and [m] divides [m]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">divides_l_nat_gcd_r</span> <span class="nv">n</span> <span class="nv">m</span> : (nat_gcd n m | m)
  := snd (nat_divides_l_gcd n m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can prove that any common divisor of [n] and [m] divides the greatest common divisor of [n] and [m]. It is in that sense the greatest. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ab"><span class="kn">Instance</span> <span class="nf">nat_divides_r_gcd</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span> : (p | n) -&gt; (p | m) -&gt; (p | nat_gcd n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) -&gt; (p | m) -&gt; (p | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) -&gt; (p | m) -&gt; (p | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ad"><span class="nb">revert</span> n m p; snapply nat_ind_strong; <span class="nb">intros</span> n IHn m p H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n -&gt;
(<span class="kr">fun</span> <span class="nv">n</span> : nat =&gt; <span class="kr">forall</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, (p | n) -&gt; (p | m0) -&gt; (p | nat_gcd n m0))
m</span></span></span><br><span><var>m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ae"><span class="nb">destruct</span> n; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, (p | m) -&gt; (p | m0) -&gt; (p | nat_gcd m m0)</span></span></span><br><span><var>m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | nat_gcd n.+<span class="mi">1</span> m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1af"><span class="nb">unfold</span> nat_gcd; <span class="nb">fold</span> nat_gcd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, (p | m) -&gt; (p | m0) -&gt; (p | nat_gcd m m0)</span></span></span><br><span><var>m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | nat_gcd (m mod n.+<span class="mi">1</span>) n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b0"><span class="nb">apply</span> IHn; <span class="kp">only</span> <span class="mi">1</span>,<span class="mi">3</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, (p | m) -&gt; (p | m0) -&gt; (p | nat_gcd m m0)</span></span></span><br><span><var>m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m mod n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b1"><span class="nb">rewrite</span> (nat_div_mod_spec m n.+<span class="mi">1</span>) <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt; <span class="kr">forall</span> <span class="nv">m0</span> <span class="nv">p</span> : nat, (p | m) -&gt; (p | m0) -&gt; (p | nat_gcd m m0)</span></span></span><br><span><var>m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span> * (m / n.+<span class="mi">1</span>) + m mod n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m mod n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_divides_add_r <span class="kr">in</span> H2; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b2"><span class="kn">Definition</span> <span class="nf">nat_divides_r_iff_divides_r_gcd</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span>
  : (p | n) * (p | m) &lt;-&gt; (p | nat_gcd n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) * (p | m) &lt;-&gt; (p | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) * (p | m) &lt;-&gt; (p | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="nb">intros</span> [H1 H2] | <span class="nb">intros</span> H; <span class="nb">split</span>]; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [p] is divisible by all common divisors of [n] and [m], and [p] is also a common divisor, then it must necessarily be equal to the greatest common divisor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b4"><span class="kn">Definition</span> <span class="nf">nat_gcd_unique</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">p</span>
  (<span class="nv">H</span> : <span class="kr">forall</span> <span class="nv">q</span>, (q | n) -&gt; (q | m) -&gt; (q | p))
  : (p | n) -&gt; (p | m) -&gt; nat_gcd n m = p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (q | n) -&gt; (q | m) -&gt; (q | p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) -&gt; (p | m) -&gt; nat_gcd n m = p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (q | n) -&gt; (q | m) -&gt; (q | p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n) -&gt; (p | m) -&gt; nat_gcd n m = p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b6"><span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, p</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (q | n) -&gt; (q | m) -&gt; (q | p)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(p | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(p | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_divides_antisym.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** As a corollary of uniqueness, we get that the greatest common divisor operation is commutative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b7"><span class="kn">Definition</span> <span class="nf">nat_gcd_comm</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd n m = nat_gcd m n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = nat_gcd m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = nat_gcd m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_gcd_unique.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [nat_gcd] is associative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1b9"><span class="kn">Definition</span> <span class="nf">nat_gcd_assoc</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : nat_gcd n (nat_gcd m k) = nat_gcd (nat_gcd n m) k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (nat_gcd m k) = nat_gcd (nat_gcd n m) k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ba"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (nat_gcd m k) = nat_gcd (nat_gcd n m) k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1bb">rapply nat_gcd_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd (nat_gcd n m) k | n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk1bc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk1bc"><hr></label><div class="goal-conclusion">(nat_gcd (nat_gcd n m) k | nat_gcd m k)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1bd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd (nat_gcd n m) k | n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply (nat_divides_trans (nat_divides_l_gcd_l _ _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1be">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd (nat_gcd n m) k | nat_gcd m k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_divides_r_gcd; rapply nat_divides_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [nat_gcd n m] is [0], then [n] must also be [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1bf"><span class="kn">Definition</span> <span class="nf">nat_gcd_is_zero_l</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd n m = <span class="mi">0</span> -&gt; n = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c1"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c2"><span class="nb">generalize</span> (nat_divides_l_gcd_l n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_gcd n m | n) -&gt; n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c3"><span class="nb">rewrite</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> | n) -&gt; n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c4"><span class="nb">intros</span> [x p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">0</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p^ @ nat_mul_zero_r _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [nat_gcd n m] is [0], then [m] must also be [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c5"><span class="kn">Definition</span> <span class="nf">nat_gcd_is_zero_r</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd n m = <span class="mi">0</span> -&gt; m = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c7"><span class="nb">rewrite</span> nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd m n = <span class="mi">0</span> -&gt; m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_gcd_is_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [nat_gcd n m] is [0] if and only if both [n] and [m] are [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c8"><span class="kn">Definition</span> <span class="nf">nat_gcd_zero_iff_zero</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd n m = <span class="mi">0</span> &lt;-&gt; n = <span class="mi">0</span> /\ m = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> &lt;-&gt; (n = <span class="mi">0</span>) * (m = <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1c9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> &lt;-&gt; (n = <span class="mi">0</span>) * (m = <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ca"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; (n = <span class="mi">0</span>) * (m = <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk1cb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk1cb"><hr></label><div class="goal-conclusion">(n = <span class="mi">0</span>) * (m = <span class="mi">0</span>) -&gt; nat_gcd n m = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1cc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">0</span> -&gt; (n = <span class="mi">0</span>) * (m = <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1cd"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk1ce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk1ce"><hr></label><div class="goal-conclusion">m = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1cf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (nat_gcd_is_zero_l _ m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (nat_gcd_is_zero_r n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n = <span class="mi">0</span>) * (m = <span class="mi">0</span>) -&gt; nat_gcd n m = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d2"><span class="nb">intros</span> [-&gt; -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd <span class="mi">0</span> <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [nat_gcd] is positive for positive inputs. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d3"><span class="kn">Instance</span> <span class="nf">nat_gcd_pos</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; n -&gt; <span class="mi">0</span> &lt; m -&gt; <span class="mi">0</span> &lt; nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; <span class="mi">0</span> &lt; m -&gt; <span class="mi">0</span> &lt; nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; <span class="mi">0</span> &lt; m -&gt; <span class="mi">0</span> &lt; nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d5"><span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d6"><span class="nb">apply</span> lt_iff_not_geq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (<span class="mi">0</span> &gt;= nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d7"><span class="nb">intros</span> H3; <span class="nb">hnf</span> <span class="kr">in</span> H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>nat_gcd n m &lt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d8"><span class="nb">apply</span> path_zero_leq_zero_r <span class="kr">in</span> H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>nat_gcd n m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1d9"><span class="nb">apply</span> nat_gcd_zero_iff_zero <span class="kr">in</span> H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>((n = <span class="mi">0</span>) * (m = <span class="mi">0</span>))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1da"><span class="nb">destruct</span> H3 <span class="kr">as</span> [-&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>snd</var><span class="hyp-type"><b>: </b><span>m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> (not_lt_zero_r _ H1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1db"><span class="kn">Definition</span> <span class="nf">nat_gcd_l_add_r_mul</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : nat_gcd (n + k * m) m = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n + k * m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1dc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n + k * m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1dd">rapply nat_gcd_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : nat,
(q | n + k * m) -&gt; (q | m) -&gt; (q | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1de"><span class="nb">intros</span> q H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(q | n + k * m)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1df">rapply nat_divides_r_gcd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(q | n + k * m)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (nat_divides_add_l _ _ (k * m)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e0"><span class="kn">Definition</span> <span class="nf">nat_gcd_r_add_r_mul</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : nat_gcd n (m + k * n) = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (m + k * n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (m + k * n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e2">lhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m + k * n) n = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e3">rhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m + k * n) n = nat_gcd m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_gcd_l_add_r_mul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e4"><span class="kn">Definition</span> <span class="nf">nat_gcd_l_add_r</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd (n + m) m = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n + m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n + m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e6">rhs_V <span class="bp">exact</span> (nat_gcd_l_add_r_mul n m <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n + m) m = nat_gcd (n + <span class="mi">1</span> * m) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_mul_one_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e7"><span class="kn">Definition</span> <span class="nf">nat_gcd_r_add_r</span> <span class="nv">n</span> <span class="nv">m</span> : nat_gcd n (m + n) = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (m + n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (m + n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1e9">lhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m + n) n = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ea">rhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m + n) n = nat_gcd m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply nat_gcd_l_add_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1eb"><span class="kn">Definition</span> <span class="nf">nat_gcd_l_sub</span> <span class="nv">n</span> <span class="nv">m</span> : m &lt;= n -&gt; nat_gcd (n - m) m = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m &lt;= n -&gt; nat_gcd (n - m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ec"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m &lt;= n -&gt; nat_gcd (n - m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ed"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>m &lt;= n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n - m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ee">lhs_V napply nat_gcd_l_add_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>m &lt;= n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (n - m + m) m = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (nat_add_sub_l_cancel H).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ef"><span class="kn">Definition</span> <span class="nf">nat_gcd_r_sub</span> <span class="nv">n</span> <span class="nv">m</span> : n &lt;= m -&gt; nat_gcd n (m - n) = nat_gcd n m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= m -&gt; nat_gcd n (m - n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt;= m -&gt; nat_gcd n (m - n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f1"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;= m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n (m - n) = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f2">lhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;= m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m - n) n = nat_gcd n m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f3">rhs napply nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n &lt;= m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd (m - n) n = nat_gcd m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_gcd_l_sub.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Bezout&#39;s Identity *)</span>

<span class="sd">(** Bezout&#39;s identity states that for any two numbers [n] and [m], their greatest common divisor can be written as a linear combination of [n] and [m]. This is easy to state for the integers, however since we are working with the natural numbers, we need to be more careful. This is why we write the linear combination as [a * n = d + b * m] rather than the usual [a * n + b * m = d]. *)</span>

<span class="sd">(** We define a predicate for triples of integers satisfying Bezout&#39;s identity. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">NatBezout</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">d</span> : Type0
  := <span class="kr">exists</span> <span class="nv">a</span> <span class="nv">b</span>, a * n = d + b * m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Class</span> <span class="nf">NatBezout</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f4"><span class="kn">Instance</span> <span class="nf">nat_bezout_refl_l</span> <span class="nv">n</span> <span class="nv">k</span> : NatBezout n k n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n k n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n k n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">1</span>, <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [a * n = 1 + b * m], then the gcd of [n] and [m] is [1]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f6"><span class="kn">Definition</span> <span class="nf">nat_bezout_coprime</span> <span class="nv">n</span> <span class="nv">m</span> : NatBezout n m <span class="mi">1</span> -&gt; nat_gcd n m = <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m <span class="mi">1</span> -&gt; nat_gcd n m = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m <span class="mi">1</span> -&gt; nat_gcd n m = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f8"><span class="nb">intros</span> [a [b p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = <span class="mi">1</span> + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n m = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1f9">rapply nat_gcd_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = <span class="mi">1</span> + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : nat, (q | n) -&gt; (q | m) -&gt; (q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1fa"><span class="nb">intros</span> q H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = <span class="mi">1</span> + b * m</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1fb">rapply (nat_divides_add_l _ _ (b * m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = <span class="mi">1</span> + b * m</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span> + b * m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> p; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1fc"><span class="kn">Definition</span> <span class="nf">nat_bezout_comm</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">d</span>
  : <span class="mi">0</span> &lt; m -&gt; NatBezout n m d -&gt; NatBezout m n d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; NatBezout n m d -&gt; NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1fd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; m -&gt; NatBezout n m d -&gt; NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1fe"><span class="nb">intros</span> H [a [b p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk1ff"><span class="nb">destruct</span> (@equiv_leq_lt_or_eq <span class="mi">0</span> a _) <span class="kr">as</span> [|q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk200" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = a</span></span></span><br></div><label class="goal-separator" for="division-v-chk200"><hr></label><div class="goal-conclusion">NatBezout m n d</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk201">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk202"><span class="kr">exists</span> (<span class="nv">n</span> * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> - b), (m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> - a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> - b) * m =
d + (m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> - a) * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk203"><span class="nb">rewrite</span> <span class="mi">2</span> nat_dist_sub_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m - b * m =
d + (m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n - a * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk204"><span class="nb">apply</span> nat_moveR_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m =
d + (m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n - a * n) + b * m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk205"><span class="nb">rewrite</span> &lt;- nat_add_comm, nat_add_assoc, &lt;- (nat_add_comm d).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m =
d + b * m + (m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n - a * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk206"><span class="nb">rewrite</span> &lt;- nat_sub_l_add_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m =
d + b * m + m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n - a * n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk207" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><label class="goal-separator" for="division-v-chk207"><hr></label><div class="goal-conclusion">a * n &lt;= m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk208"><span class="mi">2</span>: {</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a * n &lt;= m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk209"><span class="nb">apply</span> nat_mul_r_monotone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a &lt;= m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20a"><span class="nb">rewrite</span> <span class="mi">2</span> nat_mul_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a &lt;= (m * a + m) * b + (m * a + m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20b">napply (leq_trans _ (leq_add_l _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a &lt;= m * a + m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (leq_trans _ (leq_add_r _ _)).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m =
d + b * m + m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n - a * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20d"><span class="nb">apply</span> nat_moveL_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m + a * n =
d + b * m + m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20e"><span class="nb">rewrite</span> nat_add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a * n + n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m =
d + b * m + m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk20f">snapply (ap011 nat_add p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * m = m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk210">lhs napply nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span>) = m * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk211">rhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span>) = m * a.+<span class="mi">1</span> * (b.+<span class="mi">1</span> * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk212">rhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m * (n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span>) = m * (a.+<span class="mi">1</span> * (b.+<span class="mi">1</span> * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk213">snapply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * a.+<span class="mi">1</span> * b.+<span class="mi">1</span> = a.+<span class="mi">1</span> * (b.+<span class="mi">1</span> * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk214">lhs_V napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (a.+<span class="mi">1</span> * b.+<span class="mi">1</span>) = a.+<span class="mi">1</span> * (b.+<span class="mi">1</span> * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk215">rhs napply nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (a.+<span class="mi">1</span> * b.+<span class="mi">1</span>) = a.+<span class="mi">1</span> * b.+<span class="mi">1</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_mul_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk216">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = d + b * m</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk217"><span class="nb">destruct</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> * n = d + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk218"><span class="kr">exists</span> <span class="mi">0</span>, <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> * n = d + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * m = d + <span class="mi">0</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk219"><span class="nb">rewrite</span> <span class="mi">2</span> nat_mul_zero_l, nat_add_zero_r <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = d + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21a"><span class="nb">symmetry in</span> p; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>d + b * m = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21b"><span class="nb">apply</span> equiv_nat_add_zero <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>((d = <span class="mi">0</span>) * ((b * m)%nat = <span class="mi">0</span>))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Hint Immediate</span> nat_bezout_comm : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21c"><span class="kn">Instance</span> <span class="nf">nat_bezout_pos_l</span> <span class="nv">n</span> <span class="nv">m</span> : <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21e"><span class="nb">pose</span> (k := n + m); <span class="nb">assert</span> (p : n + m = k) <span class="bp">by</span> <span class="bp">reflexivity</span>; <span class="nb">clearbody</span> k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk21f"><span class="nb">revert</span> k n m p; snapply nat_ind_strong; <span class="nb">hnf</span>; <span class="nb">intros</span> k IHk n m q H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Given a sum [n + m], we can always find another pair [n&#39; + m&#39;] equal to that sum such that [n&#39; &lt; m&#39;]. This extra hypothesis lets us prove the statement more directly. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk220"><span class="nb">assert</span> (H&#39; : <span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span>, n + m = n&#39; + m&#39; -&gt; <span class="mi">0</span> &lt; n&#39; -&gt; n&#39; &lt; m&#39;
    -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt; n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk221" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br></div><label class="goal-separator" for="division-v-chk221"><hr></label><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk222">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt; n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk223"><span class="nb">intros</span> n&#39; m&#39; p H1 H2; <span class="nb">destruct</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk224"><span class="nb">assert</span> (m&#39; &lt; n + m) <span class="bp">by</span> (<span class="nb">rewrite</span> p; <span class="nb">change</span> (<span class="mi">0</span> + m&#39; &lt; n&#39; + m&#39;); <span class="bp">exact</span> _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk225"><span class="nb">destruct</span> (IHk m&#39; _ n&#39; (m&#39; - n&#39;) (nat_add_sub_r_cancel _) _) <span class="kr">as</span> [a [b r]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>a * n&#39; = nat_gcd n&#39; (m&#39; - n&#39;) + b * (m&#39; - n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk226"><span class="kr">exists</span> (<span class="nv">a</span> + b), b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>a * n&#39; = nat_gcd n&#39; (m&#39; - n&#39;) + b * (m&#39; - n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a + b) * n&#39; = nat_gcd n&#39; m&#39; + b * m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk227"><span class="nb">rewrite</span> nat_dist_r, r, nat_dist_sub_l, &lt;- nat_add_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>a * n&#39; = nat_gcd n&#39; (m&#39; - n&#39;) + b * (m&#39; - n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n&#39; (m&#39; - n&#39;) + (b * m&#39; - b * n&#39; + b * n&#39;) =
nat_gcd n&#39; m&#39; + b * m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk228"><span class="nb">rewrite</span> nat_add_sub_l_cancel; <span class="kp">only</span> <span class="mi">2</span>: rapply nat_mul_l_monotone.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>a * n&#39; = nat_gcd n&#39; (m&#39; - n&#39;) + b * (m&#39; - n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n&#39; (m&#39; - n&#39;) + b * m&#39; = nat_gcd n&#39; m&#39; + b * m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk229">snapply (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x + _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m0</span> : nat,
m0 &lt; n + m -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span> : nat, n + m = m0 -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m (nat_gcd n m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>n', m'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n + m = n&#39; + m&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>n&#39; &lt; m&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m&#39; &lt; n + m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>a * n&#39; = nat_gcd n&#39; (m&#39; - n&#39;) + b * (m&#39; - n&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd n&#39; (m&#39; - n&#39;) = nat_gcd n&#39; m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_gcd_r_sub.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk22a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk22b"><span class="nb">destruct</span> (nat_trichotomy n m) <span class="kr">as</span> [[l | p] | r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk22c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n = m</span></span></span><br></div><label class="goal-separator" for="division-v-chk22c"><hr></label><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote><input class="alectryon-extra-goal-toggle" id="division-v-chk22d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br></div><label class="goal-separator" for="division-v-chk22d"><hr></label><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk22e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> H&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk22f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>n = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk230"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + n = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + n = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n n (nat_gcd n n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> nat_gcd_idem; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk231">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk232"><span class="nb">destruct</span> (@equiv_leq_lt_or_eq <span class="mi">0</span> m _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk233" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = m</span></span></span><br></div><label class="goal-separator" for="division-v-chk233"><hr></label><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk234">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk235"><span class="nb">rewrite</span> nat_gcd_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd m n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk236">rapply nat_bezout_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout m n (nat_gcd m n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk237">rapply H&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + m = m + n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> nat_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk238">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + m = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + m = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; m</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n m (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk239"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHk</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k -&gt;
<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m0</span> : nat, n + m0 = m -&gt; <span class="mi">0</span> &lt; n -&gt; NatBezout n m0 (nat_gcd n m0)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>n + <span class="mi">0</span> = k</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n&#39;</span> <span class="nv">m&#39;</span> : nat,
n + <span class="mi">0</span> = n&#39; + m&#39; -&gt;
<span class="mi">0</span> &lt; n&#39; -&gt;
n&#39; &lt; m&#39; -&gt; NatBezout n&#39; m&#39; (nat_gcd n&#39; m&#39;)</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>n &gt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatBezout n <span class="mi">0</span> (nat_gcd n <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> nat_gcd_zero_r; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For strictly positive numbers, we have Bezout&#39;s identity in both directions. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23a"><span class="kn">Definition</span> <span class="nf">nat_bezout_pos</span> <span class="nv">n</span> <span class="nv">m</span>
  : <span class="mi">0</span> &lt; n -&gt; <span class="mi">0</span> &lt; m
  -&gt; NatBezout n m (nat_gcd n m) /\ NatBezout m n (nat_gcd n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt;
<span class="mi">0</span> &lt; m -&gt;
NatBezout n m (nat_gcd n m) *
NatBezout m n (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt;
<span class="mi">0</span> &lt; m -&gt;
NatBezout n m (nat_gcd n m) *
NatBezout m n (nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> H1 H2; <span class="nb">split</span>; [| <span class="nb">apply</span> nat_bezout_comm]; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For arbitrary natural numbers, we have Bezout&#39;s identity in at least one direction. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23c"><span class="kn">Definition</span> <span class="nf">nat_bezout</span> <span class="nv">n</span> <span class="nv">m</span>
  : NatBezout n m (nat_gcd n m) + NatBezout m n (nat_gcd n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(NatBezout n m (nat_gcd n m) +
 NatBezout m n (nat_gcd n m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(NatBezout n m (nat_gcd n m) +
 NatBezout m n (nat_gcd n m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> n; [ <span class="nb">right</span> | <span class="nb">left</span> ]; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Least common multiple *)</span>

<span class="sd">(** The least common multiple [nat_lcm n m] is the smallest natural number divisibile by both [n] and [m]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_lcm</span> (<span class="nv">n</span> <span class="nv">m</span> : nat) : nat := n * (m / nat_gcd n m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The least common multiple of [0] and [n] is [0]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nat_lcm_zero_l</span> <span class="nv">n</span> : nat_lcm <span class="mi">0</span> n = <span class="mi">0</span> := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The least common multiple of [n] and [0] is [0]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23e"><span class="kn">Definition</span> <span class="nf">nat_lcm_zero_r</span> <span class="nv">n</span> : nat_lcm n <span class="mi">0</span> = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk23f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk240"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (<span class="mi">0</span> / nat_gcd n <span class="mi">0</span>) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_div_zero_l, nat_mul_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The least common multiple of [1] and [n] is [n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk241"><span class="kn">Definition</span> <span class="nf">nat_lcm_one_l</span> <span class="nv">n</span> : nat_lcm <span class="mi">1</span> n = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm <span class="mi">1</span> n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk242"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm <span class="mi">1</span> n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk243"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * (n / nat_gcd <span class="mi">1</span> n) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_gcd_one_l, nat_div_one_r, nat_mul_one_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The least common multiple of [n] and [1] is [n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk244"><span class="kn">Definition</span> <span class="nf">nat_lcm_one_r</span> <span class="nv">n</span> : nat_lcm n <span class="mi">1</span> = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n <span class="mi">1</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk245"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n <span class="mi">1</span> = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk246"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (<span class="mi">1</span> / nat_gcd n <span class="mi">1</span>) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_gcd_one_r, nat_div_one_r, nat_mul_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Idempotency. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk247"><span class="kn">Definition</span> <span class="nf">nat_lcm_idem</span> <span class="nv">n</span> : nat_lcm n n = n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk248"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n n = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk249"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * (n / nat_gcd n n) = n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_gcd_idem, nat_mul_div_cancel_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [n] divides the least common multiple of [n] and [m]. *)</span> 
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">nat_divides_r_lcm_l</span> <span class="nv">n</span> <span class="nv">m</span> : (n | nat_lcm n m) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [m] divides the least common multiple of [n] and [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24a"><span class="kn">Instance</span> <span class="nf">nat_divides_r_lcm_r</span> <span class="nv">n</span> <span class="nv">m</span> : (m | nat_lcm n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | nat_lcm n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | nat_lcm n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24c"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | n * (m / nat_gcd n m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24d"><span class="nb">rewrite</span> nat_div_mul_l; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | (n * m) / nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> &lt;- nat_div_mul_r; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The least common multiple of [n] and [m] divides any multiple of [n] and [m]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24e"><span class="kn">Instance</span> <span class="nf">nat_divides_l_lcm</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : (n | k) -&gt; (m | k) -&gt; (nat_lcm n m | k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) -&gt; (m | k) -&gt; (nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk24f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) -&gt; (m | k) -&gt; (nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk250"><span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk251"><span class="nb">destruct</span> (equiv_leq_lt_or_eq (n:=<span class="mi">0</span>) (m:=n) _) <span class="kr">as</span> [lt_n | p];
    <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">by</span> <span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk252"><span class="nb">destruct</span> (equiv_leq_lt_or_eq (n:=<span class="mi">0</span>) (m:=m) _) <span class="kr">as</span> [lt_m | q];
    <span class="kp">only</span> <span class="mi">2</span>: (<span class="nb">destruct</span> q; <span class="bp">by</span> <span class="nb">rewrite</span> nat_lcm_zero_r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk253"><span class="nb">unfold</span> nat_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * (m / nat_gcd n m) | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk254"><span class="nb">destruct</span> (nat_bezout_pos_l n m _) <span class="kr">as</span> [a [b p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n = nat_gcd n m + b * m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * (m / nat_gcd n m) | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk255"><span class="nb">apply</span> nat_moveR_nV <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n - b * m = nat_gcd n m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * (m / nat_gcd n m) | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk256"><span class="nb">rewrite</span> nat_div_mul_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n - b * m = nat_gcd n m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((n * m) / nat_gcd n m | k)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk257" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n - b * m = nat_gcd n m</span></span></span><br></div><label class="goal-separator" for="division-v-chk257"><hr></label><div class="goal-conclusion">(nat_gcd n m | m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk258"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n - b * m = nat_gcd n m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((n * m) / nat_gcd n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk259">rapply nat_divides_l_div.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a * n - b * m = nat_gcd n m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m | k * nat_gcd n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk25a"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m | k * (a * n - b * m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk25b"><span class="nb">rewrite</span> nat_dist_sub_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m | k * (a * n) - k * (b * m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk25c">napply nat_divides_sub.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n * m | k * (a * n))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk25d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk25d"><hr></label><div class="goal-conclusion">(n * m | k * (b * m))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk25e"><span class="mi">1</span>: <span class="nb">rewrite</span> nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m * n | k * (a * n))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk25f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br><span><var>lt_n</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>lt_m</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; m</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk25f"><hr></label><div class="goal-conclusion">(n * m | k * (b * m))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk260"><span class="kn">Definition</span> <span class="nf">nat_divides_l_iff_divides_l_lcm</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  : (n | k) * (m | k) &lt;-&gt; (nat_lcm n m | k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) * (m | k) &lt;-&gt; (nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk261"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) * (m | k) &lt;-&gt; (nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk262"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) * (m | k) -&gt; (nat_lcm n m | k)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk263" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk263"><hr></label><div class="goal-conclusion">(nat_lcm n m | k) -&gt; (n | k) * (m | k)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk264">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) * (m | k) -&gt; (nat_lcm n m | k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [H1 H2]; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk265">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm n m | k) -&gt; (n | k) * (m | k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk266"><span class="nb">intros</span> H; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(nat_lcm n m | k)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk267" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(nat_lcm n m | k)</span></span></span><br></div><label class="goal-separator" for="division-v-chk267"><hr></label><div class="goal-conclusion">(m | k)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk268">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(nat_lcm n m | k)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply (nat_divides_trans _ H).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk269">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(nat_lcm n m | k)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | k)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [k] divides all common multiples of [n] and [m], and [k] is also a common multiple, then it must necessarily be equal to the least common multiple. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26a"><span class="kn">Definition</span> <span class="nf">nat_lcm_unique</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span>
  (<span class="nv">H</span> : <span class="kr">forall</span> <span class="nv">q</span>, (n | q) -&gt; (m | q) -&gt; (k | q))
  : (n | k) -&gt; (m | k) -&gt; nat_lcm n m = k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (n | q) -&gt; (m | q) -&gt; (k | q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) -&gt; (m | k) -&gt; nat_lcm n m = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (n | q) -&gt; (m | q) -&gt; (k | q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n | k) -&gt; (m | k) -&gt; nat_lcm n m = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26c"><span class="nb">intros</span> H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">q</span> : nat, (n | q) -&gt; (m | q) -&gt; (k | q)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | k)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(m | k)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n m = k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_divides_antisym.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** As a corollary of uniqueness, we get that the least common multiple operation is commutative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26d"><span class="kn">Definition</span> <span class="nf">nat_lcm_comm</span> <span class="nv">n</span> <span class="nv">m</span> : nat_lcm n m = nat_lcm m n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n m = nat_lcm m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n m = nat_lcm m n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply nat_lcm_unique.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [nat_lcm] is associative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk26f"><span class="kn">Definition</span> <span class="nf">nat_lcm_assoc</span> <span class="nv">n</span> <span class="nv">m</span> <span class="nv">k</span> : nat_lcm n (nat_lcm m k) = nat_lcm (nat_lcm n m) k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n (nat_lcm m k) = nat_lcm (nat_lcm n m) k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk270"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_lcm n (nat_lcm m k) = nat_lcm (nat_lcm n m) k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk271">rapply nat_lcm_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : nat,
(n | q) -&gt;
(nat_lcm m k | q) -&gt; (nat_lcm (nat_lcm n m) k | q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk272" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk272"><span class="nb">intros</span> q H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | q)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_lcm m k | q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm (nat_lcm n m) k | q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk273">rapply nat_divides_l_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | q)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_lcm m k | q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(nat_lcm n m | q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk274">rapply nat_divides_l_lcm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m, k, q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(n | q)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(nat_lcm m k | q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m | q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (nat_divides_trans _ H2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Prime Numbers *)</span>

<span class="sd">(** A prime number is a number greater than [1] that is only divisible by [1] and itself. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsPrime</span> (<span class="nv">n</span> : nat) : Type0 := {
  gt_one_isprime :: <span class="mi">1</span> &lt; n;
  isprime : <span class="kr">forall</span> <span class="nv">m</span>, (m | n) -&gt; (m = <span class="mi">1</span>) + (m = n);
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_IsPrime</span> <span class="nv">n</span> : _ &lt;~&gt; IsPrime n := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk275"><span class="kn">Instance</span> <span class="nf">ishprop_isprime</span> `{Funext} n : IsHProp (IsPrime n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (IsPrime n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk276"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (IsPrime n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk277">napply istrunc_equiv_istrunc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt; IsPrime n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk278" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk278"><hr></label><div class="goal-conclusion">IsHProp <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk279"><span class="mi">1</span>: <span class="nb">apply</span> issig_IsPrime.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp
  {_ : <span class="mi">1</span> &lt; n &amp;
  <span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n) -&gt; (m = <span class="mi">1</span>) + (m = n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27a">rapply istrunc_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n -&gt;
IsHProp (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n) -&gt; (m = <span class="mi">1</span>) + (m = n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27b"><span class="nb">intros</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n) -&gt; (m = <span class="mi">1</span>) + (m = n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27c">snapply istrunc_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : nat,
IsHProp
  ((<span class="kr">fun</span> <span class="nv">a0</span> : nat =&gt; (a0 | n) -&gt; (a0 = <span class="mi">1</span>) + (a0 = n)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27d"><span class="nb">intros</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp
  ((<span class="kr">fun</span> <span class="nv">a</span> : nat =&gt; (a | n) -&gt; (a = <span class="mi">1</span>) + (a = n)) m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27e">snapply istrunc_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : (m | n),
IsHProp
  ((<span class="kr">fun</span> <span class="nv">_</span> : (m | n) =&gt; ((m = <span class="mi">1</span>) + (m = n))%type) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk27f"><span class="nb">intros</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp
  ((<span class="kr">fun</span> <span class="nv">_</span> : (m | n) =&gt; ((m = <span class="mi">1</span>) + (m = n))%type) d)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk280">rapply ishprop_sum.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">1</span> -&gt; m = n -&gt; Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk281"><span class="nb">intros</span> p q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m = <span class="mi">1</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>m = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk282">napply (snd neq_iff_lt_or_gt _ (p^ @ q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>m = <span class="mi">1</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>m = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">1</span> &lt; n) + (<span class="mi">1</span> &gt; n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [0] is not a prime number. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk283"><span class="kn">Definition</span> <span class="nf">not_isprime_zero</span> : ~ IsPrime <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk284"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk285"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply not_lt_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [1] is not a prime number. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk286"><span class="kn">Definition</span> <span class="nf">not_isprime_one</span> : ~ IsPrime <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk287"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk288"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (lt_irrefl <span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Being prime is a decidable property. We give an inefficient procedure for determining primality. More efficient procedures can be given, but for proofs this suffices. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk289"><span class="kn">Instance</span> <span class="nf">decidable_isprime</span>@{} n : Decidable (IsPrime n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsPrime n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk28a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsPrime n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** First we begin by discarding the [n = 0] case as we can easily prove that [0] is not prime. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk28b"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsPrime <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk28c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk28c"><hr></label><div class="goal-conclusion">Decidable (IsPrime n.+<span class="mi">1</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk28d"><span class="mi">1</span>: <span class="nb">right</span>; <span class="bp">exact</span> not_isprime_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsPrime n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Next, we rewrite [IsPrime n.+1] as the equivalent sigma type. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk28e">napply decidable_equiv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt; IsPrime n.+<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk28f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk28f"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk290"><span class="mi">1</span>: napply issig_IsPrime.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable
  {_ : <span class="mi">1</span> &lt; n.+<span class="mi">1</span> &amp;
  <span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** The condition in the first component in [IsPrime] is clearly decidable, so we can proceed to the second component. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk291">napply decidable_equiv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt;
{_ : <span class="mi">1</span> &lt; n.+<span class="mi">1</span> &amp;
<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk292" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk292"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk293"><span class="mi">1</span>: <span class="bp">exact</span> (equiv_sigma_prod0 _ _)^-<span class="mi">1</span>%equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable
  ((<span class="mi">1</span> &lt; n.+<span class="mi">1</span>) *
   (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk294">snapply decidable_prod.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (<span class="mi">1</span> &lt; n.+<span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk295" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk295"><hr></label><div class="goal-conclusion">Decidable
  (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk296"><span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable
  (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** In order to show that this [forall] is decidable, we will exhibit it as a [for_all] statement over a given list. The predicate will be the conclusion we wish to reach here, and the list will consist of all numbers with a condition equivalent to the divisibility condition. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk297"><span class="nb">pose</span> (P := <span class="kr">fun</span> <span class="nv">m</span> =&gt; ((m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))%type : Type0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable
  (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk298"><span class="nb">pose</span> (l := list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> =&gt; (x | n.+<span class="mi">1</span>)) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable
  (<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk299">rapply (decidable_iff (A := for_all P l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all P l &lt;-&gt;
(<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk29a"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all P l -&gt;
<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk29b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk29b"><hr></label><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)) -&gt;
for_all P l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk29c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all P l -&gt;
<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk29d"><span class="nb">intros</span> Pl x d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((x = <span class="mi">1</span>) + (x = n.+<span class="mi">1</span>))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk29e"><span class="nb">apply</span> inlist_for_all <span class="kr">with</span> l x <span class="kr">in</span> Pl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((x = <span class="mi">1</span>) + (x = n.+<span class="mi">1</span>))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk29f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><label class="goal-separator" for="division-v-chk29f"><hr></label><div class="goal-conclusion">InList x l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a0"><span class="mi">1</span>: <span class="bp">exact</span> Pl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">InList x l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a1"><span class="nb">apply</span> inlist_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(InList x (seq n.+<span class="mi">2</span>) * (x | n.+<span class="mi">1</span>))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a2"><span class="nb">split</span>; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">InList x (seq n.+<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a3"><span class="nb">apply</span> inlist_seq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt; n.+<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a4"><span class="nb">apply</span> leq_divides <span class="kr">in</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>x &lt;= n.+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x &lt; n.+<span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2a5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>Pl</var><span class="hyp-type"><b>: </b><span>for_all P l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><label class="goal-separator" for="division-v-chk2a5"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; n.+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)) -&gt;
for_all P l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a7"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">for_all P l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a8"><span class="nb">apply</span> for_all_inlist.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : nat, InList x l -&gt; P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2a9"><span class="nb">intros</span> x H&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>InList x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2aa"><span class="nb">apply</span> inlist_filter <span class="kr">in</span> H&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>(InList x (seq n.+<span class="mi">2</span>) * (x | n.+<span class="mi">1</span>))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ab"><span class="nb">destruct</span> H&#39; <span class="kr">as</span> [p H&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>InList x (seq n.+<span class="mi">2</span>)</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ac"><span class="nb">apply</span> inlist_seq <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">m</span> : nat =&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>) : Type0</span></span><span class="hyp-type"><b>: </b><span>nat -&gt; Type0</span></span></span></span><br><span><var>l</var><span><span class="hyp-body"><b>:= </b><span>list_filter (seq n.+<span class="mi">2</span>) (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; (x | n.+<span class="mi">1</span>))
  (<span class="kr">fun</span> <span class="nv">x</span> : nat =&gt; decidable_nat_divides x n.+<span class="mi">1</span>)</span></span><span class="hyp-type"><b>: </b><span>list nat</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n.+<span class="mi">1</span>) -&gt; (m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x &lt; n.+<span class="mi">2</span></span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>(x | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">rapply H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can show that the first 8 primes are prime as expected. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_2</span> : IsPrime <span class="mi">2</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_3</span> : IsPrime <span class="mi">3</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_5</span> : IsPrime <span class="mi">5</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_7</span> : IsPrime <span class="mi">7</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_11</span> : IsPrime <span class="mi">11</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_13</span> : IsPrime <span class="mi">13</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_17</span> : IsPrime <span class="mi">17</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_19</span> : IsPrime <span class="mi">19</span> := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Similarly, we can see that other natural numbers are not prime. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">not_isprime_0</span> : not (IsPrime <span class="mi">0</span>) := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">not_isprime_1</span> : not (IsPrime <span class="mi">1</span>) := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">not_isprime_4</span> : not (IsPrime <span class="mi">4</span>) := <span class="kp">ltac</span>:(decide).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can define the type of prime numbers as a subtype of natural numbers. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Prime</span> : Type0 := {n : nat &amp; IsPrime n}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">nat_of_prime</span> (p : Prime) : nat := p.<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isprime_prime</span> (<span class="nv">p</span> : Prime) : IsPrime p := p.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">lt_zero_prime</span> (<span class="nv">p</span> : Prime) : <span class="mi">0</span> &lt; p
  := lt_trans _ gt_one_isprime.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A prime [p] is coprime to a natural number [n] iff [p] does not divide [n]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ad"><span class="kn">Definition</span> <span class="nf">nat_coprime_iff_not_divides</span> (<span class="nv">p</span> : Prime) <span class="nv">n</span>
  : nat_gcd p n = <span class="mi">1</span> &lt;-&gt; ~ (p | n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd p n = <span class="mi">1</span> &lt;-&gt; ~ (p | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ae"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd p n = <span class="mi">1</span> &lt;-&gt; ~ (p | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2af"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd p n = <span class="mi">1</span> -&gt; ~ (p | n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk2b0"><hr></label><div class="goal-conclusion">~ (p | n) -&gt; nat_gcd p n = <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd p n = <span class="mi">1</span> -&gt; ~ (p | n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b2"><span class="nb">intros</span> q [d r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat_gcd p n = <span class="mi">1</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b3"><span class="nb">destruct</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat_gcd p (d * p) = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b4"><span class="nb">rewrite</span> (nat_gcd_r_add_r_mul p <span class="mi">0</span>) <span class="kr">in</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat_gcd p <span class="mi">0</span> = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b5"><span class="nb">rewrite</span> nat_gcd_zero_r <span class="kr">in</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>p = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b6"><span class="nb">apply</span> (@neq_iff_lt_or_gt p <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>p = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p &lt; <span class="mi">1</span>) + (p &gt; <span class="mi">1</span>))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>p = <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk2b7"><hr></label><div class="goal-conclusion">p = <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b8"><span class="mi">1</span>: <span class="nb">right</span>; <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>p = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2b9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (p | n) -&gt; nat_gcd p n = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ba"><span class="nb">intros</span> nd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_gcd p n = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2bb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2bb">rapply nat_gcd_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : nat, (q | p) -&gt; (q | n) -&gt; (q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2bc"><span class="nb">intros</span> q H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>(q | p)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2bd"><span class="nb">apply</span> isprime <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>((q = <span class="mi">1</span>) + (q = p))%type</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2be"><span class="nb">destruct</span> H1 <span class="kr">as</span> [H1|H1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>q = <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>q = p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><label class="goal-separator" for="division-v-chk2bf"><hr></label><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>q = <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> H1; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>nd</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>q = p</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>(q | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q | <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> H1; <span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When a prime number divides a multiple, then the prime must divide one of the factors. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c2"><span class="kn">Definition</span> <span class="nf">nat_divides_prime_l</span> (<span class="nv">p</span> : Prime) <span class="nv">n</span> <span class="nv">m</span>
  : (p | n * m) -&gt; (p | n) + (p | m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n * m) -&gt; (p | n) + (p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n * m) -&gt; (p | n) + (p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c4"><span class="nb">intros</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p | n) + (p | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c5"><span class="nb">destruct</span> (dec (p | n)) <span class="kr">as</span> [H|H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(p | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p | n) + (p | m))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2c6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br></div><label class="goal-separator" for="division-v-chk2c6"><hr></label><div class="goal-conclusion">((p | n) + (p | m))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c7"><span class="mi">1</span>: <span class="bp">by</span> <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p | n) + (p | m))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c8"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ (p | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2c9"><span class="nb">apply</span> nat_coprime_iff_not_divides <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd p n = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ca"><span class="nb">destruct</span> (nat_bezout_pos_l p n _) <span class="kr">as</span> [x [y q]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>nat_gcd p n = <span class="mi">1</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = nat_gcd p n + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2cb"><span class="nb">destruct</span> H^; <span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n * m)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2cc"><span class="nb">destruct</span> d <span class="kr">as</span> [d r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n * m</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2cd"><span class="kr">exists</span> (<span class="nv">x</span> * m - y * d).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n * m</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * m - y * d) * p = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ce">lhs napply nat_dist_sub_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n * m</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * m * p - y * d * p = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2cf"><span class="nb">rewrite</span> &lt;- <span class="mi">2</span> nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n * m</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (m * p) - y * (d * p) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d0"><span class="nb">rewrite</span> &lt;- (nat_mul_comm p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * p = n * m</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (p * m) - y * (d * p) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d1"><span class="nb">destruct</span> r^; <span class="nb">clear</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (p * m) - y * (n * m) = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d2"><span class="nb">rewrite</span> <span class="mi">2</span> nat_mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * p * m - y * n * m = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d3">lhs_V napply nat_dist_sub_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * p - y * n) * m = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d4">rhs_V napply nat_mul_one_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x * p - y * n) * m = <span class="mi">1</span> * m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d5"><span class="nb">apply</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; nat_mul x m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * p - y * n = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d6"><span class="nb">apply</span> nat_moveR_nV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>n, m, d, x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x * p = <span class="mi">1</span> + y * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * p = <span class="mi">1</span> + y * n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Composite Numbers *)</span>

<span class="sd">(** A natural number larger than [1] is composite if it has a divisor other than [1] and itself. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsComposite</span> <span class="nv">n</span> : Type0
  := iscomposite : <span class="kr">exists</span> <span class="nv">a</span>, <span class="mi">1</span> &lt; a &lt; n /\ (a | n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d7"><span class="kn">Definition</span> <span class="nf">gt_1_iscomposite</span>@{} n : IsComposite n -&gt; <span class="mi">1</span> &lt; n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComposite n -&gt; <span class="mi">1</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComposite n -&gt; <span class="mi">1</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2d9"><span class="nb">intros</span> [a [[H1 H2] H3]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; n</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>(a | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Hint Immediate</span> gt_1_iscomposite : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Being composite is a decidable property. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2da"><span class="kn">Instance</span> <span class="nf">decidable_iscomposite</span>@{} n : Decidable (IsComposite n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsComposite n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2db"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (IsComposite n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2dc"><span class="nb">unfold</span> IsComposite.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable {a : nat &amp; ((<span class="mi">1</span> &lt; a &lt; n) * (a | n))%type}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2dd">rapply (decidable_exists_nat n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">k</span> : nat, (<span class="mi">1</span> &lt; k &lt; n) * (k | n) -&gt; k &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2de"><span class="nb">intros</span> k c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>((<span class="mi">1</span> &lt; k &lt; n) * (k | n))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd (fst c)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For a number larger than [1], being prime is equivalent to not being composite. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2df"><span class="kn">Definition</span> <span class="nf">isprime_iff_not_iscomposite</span>@{} n
  : IsPrime n &lt;-&gt; <span class="mi">1</span> &lt; n /\ ~ IsComposite n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n &lt;-&gt; (<span class="mi">1</span> &lt; n) * ~ IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n &lt;-&gt; (<span class="mi">1</span> &lt; n) * ~ IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e1"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n -&gt; (<span class="mi">1</span> &lt; n) * ~ IsComposite n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2e2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk2e2"><hr></label><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsComposite n -&gt; IsPrime n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n -&gt; (<span class="mi">1</span> &lt; n) * ~ IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e4"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">1</span> &lt; n) * ~ IsComposite n)%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e5"><span class="nb">split</span>; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e6"><span class="nb">intros</span> [a [[H2 H3] H4]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime n</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; a</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>a &lt; n</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>(a | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e7"><span class="nb">apply</span> isprime <span class="kr">in</span> H4.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsPrime n</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; a</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>a &lt; n</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>((a = <span class="mi">1</span>) + (a = n))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> H4 <span class="kr">as</span> [H4|H4]; <span class="nb">destruct</span> H4; <span class="bp">exact</span> (lt_irrefl _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsComposite n -&gt; IsPrime n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2e9"><span class="nb">intros</span> [H1 H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ea">rapply Build_IsPrime.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">m</span> : nat, (m | n) -&gt; (m = <span class="mi">1</span>) + (m = n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2eb"><span class="nb">intros</span> m d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ec"><span class="nb">destruct</span> (dec (<span class="mi">1</span> &lt; d.<span class="mi">1</span>)) <span class="kr">as</span> [H2|H2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2ed" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ (<span class="mi">1</span> &lt; d.<span class="mi">1</span>)</span></span></span><br></div><label class="goal-separator" for="division-v-chk2ed"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ee">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ef"><span class="nb">pose proof</span> (divides_divisor _ _ d) <span class="kr">as</span> d&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>(d.<span class="mi">1</span> | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f0"><span class="nb">apply</span> leq_divides <span class="kr">in</span> d&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt;= n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2f1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>(d.<span class="mi">1</span> | n)</span></span></span><br></div><label class="goal-separator" for="division-v-chk2f1"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f2"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt;= n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f3" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f3"><span class="nb">apply</span> equiv_leq_lt_or_eq <span class="kr">in</span> d&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>((d.<span class="mi">1</span> &lt; n) + (d.<span class="mi">1</span> = n))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f4"><span class="nb">destruct</span> d&#39; <span class="kr">as</span> [d&#39;|d&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> = n</span></span></span><br></div><label class="goal-separator" for="division-v-chk2f5"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f6" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f7"><span class="nb">assert</span> (H&#39; : IsComposite n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComposite n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk2f8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>IsComposite n</span></span></span><br></div><label class="goal-separator" for="division-v-chk2f8"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2f9">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2fa"><span class="kr">exists</span> <span class="nv">d</span>.<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">1</span> &lt; d.<span class="mi">1</span> &lt; n) * (d.<span class="mi">1</span> | n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="kp">only</span> <span class="mi">1</span>: <span class="nb">split</span>; <span class="bp">exact</span> _.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2fb">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n</span></span></span><br><span><var>H'</var><span class="hyp-type"><b>: </b><span>IsComposite n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2fc">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d.<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2fd"><span class="nb">destruct</span> d <span class="kr">as</span> [d r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; (d; r).<span class="mi">1</span></span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>(d; r).<span class="mi">1</span> = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2fe"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>d = n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk2ff"><span class="nb">destruct</span> d&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = d))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk300"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk301"><span class="nb">rewrite</span> &lt;- nat_div_cancel <span class="kr">with</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = d / d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk302" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><label class="goal-separator" for="division-v-chk302"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; d</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk303"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = d / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk304"><span class="nb">rewrite</span> &lt;- nat_div_mul_cancel_l <span class="kr">with</span> d m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d * m) / d = d / d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk305" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><label class="goal-separator" for="division-v-chk305"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; d</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk306"><span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>d, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = d</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d * m) / d = d / d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x / d)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk307">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>~ (<span class="mi">1</span> &lt; d.<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk308"><span class="nb">apply</span> geq_iff_not_lt <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(m | n)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &gt;= d.<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk309" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk309"><span class="nb">destruct</span> d <span class="kr">as</span> [d r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &gt;= (d; r).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30a"><span class="nb">simpl</span> <span class="kr">in</span> *; <span class="nb">hnf</span> <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30b"><span class="nb">destruct</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk30c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">1</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">1</span> &lt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk30c"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30e"><span class="nb">rewrite</span> nat_mul_zero_l <span class="kr">in</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk30f"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite <span class="mi">0</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = <span class="mi">0</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = <span class="mi">0</span>))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk310" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n.+<span class="mi">1</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = n.+<span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk310"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk311"><span class="mi">1</span>: <span class="bp">contradiction</span> (not_lt_zero_r _ H1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n.+<span class="mi">1</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = n.+<span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n.+<span class="mi">1</span>))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> (neq_nat_zero_succ _ r).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk312">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">1</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">1</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk313"><span class="nb">destruct</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk314" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">2</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">2</span> &lt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="division-v-chk314"><hr></label><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk315">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk316"><span class="nb">rewrite</span> nat_mul_one_l <span class="kr">in</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk317" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk317">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">2</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">2</span> &lt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk318"><span class="nb">apply</span> leq_pred&#39; <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>~ IsComposite n</span></span></span><br><span><var>m, d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">2</span> * m = n</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d.+<span class="mi">1</span> &lt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((m = <span class="mi">1</span>) + (m = n))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span> (not_lt_zero_r d).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** And since [IsComposite] is decidable, we can show that being not prime is equivalent to being composite. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk319"><span class="kn">Definition</span> <span class="nf">not_isprime_iff_iscomposite</span>@{} n
  : <span class="mi">1</span> &lt; n /\ ~ IsPrime n &lt;-&gt; IsComposite n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsPrime n &lt;-&gt; IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk31a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsPrime n &lt;-&gt; IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk31b">napply iff_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsPrime n &lt;-&gt; <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk31c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk31c"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;-&gt; IsComposite n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk31d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ IsPrime n &lt;-&gt; <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk31e">napply iff_functor_prod.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk31f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk31f"><hr></label><div class="goal-conclusion">~ IsPrime n &lt;-&gt; <span class="nl">?Goal1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk320" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk320"><span class="mi">1</span>: <span class="bp">exact</span> iff_refl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime n &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk321">napply iff_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime n &lt;-&gt; <span class="nl">?Goal1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk322" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk322"><hr></label><div class="goal-conclusion"><span class="nl">?Goal1</span> &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk323">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ IsPrime n &lt;-&gt; <span class="nl">?Goal1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk324" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk324"><span class="nb">apply</span> iff_not.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPrime n &lt;-&gt; <span class="nl">?B</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">rapply isprime_iff_not_iscomposite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk325">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ ((<span class="mi">1</span> &lt; n) * ~ IsComposite n) &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply iff_not_prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk326" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk326">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * (~ (<span class="mi">1</span> &lt; n) + ~~ IsComposite n) &lt;-&gt;
IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk327">napply iff_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * (~ (<span class="mi">1</span> &lt; n) + ~~ IsComposite n) &lt;-&gt; <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk328" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk328"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;-&gt; IsComposite n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk329" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk329"><span class="mi">1</span>: napply sum_distrib_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ (<span class="mi">1</span> &lt; n) + (<span class="mi">1</span> &lt; n) * ~~ IsComposite n &lt;-&gt;
IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk32a">napply iff_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ (<span class="mi">1</span> &lt; n) + (<span class="mi">1</span> &lt; n) * ~~ IsComposite n &lt;-&gt;
<span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk32b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk32b"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;-&gt; IsComposite n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk32c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ (<span class="mi">1</span> &lt; n) + (<span class="mi">1</span> &lt; n) * ~~ IsComposite n &lt;-&gt;
<span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk32d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk32d">napply iff_functor_sum.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~ (<span class="mi">1</span> &lt; n) &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk32e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk32e"><hr></label><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~~ IsComposite n &lt;-&gt; <span class="nl">?Goal1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk32f"><span class="mi">1</span>: <span class="nb">apply</span> iff_contradiction.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * ~~ IsComposite n &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk330" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk330">napply iff_functor_prod.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk331" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk331"><hr></label><div class="goal-conclusion">~~ IsComposite n &lt;-&gt; <span class="nl">?Goal1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk332" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk332"><span class="mi">1</span>: <span class="bp">exact</span> iff_refl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~~ IsComposite n &lt;-&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">rapply iff_stable.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk333" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk333">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty + (<span class="mi">1</span> &lt; n) * IsComposite n &lt;-&gt; IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk334">napply iff_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty + (<span class="mi">1</span> &lt; n) * IsComposite n &lt;-&gt; <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk335" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="division-v-chk335"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;-&gt; IsComposite n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk336" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk336"><span class="mi">1</span>: rapply sum_empty_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> &lt; n) * IsComposite n &lt;-&gt; IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk337"><span class="nb">split</span>; <span class="kp">only</span> <span class="mi">1</span>: <span class="bp">exact</span> snd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComposite n -&gt; (<span class="mi">1</span> &lt; n) * IsComposite n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk338"><span class="nb">intros</span> H; <span class="nb">split</span>; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsComposite n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Fundamental theorem of arithmetic *)</span>

<span class="sd">(** Every natural number greater than [1] has a prime divisor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk339"><span class="kn">Definition</span> <span class="nf">exists_prime_divisor</span>@{} n
  : <span class="mi">1</span> &lt; n -&gt; <span class="kr">exists</span> (<span class="nv">p</span> : Prime), (p | n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n -&gt; {p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk33a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk33a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> &lt; n -&gt; {p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk33b"><span class="nb">revert</span> n; snapply nat_ind_strong; <span class="nb">hnf</span>; <span class="nb">intros</span> n IHn H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk33c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk33c"><span class="nb">destruct</span> (dec (IsPrime n)) <span class="kr">as</span> [x|x].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>IsPrime n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk33d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br></div><label class="goal-separator" for="division-v-chk33d"><hr></label><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk33e"><span class="mi">1</span>: <span class="kr">exists</span> (<span class="nv">_</span>; x); <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk33f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk33f"><span class="nb">pose</span> (r := (H, x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br><span><var>r</var><span><span class="hyp-body"><b>:= </b><span>(H, x)</span></span><span class="hyp-type"><b>: </b><span>((<span class="mi">1</span> &lt; n) * ~ IsPrime n)%type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk340"><span class="nb">apply</span> not_isprime_iff_iscomposite <span class="kr">in</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>IsComposite n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk341"><span class="nb">destruct</span> r <span class="kr">as</span> [d [[H1 H2] H3]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d &lt; n</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>(d | n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk342"><span class="nb">destruct</span> (IHn d _ _) <span class="kr">as</span> [p r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d &lt; n</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>(d | n)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(p | d)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Prime &amp; (p | n)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk343" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk343"><span class="kr">exists</span> <span class="nv">p</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat, m &lt; n -&gt; <span class="mi">1</span> &lt; m -&gt; {p : Prime &amp; (p | m)}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; n</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>~ IsPrime n</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt; d</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>d &lt; n</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>(d | n)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(p | d)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p | n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Any natural number can either be written as a product of primes or is zero. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk344"><span class="kn">Definition</span> <span class="nf">prime_factorization</span>@{} n
  : <span class="mi">0</span> &lt; n
    -&gt; <span class="kr">exists</span> (<span class="nv">l</span> : list Prime),
      n = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) <span class="nv">n</span> =&gt; nat_mul p n) <span class="mi">1</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt;
{l : list Prime &amp;
n =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk345" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk345"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; n -&gt;
{l : list Prime &amp;
n =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk346"><span class="nb">revert</span> n; snapply nat_ind_strong; <span class="nb">hnf</span>; <span class="nb">intros</span> n IHn H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk347" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk347"><span class="nb">destruct</span> H <span class="kr">as</span> [|n IH].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; <span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk348" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br></div><label class="goal-separator" for="division-v-chk348"><hr></label><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk349" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk349"><span class="mi">1</span>: <span class="kr">exists</span> <span class="nv">nil</span>; <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34a" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34a"><span class="nb">destruct</span> (exists_prime_divisor n.+<span class="mi">1</span> _) <span class="kr">as</span> [p d].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34b" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34b"><span class="nb">pose proof</span> (l := lt_divides d.<span class="mi">1</span> n.+<span class="mi">1</span> _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>(p | n.+<span class="mi">1</span>)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>d.<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34c"><span class="nb">destruct</span> d <span class="kr">as</span> [k H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34d" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34d"><span class="nb">destruct</span> (IHn k l) <span class="kr">as</span> [f r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk34e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>k =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span>
  f</span></span></span><br></div><label class="goal-separator" for="division-v-chk34e"><hr></label><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk34f" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk34f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk350" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk350"><span class="nb">destruct</span> H, k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; <span class="mi">0</span> * p -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(<span class="mi">0</span>; <span class="mi">1</span>).<span class="mi">1</span> &lt; <span class="mi">0</span> * p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="division-v-chk351" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k.+<span class="mi">1</span> * p -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k.+<span class="mi">1</span>; <span class="mi">1</span>).<span class="mi">1</span> &lt; k.+<span class="mi">1</span> * p</span></span></span><br></div><label class="goal-separator" for="division-v-chk351"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; k.+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk352" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk352"><span class="mi">1</span>: <span class="bp">contradiction</span> (lt_irrefl <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; k.+<span class="mi">1</span> * p -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k.+<span class="mi">1</span>; <span class="mi">1</span>).<span class="mi">1</span> &lt; k.+<span class="mi">1</span> * p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; k.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk353">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>k =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span>
  f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{l : list Prime &amp;
n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk354" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk354"><span class="kr">exists</span> (<span class="nv">p</span> :: f)%list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>k =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span>
  f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> =
fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span>
  (p :: f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk355" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk355"><span class="nb">simpl</span>; <span class="nb">destruct</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> = p * k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk356"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p * k = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="division-v-chk357" style="display: none" type="checkbox"><label class="alectryon-input" for="division-v-chk357">lhs napply nat_mul_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">m</span> : nat,
m &lt; n.+<span class="mi">1</span> -&gt;
<span class="mi">0</span> &lt; m -&gt;
{l : list Prime &amp; m = fold_right (<span class="kr">fun</span> (<span class="nv">p</span> : Prime) (<span class="nv">n</span> : nat) =&gt; p * n) <span class="mi">1</span> l}</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> &lt;= n</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Prime</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>k * p = n.+<span class="mi">1</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>(k; H).<span class="mi">1</span> &lt; n.+<span class="mi">1</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>list Prime</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k * p = n.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** TODO: show that any two prime factorizations are unique up to permutation of the lists. *)</span></span></pre>
</div>
</div></body>
</html>
