<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>NatTrans.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Tactics.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Square.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Opposite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Wild Natural Transformations *)</span>

<span class="sd">(** ** Transformations *)</span>

<span class="sd">(** *** Definition *)</span>

<span class="sd">(** A transformation is simply a family of 1-cells over some base type [A] between the sections of two dependent functions [F] and [G]. In most cases [F] and [G] will be non-dependent functors. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Transformation</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>} `{<span class="kr">forall</span> <span class="nv">x</span>, IsGraph (B x)}
  (F G : <span class="kr">forall</span> (<span class="nv">x</span> : A), B x)
  := <span class="kr">forall</span> (<span class="nv">a</span> : A), F a $-&gt; G a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This lets us apply transformations to things. Identity Coercion tells Coq that this coercion is in fact definitionally the identity map so it doesn&#39;t need to insert it, but merely rewrite definitionally when typechecking. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Identity Coercion</span> <span class="nf">fun_trans</span> : Transformation &gt;-&gt; <span class="kt">Funclass</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;F $=&gt; G&quot;</span> := (Transformation F G).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The identity transformation between a functor and itself is the identity function at the section. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trans_id</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is01Cat B} (F : A -&gt; B)
  : F $=&gt; F
  := <span class="kr">fun</span> <span class="nv">a</span> =&gt; Id (F a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Transformations can be composed pointwise. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trans_comp</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is01Cat B}
           {F G K : A -&gt; B} (gamma : G $=&gt; K) (alpha : F $=&gt; G)
  : F $=&gt; K
  := <span class="kr">fun</span> <span class="nv">a</span> =&gt; gamma a $o alpha a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Transformations can be prewhiskered by a function. This means we precompose both sides of the transformation with a function. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trans_prewhisker</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : <span class="kr">forall</span> <span class="nv">x</span>, C x}
  `{Is01Cat B} `{!<span class="kr">forall</span> <span class="nv">x</span>, IsGraph (C x)}
  `{!<span class="kr">forall</span> <span class="nv">x</span>, Is01Cat (C x)} (gamma : F $=&gt; G) (K : A -&gt; B) 
  : F o K $=&gt; G o K
  := gamma o K.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Transformations can be postwhiskered by a function. This means we postcompose both sides of the transformation with a function. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trans_postwhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : A -&gt; B}
  (<span class="nv">K</span> : B -&gt; C) `{Is01Cat B, Is01Cat C, !Is0Functor K} (gamma : F $=&gt; G)
  : K o F $=&gt; K o G
  := <span class="kr">fun</span> <span class="nv">a</span> =&gt; fmap K (gamma a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A transformation in the opposite category is simply a transformation in the original category with the direction swapped. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trans_op</span> {<span class="nv">A</span>} {<span class="nv">B</span>} `{Is01Cat B}
  (F : A -&gt; B) (G : A -&gt; B) (alpha : F $=&gt; G)
  : Transformation (A:=A^op) (B:=<span class="kr">fun</span> <span class="nv">_</span> =&gt; B^op) G (F : A^op -&gt; B^op)
  := alpha.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Naturality *)</span>

<span class="sd">(** A transformation is 1-natural if there exists a 2-cell witnessing the naturality square. The codomain of the transformation must be a wild 1-category. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Is1Natural</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A, Is1Cat B}
  (F : A -&gt; B) `{!Is0Functor F} (G : A -&gt; B) `{!Is0Functor G}
  (alpha : F $=&gt; G) := Build_Is1Natural&#39; {
  isnat {a a&#39;} (f : a $-&gt; a&#39;) : alpha a&#39; $o fmap F f $== fmap G f $o alpha a;
  <span class="sd">(** We also include the transposed naturality square in the definition so that opposite natural transformations are definitionally involutive. In most cases, this will be constructed to be the inverse of the [isnat] field. *)</span>
  isnat_tr {a a&#39;} (f : a $-&gt; a&#39;) : fmap G f $o alpha a $== alpha a&#39; $o fmap F f;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Is1Natural {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B}
  F {is0functor_F} G {is0functor_G} alpha : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> isnat {_ _ _ _ _ _ _ _ _ _ _} alpha {alnat _ _} f : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> isnat_tr {_ _ _ _ _ _ _ _ _ _ _} alpha {alnat _ _} f : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We coerce naturality proofs to their naturality square as the [isnat] projection can be unwieldy in certain situations where the transformation is difficult to write down. This allows for the naturality proof to be used directly. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">isnat</span> : Is1Natural &gt;-&gt; <span class="kt">Funclass</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk1"><span class="kn">Definition</span> <span class="nf">Build_Is1Natural</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{Is1Cat B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G} (alpha : F $=&gt; G)
  (isnat : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> (<span class="nv">f</span> : a $-&gt; a&#39;), alpha a&#39; $o fmap F f $== fmap G f $o alpha a)
  : Is1Natural F G alpha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G alpha</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G alpha</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3">snapply Build_Is1Natural&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk4"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap G f $o alpha a $== alpha a&#39; $o fmap F f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> isnat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap G f $o alpha a $== alpha a&#39; $o fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk7"><span class="nb">intros</span> a a&#39; f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>isnat</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap G f $o alpha a $== alpha a&#39; $o fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat a a&#39; f)^$.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The identity transformation is 1-natural. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk8"><span class="kn">Instance</span> <span class="nf">is1natural_id</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{Is1Cat B}
  (F : A -&gt; B) `{!Is0Functor F}
  : Is1Natural F F (trans_id F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F F (trans_id F)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F F (trans_id F)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chka">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_id F a&#39; $o fmap F f $== fmap F f $o trans_id F a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chkb"><span class="nb">intros</span> a b f; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trans_id F b $o fmap F f $== fmap F f $o trans_id F a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_idl _ $@ (cat_idr _)^$).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The composite of 1-natural transformations is 1-natural. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chkc"><span class="kn">Instance</span> <span class="nf">is1natural_comp</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{Is1Cat B}
  {F G K : A -&gt; B} `{!Is0Functor F} `{!Is0Functor G} `{!Is0Functor K}
  (gamma : G $=&gt; K) `{!Is1Natural G K gamma}
  (alpha : F $=&gt; G) `{!Is1Natural F G alpha}
  : Is1Natural F K (trans_comp gamma alpha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F K (trans_comp gamma alpha)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F K (trans_comp gamma alpha)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chke">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_comp gamma alpha a&#39; $o fmap F f $==
fmap K f $o trans_comp gamma alpha a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chkf"><span class="nb">intros</span> a b f; <span class="nb">unfold</span> trans_comp; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gamma b $o alpha b $o fmap F f $==
fmap K f $o (gamma a $o alpha a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk10"><span class="nb">refine</span> (cat_assoc _ _ _ $@ (_ $@L isnat alpha f) $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gamma b $o (fmap G f $o alpha a) $==
fmap K f $o (gamma a $o alpha a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk11"><span class="nb">refine</span> (cat_assoc_opp _ _ _ $@ (isnat gamma f $@R _) $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F, G, K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>G $=&gt; K</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural G K gamma</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural1</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap K f $o gamma a $o alpha a $==
fmap K f $o (gamma a $o alpha a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Prewhiskering a transformation preserves naturality. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk12"><span class="kn">Instance</span> <span class="nf">is1natural_prewhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : B -&gt; C} (<span class="nv">K</span> : A -&gt; B)
  `{IsGraph A, Is01Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G, !Is0Functor K}
  (gamma : F $=&gt; G) `{L : !Is1Natural F G gamma}
  : Is1Natural (F o K) (G o K) (trans_prewhisker gamma K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (F o K) (G o K) (trans_prewhisker gamma K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (F o K) (G o K) (trans_prewhisker gamma K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk14">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_prewhisker gamma K a&#39; $o fmap (F o K) f $==
fmap (G o K) f $o trans_prewhisker gamma K a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk15"><span class="nb">intros</span> x y f; <span class="nb">unfold</span> trans_prewhisker; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gamma (K y) $o fmap F (fmap K f) $==
fmap G (fmap K f) $o gamma (K x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat gamma _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Postwhiskering a transformation preserves naturality. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk16"><span class="kn">Instance</span> <span class="nf">is1natural_postwhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : A -&gt; B} (<span class="nv">K</span> : B -&gt; C)
  `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G,
    !Is0Functor K, !Is1Functor K}
  (gamma : F $=&gt; G) `{L : !Is1Natural F G gamma}
  : Is1Natural (K o F) (K o G) (trans_postwhisker K gamma).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (K o F) (K o G) (trans_postwhisker K gamma)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (K o F) (K o G) (trans_postwhisker K gamma)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk18">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_postwhisker K gamma a&#39; $o fmap (K o F) f $==
fmap (K o G) f $o trans_postwhisker K gamma a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk19"><span class="nb">intros</span> x y f; <span class="nb">unfold</span> trans_postwhisker; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap K (gamma y) $o fmap K (fmap F f) $==
fmap K (fmap G f) $o fmap K (gamma x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk1a"><span class="nb">refine</span> (_^$ $@ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> $-&gt; fmap K (gamma y) $o fmap K (fmap F f)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk1b"><hr></label><div class="goal-conclusion"><span class="nl">?Goal0</span> $== <span class="nl">?Goal</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk1c"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> $== fmap K (fmap G f) $o fmap K (gamma x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk1d"><span class="mi">1</span>,<span class="mi">3</span>: rapply fmap_comp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap K (gamma y $o fmap F f) $==
fmap K (fmap G f $o gamma x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk1e">rapply fmap2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br><span><var>gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gamma y $o fmap F f $== fmap G f $o gamma x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat gamma _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Modifying a transformation to something pointwise equal preserves naturality. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk1f"><span class="kn">Definition</span> <span class="nf">is1natural_homotopic</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is01Cat A} `{Is1Cat B}
  {F : A -&gt; B} `{!Is0Functor F} {G : A -&gt; B} `{!Is0Functor G}
  {alpha : F $=&gt; G} (gamma : F $=&gt; G) `{!Is1Natural F G gamma}
  (p : <span class="kr">forall</span> <span class="nv">a</span>, alpha a $== gamma a)
  : Is1Natural F G alpha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha, gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, alpha a $== gamma a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G alpha</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha, gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, alpha a $== gamma a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G alpha</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk21">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha, gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, alpha a $== gamma a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
alpha a&#39; $o fmap F f $== fmap G f $o alpha a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk22"><span class="nb">intros</span> a b f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha, gamma</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G gamma</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, alpha a $== gamma a</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">alpha b $o fmap F f $== fmap G f $o alpha a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((p b $@R _) $@ isnat gamma f $@ (_ $@L (p a)^$)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The opposite of a natural transformation is natural. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk23"><span class="kn">Instance</span> <span class="nf">is1natural_op</span> <span class="nv">A</span> <span class="nv">B</span> `{Is01Cat A} `{Is1Cat B}
  (F : A -&gt; B) `{!Is0Functor F} (G : A -&gt; B) `{!Is0Functor G}
  (alpha : F $=&gt; G) `{!Is1Natural F G alpha}
  : Is1Natural (G : A^op -&gt; B^op) (F : A^op -&gt; B^op) (trans_op F G alpha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (G : A^op -&gt; B^op) (F : A^op -&gt; B^op)
  (trans_op F G alpha)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (G : A^op -&gt; B^op) (F : A^op -&gt; B^op)
  (trans_op F G alpha)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk25"><span class="nb">unfold</span> op.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural G F (trans_op F G alpha)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk26">snapply Build_Is1Natural&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_op F G alpha a&#39; $o fmap (G : A^op -&gt; B^op) f $==
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk27"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a $==
trans_op F G alpha a&#39; $o fmap (G : A^op -&gt; B^op) f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk28">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
trans_op F G alpha a&#39; $o fmap (G : A^op -&gt; B^op) f $==
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk29"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : a $-&gt; b,
trans_op F G alpha b $o fmap (G : A^op -&gt; B^op) f $==
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat_tr alpha).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a $==
trans_op F G alpha a&#39; $o fmap (G : A^op -&gt; B^op) f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2b"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>Is1Natural0</var><span class="hyp-type"><b>: </b><span>Is1Natural F G alpha</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : a $-&gt; b,
fmap (F : A^op -&gt; B^op) f $o trans_op F G alpha a $==
trans_op F G alpha b $o fmap (G : A^op -&gt; B^op) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat alpha).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Natural transformations *)</span>

<span class="sd">(** Here we give the bundled definition of a natural transformation which can be more convenient to work with in certain situations. It forms the Hom type of the functor category. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">NatTrans</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{Is1Cat B} {F G : A -&gt; B}
  {ff : Is0Functor F} {fg : Is0Functor G} := {
  #[reversible=no]
  trans_nattrans :&gt; F $=&gt; G;
  is1natural_nattrans :: Is1Natural F G trans_nattrans;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> NatTrans {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B}
  F G {is0functor_F} {is0functor_G} : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Build_NatTrans {A B isgraph_A isgraph_B is2graph_B is01cat_B is1cat_B
  F G is0functor_F is0functor_G} alpha isnat_alpha : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_NatTrans</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{Is1Cat B} (F G : A -&gt; B)
  {ff : Is0Functor F} {fg : Is0Functor G}
  : _ &lt;~&gt; NatTrans F G := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nattrans_id</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">F</span> : A -&gt; B)
  `{IsGraph A, Is1Cat B, !Is0Functor F}
  : NatTrans F F
  := Build_NatTrans (trans_id F) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nattrans_comp</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> <span class="nv">K</span> : A -&gt; B}
  `{IsGraph A, Is1Cat B, !Is0Functor F, !Is0Functor G, !Is0Functor K}
  : NatTrans G K -&gt; NatTrans F G -&gt; NatTrans F K
  := <span class="kr">fun</span> <span class="nv">alpha</span> <span class="nv">beta</span> =&gt; Build_NatTrans (trans_comp alpha beta) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nattrans_prewhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : B -&gt; C}
  `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G}
  (alpha : NatTrans F G) (K : A -&gt; B) `{!Is0Functor K} 
  : NatTrans (F o K) (G o K)
  := Build_NatTrans (trans_prewhisker alpha K) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nattrans_postwhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">F</span> <span class="nv">G</span> : A -&gt; B} (<span class="nv">K</span> : B -&gt; C)
  `{IsGraph A, Is1Cat B, Is1Cat C, !Is0Functor F, !Is0Functor G,
    !Is0Functor K, !Is1Functor K} 
  : NatTrans F G -&gt; NatTrans (K o F) (K o G)
  := <span class="kr">fun</span> <span class="nv">alpha</span> =&gt; Build_NatTrans (trans_postwhisker K alpha) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nattrans_op</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is01Cat A} `{Is1Cat B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G}
  : NatTrans F G
    -&gt; NatTrans (A:=A^op) (B:=B^op) (G : A^op -&gt; B^op) (F : A^op -&gt; B^op)
  := <span class="kr">fun</span> <span class="nv">alpha</span> =&gt; Build_NatTrans (trans_op F G alpha) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Natural equivalences *)</span>

<span class="sd">(** Natural equivalences are families of equivalences that are natural. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">NatEquiv</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G} := {
  #[reversible=no]
  cat_equiv_natequiv :&gt; <span class="kr">forall</span> <span class="nv">a</span>, F a $&lt;~&gt; G a ;
  is1natural_natequiv :: Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> =&gt; cat_equiv_natequiv a) ;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> NatEquiv {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B} {hasequivs_B}
  F G {is0functor_F} {is0functor_G} : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Build_NatEquiv {A B} {isgraph_A}
  {isgraph_B} {is2graph_B} {is01cat_B} {is1cat_B} {hasequivs_B}
  F G {is0functor_F} {is0functor_G} e isnat_e: <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_NatEquiv</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  (F G : A -&gt; B) `{!Is0Functor F, !Is0Functor G}
  : _ &lt;~&gt; NatEquiv F G := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** From a given natural equivalence, we can get the underlying natural transformation. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2c"><span class="kn">Lemma</span> <span class="nf">nattrans_natequiv</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G}
  : NatEquiv F G -&gt; NatTrans F G.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatTrans F G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatTrans F G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2e"><span class="nb">intros</span> alpha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatTrans F G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk2f">napply Build_NatTrans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (is1natural_natequiv alpha).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Throws a warning, but can probably be ignored. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global Set Warnings</span> <span class="s2">&quot;-ambiguous-paths&quot;</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">nattrans_natequiv</span> : NatEquiv &gt;-&gt; NatTrans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The above coercion sometimes doesn&#39;t trigger when it should, so we add the following. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isnat_natequiv</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G} (alpha : NatEquiv F G)
  {a a&#39; : A} (f : a $-&gt; a&#39;)
  := isnat (nattrans_natequiv alpha) f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Often we wish to build a natural equivalence from a natural transformation and a pointwise proof that it is an equivalence. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk30"><span class="kn">Definition</span> <span class="nf">Build_NatEquiv&#39;</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G}
  (alpha : NatTrans F G) `{<span class="kr">forall</span> <span class="nv">a</span>, CatIsEquiv (alpha a)}
  : NatEquiv F G.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk32">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk33"><hr></label><div class="goal-conclusion">Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="nl">?e</span> a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk34">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk35"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F a $&lt;~&gt; G a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Build_CatEquiv (alpha a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural F G
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Build_CatEquiv (alpha a0)) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk37">snapply Build_Is1Natural&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a&#39; $o
fmap F f $==
fmap G f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk38"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap G f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a $==
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a&#39; $o
fmap F f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk39">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a&#39; $o
fmap F f $==
fmap G f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3a"><span class="nb">intros</span> a a&#39; f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Build_CatEquiv (alpha a0)) a)) a&#39; $o
fmap F f $==
fmap G f $o
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Build_CatEquiv (alpha a0)) a)) a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3b"><span class="nb">refine</span> ((cate_buildequiv_fun _ $@R _) $@ _ $@ (_ $@L cate_buildequiv_fun _)^$).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">alpha a&#39; $o fmap F f $== fmap G f $o alpha a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat alpha _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap G f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a $==
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; Build_CatEquiv (alpha a1)) a0)) a&#39; $o
fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3d"><span class="nb">intros</span> a a&#39; f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap G f $o
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Build_CatEquiv (alpha a0)) a)) a $==
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Build_CatEquiv (alpha a0)) a)) a&#39; $o
fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3e"><span class="nb">refine</span> ((_ $@L cate_buildequiv_fun _) $@ _ $@ (cate_buildequiv_fun _ $@R _)^$).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatTrans F G</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (alpha a)</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap G f $o alpha a $== alpha a&#39; $o fmap F f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (isnat_tr alpha _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">natequiv_id</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F : A -&gt; B} `{!Is0Functor F}
  : NatEquiv F F
  := Build_NatEquiv&#39; (nattrans_id F).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">natequiv_compose</span> {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">F</span> <span class="nv">G</span> <span class="nv">H</span> : A -&gt; B} `{IsGraph A} `{HasEquivs B}
  `{!Is0Functor F, !Is0Functor G, !Is0Functor H}
  (alpha : NatEquiv G H) (beta : NatEquiv F G)
  : NatEquiv F H
  := Build_NatEquiv&#39; (nattrans_comp alpha beta).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">natequiv_prewhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} {<span class="nv">H</span> <span class="nv">K</span> : B -&gt; C}
  `{IsGraph A, HasEquivs B, HasEquivs C, !Is0Functor H, !Is0Functor K}
  (alpha : NatEquiv H K) (F : A -&gt; B) `{!Is0Functor F}
  : NatEquiv (H o F) (K o F)
  := Build_NatEquiv&#39; (nattrans_prewhisker alpha F).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk3f"><span class="kn">Definition</span> <span class="nf">natequiv_postwhisker</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} {<span class="nv">F</span> <span class="nv">G</span> : A -&gt; B}
  `{IsGraph A, HasEquivs B, HasEquivs C, !Is0Functor F, !Is0Functor G}
   (K : B -&gt; C) (alpha : NatEquiv F G) `{!Is0Functor K, !Is1Functor K}
  : NatEquiv (K o F) (K o G).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv (K o F) (K o G)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv (K o F) (K o G)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk41">srefine (Build_NatEquiv&#39; (nattrans_postwhisker K alpha)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor K</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk42"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
CatIsEquiv (nattrans_postwhisker K alpha a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk43"><span class="mi">2</span>: <span class="nb">unfold</span> nattrans_postwhisker, trans_postwhisker; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor K</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>NatEquiv F G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor K</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk44"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, CatIsEquiv (fmap K (alpha a))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk45"><span class="kn">Lemma</span> <span class="nf">natequiv_op</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is01Cat A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G}
  : NatEquiv F G -&gt; NatEquiv (G : A^op -&gt; B^op) F.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatEquiv (G : A^op -&gt; B^op) F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatEquiv (G : A^op -&gt; B^op) F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk47"><span class="nb">intros</span> [a n].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; a a0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv G F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk48">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; a a0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A^op, G a $&lt;~&gt; F a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; a a0)</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk49"><hr></label><div class="goal-conclusion">Is1Natural G F (<span class="kr">fun</span> <span class="nv">a0</span> : A^op =&gt; <span class="nl">?e</span> a0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk4a"><span class="mi">1</span>: <span class="bp">exact</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; a a0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural G F (<span class="kr">fun</span> <span class="nv">a0</span> : A^op =&gt; a a0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply is1natural_op.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can form the inverse natural equivalence by inverting each map in the family. The naturality proof follows from standard lemmas about inverses. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk4b"><span class="kn">Definition</span> <span class="nf">natequiv_inverse</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{IsGraph A} `{HasEquivs B}
  {F G : A -&gt; B} `{!Is0Functor F, !Is0Functor G}
  : NatEquiv F G -&gt; NatEquiv G F.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatEquiv G F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv F G -&gt; NatEquiv G F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk4d"><span class="nb">intros</span> [alpha I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv G F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk4e">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, G a $&lt;~&gt; F a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk4f"><hr></label><div class="goal-conclusion">Is1Natural G F (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="nl">?e</span> a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk50"><span class="mi">1</span>: <span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (alpha a)^-<span class="mi">1</span>$).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural G F
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; (alpha a0)^-<span class="mi">1</span>$) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk51">snapply Build_Is1Natural&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a&#39; $o
fmap G f $==
fmap F f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk52"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap F f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a $==
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a&#39; $o
fmap G f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk53">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a&#39; $o
fmap G f $==
fmap F f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk54"><span class="nb">intros</span> X Y f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X $-&gt; Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; (alpha a0)^-<span class="mi">1</span>$) a)) Y $o
fmap G f $==
fmap F f $o
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; (alpha a0)^-<span class="mi">1</span>$) a)) X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> vinverse, I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk55">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
fmap F f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a $==
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; (alpha a1)^-<span class="mi">1</span>$) a0)) a&#39; $o
fmap G f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk56"><span class="nb">intros</span> X Y f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, F a $&lt;~&gt; G a</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Is1Natural F G (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; alpha a)</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X $-&gt; Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F f $o
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; (alpha a0)^-<span class="mi">1</span>$) a)) X $==
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; (alpha a0)^-<span class="mi">1</span>$) a)) Y $o
fmap G f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> hinverse, I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This lemma might seem unnecessary since as functions ((F o G) o K) and (F o (G o K)) are definitionally equal. But the functor instances of both sides are different. This can be a nasty trap since you cannot see this difference clearly. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk57"><span class="kn">Definition</span> <span class="nf">natequiv_functor_assoc_ff_f</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : <span class="kt">Type</span>}
  `{IsGraph A, HasEquivs B, HasEquivs C, HasEquivs D} 
  (F : C -&gt; D) (G : B -&gt; C) (K : A -&gt; B)
  `{!Is0Functor F, !Is0Functor G, !Is0Functor K}
  : NatEquiv ((F o G) o K) (F o (G o K)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv (F o G o K) (F o (G o K))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk58"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NatEquiv (F o G o K) (F o (G o K))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk59">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; (F o G) (K x)) a $&lt;~&gt;
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; F ((G o K) x)) a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="nattrans-v-chk5a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><label class="goal-separator" for="nattrans-v-chk5a"><hr></label><div class="goal-conclusion">Is1Natural (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; (F o G) (K x))
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; F ((G o K) x)) 
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="nl">?e</span> a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5b"><span class="mi">1</span>: <span class="nb">intro</span>; <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; (F o G) (K x))
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; F ((G o K) x))
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; reflexive_cate (F (G (K a0)))) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5c">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a $-&gt; a&#39;),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; reflexive_cate (F (G (K a1)))) a0))
  a&#39; $o fmap ((<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; F (G x)) o K) f $==
fmap (F o (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; G (K x))) f $o
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a1</span> : A =&gt; reflexive_cate (F (G (K a1)))) a0))
  a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5d"><span class="nb">intros</span> X Y f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X $-&gt; Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; reflexive_cate (F (G (K a0)))) a))
  Y $o fmap ((<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; F (G x)) o K) f $==
fmap (F o (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; G (K x))) f $o
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 cate_fun
   ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; reflexive_cate (F (G (K a0)))) a))
  X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5e"><span class="nb">refine</span> (cat_prewhisker (id_cate_fun _) _ $@ cat_idl _ $@ _^$).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasEquivs B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>HasEquivs C</span></span></span><br><span><var>IsGraph2</var><span class="hyp-type"><b>: </b><span>IsGraph D</span></span></span><br><span><var>Is2Graph2</var><span class="hyp-type"><b>: </b><span>Is2Graph D</span></span></span><br><span><var>Is01Cat2</var><span class="hyp-type"><b>: </b><span>Is01Cat D</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Is1Cat D</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>HasEquivs D</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is0Functor1</var><span class="hyp-type"><b>: </b><span>Is0Functor G</span></span></span><br><span><var>Is0Functor2</var><span class="hyp-type"><b>: </b><span>Is0Functor K</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X $-&gt; Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (F o (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; G (K x))) f $o
reflexive_cate (F (G (K X))) $-&gt;
fmap ((<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; F (G x)) o K) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_postwhisker _ (id_cate_fun _) $@ cat_idr _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Pointed natural transformations *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">PointedTransformation</span> {<span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} `{Is1Cat B, Is1Gpd C}
  `{IsPointed B, IsPointed C} (F G : B --&gt;* C)
  := {eta : F $=&gt; G &amp; eta (point _) $== bp_pointed F $@ (bp_pointed G)^$}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;F $=&gt;* G&quot;</span> := (PointedTransformation F G) (<span class="kn">at level</span> <span class="mi">70</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk5f"><span class="kn">Definition</span> <span class="nf">ptransformation_inverse</span> {<span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} `{Is1Cat B, Is1Gpd C}
  `{IsPointed B, IsPointed C} (F G : B --&gt;* C)
  : (F $=&gt;* G) -&gt; (G $=&gt;* F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F $=&gt;* G -&gt; G $=&gt;* F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk60"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F $=&gt;* G -&gt; G $=&gt;* F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk61"><span class="nb">intros</span> [h p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>h (point B) $== bp_pointed F $@ (bp_pointed G)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">G $=&gt;* F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk62"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; (h x)^$).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>h (point B) $== bp_pointed F $@ (bp_pointed G)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(h (point B))^$ $== bp_pointed G $@ (bp_pointed F)^$</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk63"><span class="nb">refine</span> (gpd_rev2 p $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>h (point B) $== bp_pointed F $@ (bp_pointed G)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(bp_pointed F $@ (bp_pointed G)^$)^$ $==
bp_pointed G $@ (bp_pointed F)^$</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk64"><span class="nb">refine</span> (gpd_rev_pp _ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>h (point B) $== bp_pointed F $@ (bp_pointed G)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(bp_pointed F)^$ $o ((bp_pointed G)^$)^$ $==
bp_pointed G $@ (bp_pointed F)^$</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk65"><span class="nb">refine</span> (_ $@L _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F, G</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>F $=&gt; G</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>h (point B) $== bp_pointed F $@ (bp_pointed G)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((bp_pointed G)^$)^$ $== bp_pointed G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> gpd_rev_rev.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;h ^*$&quot;</span> := (ptransformation_inverse _ _ h) (<span class="kn">at level</span> <span class="mi">5</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk66"><span class="kn">Definition</span> <span class="nf">ptransformation_compose</span> {<span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} `{Is1Cat B, Is1Gpd C}
  `{IsPointed B, IsPointed C} {F0 F1 F2 : B --&gt;* C}
  : (F0 $=&gt;* F1) -&gt; (F1 $=&gt;* F2) -&gt; (F0 $=&gt;* F2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F0 $=&gt;* F1 -&gt; F1 $=&gt;* F2 -&gt; F0 $=&gt;* F2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk67"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F0 $=&gt;* F1 -&gt; F1 $=&gt;* F2 -&gt; F0 $=&gt;* F2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk68"><span class="nb">intros</span> [h0 p0] [h1 p1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>F0 $=&gt; F1</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F1)^$</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>F1 $=&gt; F2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h1 (point B) $==
bp_pointed F1 $@ (bp_pointed F2)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F0 $=&gt;* F2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk69"><span class="kr">exists</span> (<span class="nv">trans_comp</span> <span class="nv">h1</span> <span class="nv">h0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>F0 $=&gt; F1</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F1)^$</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>F1 $=&gt; F2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h1 (point B) $==
bp_pointed F1 $@ (bp_pointed F2)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trans_comp h1 h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F2)^$</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk6a"><span class="nb">refine</span> ((p1 $@R _) $@ (_ $@L p0) $@ _);
    <span class="nb">unfold</span> gpd_comp; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>F0 $=&gt; F1</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F1)^$</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>F1 $=&gt; F2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h1 (point B) $==
bp_pointed F1 $@ (bp_pointed F2)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(bp_pointed F2)^$ $o bp_pointed F1 $o
((bp_pointed F1)^$ $o bp_pointed F0) $==
(bp_pointed F2)^$ $o bp_pointed F0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk6b"><span class="nb">refine</span> (cat_assoc _ _ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>F0 $=&gt; F1</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F1)^$</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>F1 $=&gt; F2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h1 (point B) $==
bp_pointed F1 $@ (bp_pointed F2)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(bp_pointed F2)^$ $o
(bp_pointed F1 $o ((bp_pointed F1)^$ $o bp_pointed F0)) $==
(bp_pointed F2)^$ $o bp_pointed F0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="nattrans-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="nattrans-v-chk6c">rapply (fmap _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph B</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph B</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat B</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph C</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph C</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat C</span></span></span><br><span><var>Is0Gpd0</var><span class="hyp-type"><b>: </b><span>Is0Gpd C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is1Gpd C</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>IsPointed B</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>IsPointed C</span></span></span><br><span><var>F0, F1, F2</var><span class="hyp-type"><b>: </b><span>B --&gt;* C</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>F0 $=&gt; F1</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>h0 (point B) $==
bp_pointed F0 $@ (bp_pointed F1)^$</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>F1 $=&gt; F2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h1 (point B) $==
bp_pointed F1 $@ (bp_pointed F2)^$</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bp_pointed F1 $o ((bp_pointed F1)^$ $o bp_pointed F0) $-&gt;
bp_pointed F0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> gpd_h_Vh.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;h $@* k&quot;</span> := (ptransformation_compose h k) (<span class="kn">at level</span> <span class="mi">40</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* TODO: *)</span>
<span class="c">(* Morphisms of natural transformations - Modifications *)</span>
<span class="c">(* Since [Transformation] is dependent, we can define a modification to be a transformation together with a cylinder condition. This doesn&#39;t seem to be too useful as of yet however. We would also need better ways to write down cylinders. *)</span></span></pre>
</div>
</div></body>
</html>
