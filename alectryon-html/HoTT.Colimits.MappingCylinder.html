<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>MappingCylinder.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** * Mapping Cylinders *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk0"><span class="kn">Require Import</span> HoTT.Basics Cubical.DPath Cubical.PathSquare.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Colimits.Pushout.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** As in topology, the mapping cylinder of a function [f : A -&gt; B] is a way to replace it with an equivalent cofibration (dually to how [hfiber] replaces it with an equivalent fibration).  We can&#39;t talk *internally* in type theory about cofibrations, but we can say metatheoretically what they are: functions with the isomorphism extension property.  So while we can&#39;t literally say &quot;let [f] be a cofibration&quot; we can do a mostly equivalent thing and say &quot;let [f] be a map and consider its mapping cylinder&quot;.  Replacing a map by a cofibration can be useful because it allows us to make more equalities true definitionally. *)</span>

<span class="sd">(** ** Definitions *)</span>

<span class="sd">(** We define the mapping cylinder as the pushout of [f] and an identity map.  Peter Lumsdaine has given a definition of HIT mapping cylinders that are dependent on the codomain, so that the second factor is not just an equivalence but a trivial fibration.  However, at the moment we don&#39;t have a need for that.  *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Cyl</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) : <span class="kt">Type</span>
  := Pushout idmap f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">MappingCylinder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">f</span> : A -&gt; B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyl</span> (<span class="nv">a</span> : A) : Cyl f
    := pushl a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyr</span> (<span class="nv">b</span> : B) : Cyl f
    := pushr b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyglue</span> (<span class="nv">a</span> : A)
    : cyl a = cyr (f a)
    := pglue a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CylInd</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">P</span> : Cyl f -&gt; <span class="kt">Type</span>)
            (<span class="nv">cyla</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (cyl a))
            (<span class="nv">cylb</span> : <span class="kr">forall</span> <span class="nv">b</span>, P (cyr b))
            (<span class="nv">cylg</span> : <span class="kr">forall</span> <span class="nv">a</span>, DPath P (cyglue a) (cyla a) (cylb (f a))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Cyl_ind</span> : <span class="kr">forall</span> <span class="nv">c</span>, P c
      := Pushout_ind _ cyla cylb cylg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Cyl_ind_beta_cyglue</span> (<span class="nv">a</span> : A)
      : apD Cyl_ind (cyglue a) = cylg a
      := Pushout_ind_beta_pglue _ _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CylInd</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CylRec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">P</span> : <span class="kt">Type</span>} (<span class="nv">cyla</span> : A -&gt; P) (<span class="nv">cylb</span> : B -&gt; P) (<span class="nv">cylg</span> : cyla == cylb o f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Cyl_rec</span> : Cyl f -&gt; P
      := Pushout_rec _ cyla cylb cylg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Cyl_rec_beta_cyglue</span> (<span class="nv">a</span> : A)
      : ap Cyl_rec (cyglue a) = cylg a
      := Pushout_rec_beta_pglue _ _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CylRec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1"><span class="kn">Definition</span> <span class="nf">pr_cyl</span> : Cyl f &lt;~&gt; B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f &lt;~&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f &lt;~&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="sd">(** Rather than adjointifying, we give all parts of the equivalence explicitly, so we can be sure of retaining the computational behavior of [eissect] and [eisretr].  However, it&#39;s easier to prove [eisadj] on the other side, so we reverse the equivalence first. *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B &lt;~&gt; Cyl f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk4">srapply Build_Equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B -&gt; Cyl f</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk5"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?equiv_fun</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk6"><span class="mi">1</span>:<span class="bp">exact</span> cyr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv cyr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk7">srapply Build_IsEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f -&gt; B</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk8"><hr></label><div class="goal-conclusion">cyr o <span class="nl">?equiv_inv</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk9"><hr></label><div class="goal-conclusion"><span class="nl">?equiv_inv</span> o cyr == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chka"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : B, <span class="nl">?eisretr</span> (cyr x) = ap cyr (<span class="nl">?eissect</span> x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f -&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chkc">srapply Cyl_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; B</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chkd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chkd"><hr></label><div class="goal-conclusion">B -&gt; B</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chke"><hr></label><div class="goal-conclusion"><span class="nl">?cyla</span> == <span class="nl">?cylb</span> o f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chkf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk10">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B -&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk11">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f == idmap o f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk12">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk13">srapply Cyl_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
 (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c = idmap c)
  (cyl a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk14"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
 (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c = idmap c)
  (cyr b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk15" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk15"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
DPath
  (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
   (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
   idmap c) (cyglue a) (<span class="nl">?cyla</span> a) (<span class="nl">?cylb</span> (f a))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk16">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
 (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c = idmap c)
  (cyl a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk17"><span class="nb">intros</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cyr (Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) (cyl a)) =
cyl a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> cyglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk18">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
 (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c = idmap c)
  (cyr b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> b; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk19">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
DPath
  (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
   (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
   idmap c) (cyglue a)
  ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
    (cyglue a0)^
    :
    (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
     (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
     idmap c) (cyl a0)) a) ((<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; <span class="mi">1</span>) (f a))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1a"><span class="nb">intros</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
   cyr (Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) c) = c)
  (cyglue a) (cyglue a)^ = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1b"><span class="nb">apply</span> dp_paths_FFlr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap cyr
    (ap (Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) (cyglue a)))^ @
 (cyglue a)^) @ cyglue a = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1c"><span class="nb">rewrite</span> Cyl_rec_beta_cyglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap cyr <span class="mi">1</span>)^ @ (cyglue a)^) @ cyglue a = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> concat_pV_p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) o cyr == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> b; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : B,
Cyl_ind
  (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
   (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
   idmap c)
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   (cyglue a)^
   :
   (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
    (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
    idmap c) (cyl a)) (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; <span class="mi">1</span>)
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   (<span class="kr">let</span> <span class="nv">X</span> :=
      <span class="kr">fun</span> (<span class="nv">p</span> : cyl a = cyr (f a))
        (<span class="nv">q</span> : cyr
               (Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)
                  (cyl a)) = cyl a)
        (<span class="nv">r</span> : cyr
               (Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)
                  (cyr (f a))) = cyr (f a)) =&gt;
      equiv_fun (dp_paths_FFlr p q r) <span class="kr">in</span>
    X (cyglue a) (cyglue a)^ <span class="mi">1</span>
      (internal_paths_rew_r
         (<span class="kr">fun</span>
            <span class="nv">p</span> : Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)
                  (cyl a) =
                Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)
                  (cyr (f a)) =&gt;
          ((ap cyr p)^ @ (cyglue a)^) @ cyglue a = <span class="mi">1</span>)
         (concat_pV_p <span class="mi">1</span> (cyglue a))
         (Cyl_rec_beta_cyglue f idmap
            (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) a)))
   :
   DPath
     (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
      (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
      idmap c) (cyglue a)
     ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
       (cyglue a0)^
       :
       (<span class="kr">fun</span> <span class="nv">c</span> : Cyl f =&gt;
        (cyr o Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>)) c =
        idmap c) (cyl a0)) a) ((<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; <span class="mi">1</span>) (f a)))
  (cyr x) =
ap cyr
  (((<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; <span class="mi">1</span>)
    :
    Cyl_rec f idmap (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) o cyr == idmap)
     x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> b; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ap_pr_cyl_cyglue</span> (<span class="nv">a</span> : A)
    : ap pr_cyl (cyglue a) = <span class="mi">1</span>
    := Cyl_rec_beta_cyglue _ _ _ a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The original map [f] factors definitionally through [Cyl f]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pr_cyl_cyl</span> (<span class="nv">a</span> : A) : pr_cyl (cyl a) = f a
    := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">MappingCylinder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sometimes we have to specify the map explicitly. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyl&#39;</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) : A -&gt; Cyl f := cyl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pr_cyl&#39;</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) : Cyl f -&gt; B := pr_cyl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Functoriality *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">FunctorCyl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>: <span class="kt">Type</span>} {<span class="nv">f</span> : A -&gt; B} {<span class="nv">f&#39;</span> : A&#39; -&gt; B&#39;}
          {<span class="nv">ga</span> : A -&gt; A&#39;} {<span class="nv">gb</span> : B -&gt; B&#39;}
          (<span class="nv">g</span> : f&#39; o ga == gb o f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk1f"><span class="kn">Definition</span> <span class="nf">functor_cyl</span> : Cyl f -&gt; Cyl f&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f -&gt; Cyl f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl f -&gt; Cyl f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk21">srapply Cyl_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Cyl f&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk22"><hr></label><div class="goal-conclusion">B -&gt; Cyl f&#39;</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk23"><hr></label><div class="goal-conclusion"><span class="nl">?cyla</span> == <span class="nl">?cylb</span> o f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Cyl f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cyl o ga).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk25">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B -&gt; Cyl f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cyr o gb).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cyl o ga == cyr o gb o f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk27"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cyl (ga a) = cyr (gb (f a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk28"><span class="nb">refine</span> (_ @ ap cyr (g a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cyl (ga a) = cyr (f&#39; (ga a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cyglue (ga a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ap_functor_cyl_cyglue</span> (<span class="nv">a</span> : A)
    : ap functor_cyl (cyglue a) = cyglue (ga a) @ ap cyr (g a)
    := Cyl_rec_beta_cyglue _ _ _ a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The benefit of passing to the mapping cylinder is that it makes a square commute definitionally. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">functor_cyl_cyl</span> (<span class="nv">a</span> : A) : cyl (ga a) = functor_cyl (cyl a)
    := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The other square also commutes, though not definitionally. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pr_functor_cyl</span> (<span class="nv">c</span> : Cyl f)
    : pr_cyl (functor_cyl c) = gb (pr_cyl c)
    := ap (pr_cyl o functor_cyl) (eissect pr_cyl c)^.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk29"><span class="kn">Definition</span> <span class="nf">pr_functor_cyl_cyl</span> (<span class="nv">a</span> : A)
    : pr_functor_cyl (cyl a) = g a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pr_functor_cyl (cyl a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pr_functor_cyl (cyl a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="sd">(** Here we need [eissect pr_cyl (cyl a)] to compute. *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2b"><span class="nb">refine</span> (ap _ (inv_V _) @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : Cyl f =&gt; pr_cyl (functor_cyl x))
  (cyglue a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2c"><span class="nb">refine</span> (ap_compose functor_cyl pr_cyl (cyglue a) @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cyl (ap functor_cyl (cyglue a)) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2d"><span class="nb">refine</span> (ap _ (ap_functor_cyl_cyglue a) @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cyl (cyglue (ga a) @ ap cyr (g a)) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2e"><span class="nb">refine</span> (ap_pp _ _ _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cyl (cyglue (ga a)) @ ap pr_cyl (ap cyr (g a)) =
g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk2f"><span class="nb">refine</span> (whiskerR (ap_pr_cyl_cyglue (ga a)) _ @ concat_1p _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cyl (ap cyr (g a)) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk30"><span class="nb">refine</span> ((ap_compose cyr _ (g a))^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; B&#39;</span></span></span><br><span><var>ga</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>gb</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>f&#39; o ga == gb o f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; pr_cyl (cyr x)) (g a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ap_idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">FunctorCyl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Coequalizers *)</span>

<span class="sd">(** A particularly useful application is to replace a map of coequalizers with one where both squares commute definitionally. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CylCoeq</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
          {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
          (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">CylCoeq</span> : <span class="kt">Type</span>
    := Coeq (functor_cyl p) (functor_cyl q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyl_cylcoeq</span> : Coeq f g -&gt; CylCoeq
    := functor_coeq cyl cyl (functor_cyl_cyl p) (functor_cyl_cyl q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk31"><span class="kn">Definition</span> <span class="nf">ap_cyl_cylcoeq_cglue</span> (<span class="nv">b</span> : B)
    : ap cyl_cylcoeq (cglue b) = cglue (cyl b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap cyl_cylcoeq (cglue b) = cglue (cyl b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk32"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap cyl_cylcoeq (cglue b) = cglue (cyl b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk33"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap cyl_cylcoeq (cglue b) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk34"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> = cglue (cyl b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk35"><span class="mi">1</span>:rapply functor_coeq_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap coeq (functor_cyl_cyl p b) @ cglue (cyl b)) @
ap coeq (functor_cyl_cyl q b)^ = cglue (cyl b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (concat_p1 _ @ concat_1p _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pr_cylcoeq</span> : CylCoeq &lt;~&gt; Coeq f&#39; g&#39;
    := equiv_functor_coeq pr_cyl pr_cyl (pr_functor_cyl p) (pr_functor_cyl q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk36"><span class="kn">Definition</span> <span class="nf">ap_pr_cylcoeq_cglue</span> (<span class="nv">x</span> : Cyl h)
    : PathSquare (ap pr_cylcoeq (cglue x)) (cglue (pr_cyl x))
                 (ap coeq (pr_functor_cyl p x))
                 (ap coeq (pr_functor_cyl q x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap pr_cylcoeq (cglue x))
  (cglue (pr_cyl x)) (ap coeq (pr_functor_cyl p x))
  (ap coeq (pr_functor_cyl q x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap pr_cylcoeq (cglue x))
  (cglue (pr_cyl x)) (ap coeq (pr_functor_cyl p x))
  (ap coeq (pr_functor_cyl q x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk38"><span class="nb">apply</span> sq_path.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cylcoeq (cglue x) @ ap coeq (pr_functor_cyl q x) =
ap coeq (pr_functor_cyl p x) @ cglue (pr_cyl x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk39"><span class="nb">apply</span> moveR_pM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cylcoeq (cglue x) =
(ap coeq (pr_functor_cyl p x) @ cglue (pr_cyl x)) @
(ap coeq (pr_functor_cyl q x))^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3a"><span class="nb">rewrite</span> &lt;- (ap_V coeq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap pr_cylcoeq (cglue x) =
(ap coeq (pr_functor_cyl p x) @ cglue (pr_cyl x)) @
ap coeq (pr_functor_cyl q x)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">rapply functor_coeq_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3b"><span class="kn">Definition</span> <span class="nf">pr_cyl_cylcoeq</span>
    : functor_coeq h k p q == pr_cylcoeq o cyl_cylcoeq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q == pr_cylcoeq o cyl_cylcoeq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q == pr_cylcoeq o cyl_cylcoeq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3d"><span class="nb">intros</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q c = pr_cylcoeq (cyl_cylcoeq c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3e"><span class="nb">refine</span> (_ @ functor_coeq_compose cyl cyl (functor_cyl_cyl p) (functor_cyl_cyl q)
              pr_cyl pr_cyl (pr_functor_cyl p) (pr_functor_cyl q) c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q c =
functor_coeq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; pr_cyl (cyl x))
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; pr_cyl (cyl x))
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   ap pr_cyl (functor_cyl_cyl p b) @
   pr_functor_cyl p (cyl b))
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   ap pr_cyl (functor_cyl_cyl q b) @
   pr_functor_cyl q (cyl b)) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk3f">srapply functor_coeq_homotopy.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">h == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; pr_cyl (cyl x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk40"><hr></label><div class="goal-conclusion">k == (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; pr_cyl (cyl x))</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk41"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
<span class="nl">?s</span> (f b) @
(<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt;
 ap pr_cyl (functor_cyl_cyl p b0) @
 pr_functor_cyl p (cyl b0)) b = p b @ ap f&#39; (<span class="nl">?r</span> b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk42"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
<span class="nl">?s</span> (g b) @
(<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt;
 ap pr_cyl (functor_cyl_cyl q b0) @
 pr_functor_cyl q (cyl b0)) b = q b @ ap g&#39; (<span class="nl">?r</span> b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk43"><span class="mi">1</span>-<span class="mi">2</span>:<span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) (f b) @
(<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt;
 ap pr_cyl (functor_cyl_cyl p b0) @
 pr_functor_cyl p (cyl b0)) b =
p b @ ap f&#39; ((<span class="kr">fun</span> <span class="nv">x0</span> : B =&gt; <span class="mi">1</span>) b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk44"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) (g b) @
(<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt;
 ap pr_cyl (functor_cyl_cyl q b0) @
 pr_functor_cyl q (cyl b0)) b =
q b @ ap g&#39; ((<span class="kr">fun</span> <span class="nv">x0</span> : B =&gt; <span class="mi">1</span>) b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk45"><span class="kp">all</span>:<span class="nb">intros</span> b; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> @ (<span class="mi">1</span> @ pr_functor_cyl p (cyl b)) = p b @ <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk46" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk46"><hr></label><div class="goal-conclusion"><span class="mi">1</span> @ (<span class="mi">1</span> @ pr_functor_cyl q (cyl b)) = q b @ <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="mappingcylinder-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="mappingcylinder-v-chk47"><span class="kp">all</span>:<span class="nb">refine</span> (concat_1p _ @ concat_1p _ @ _ @ (concat_p1 _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pr_functor_cyl p (cyl b) = p b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="mappingcylinder-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="mappingcylinder-v-chk48"><hr></label><div class="goal-conclusion">pr_functor_cyl q (cyl b) = q b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>:<span class="nb">apply</span> pr_functor_cyl_cyl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CylCoeq</span>.</span></span></pre>
</div>
</div></body>
</html>
