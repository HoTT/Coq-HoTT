<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Separated.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk0"><span class="kn">Require Import</span> HoTT.Basics HoTT.Types HoTT.Cubical.DPath.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> HFiber Extensions Factorization Limits.Pullback.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Modality Accessible Descent.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Truncations.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Homotopy.Suspension.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> subuniverse_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Subuniverses of separated types *)</span>

<span class="sd">(** The basic reference for subuniverses of separated types is</span>
<span class="sd">  - Christensen, Opie, Rijke, and Scoccola, &quot;Localization in Homotopy Type Theory&quot;, https://arxiv.org/abs/1807.04155.</span>
<span class="sd">hereinafter referred to as &quot;CORS&quot;.  *)</span>

<span class="sd">(** ** Definition *)</span>

<span class="sd">(** The definition is in [ReflectiveSubuniverse.v]. *)</span>

<span class="sd">(** ** Basic properties *)</span>

<span class="sd">(** A function is (fiberwise) in [Sep O] exactly when its diagonal is in [O]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Diagonal</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">O</span> : Subuniverse) {<span class="nv">X</span> <span class="nv">Y</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : X -&gt; Y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1"><span class="kn">Definition</span> <span class="nf">mapinO_diagonal</span> `{MapIn (Sep O) _ _ f} : MapIn O (diagonal f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn (Sep O) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MapIn O (diagonal f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn (Sep O) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MapIn O (diagonal f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn (Sep O) f</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pullback f f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (hfiber (diagonal f) p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (inO_equiv_inO&#39; _ (hfiber_diagonal f p)^-<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4"><span class="kn">Definition</span> <span class="nf">mapinO_from_diagonal</span> `{MapIn O _ _ (diagonal f)} : MapIn (Sep O) f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn O (diagonal f)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MapIn (Sep O) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn O (diagonal f)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MapIn (Sep O) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6"><span class="nb">intros</span> x1 u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn O (diagonal f)</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>Y</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>hfiber f x1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (u = v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7"><span class="nb">destruct</span> v <span class="kr">as</span> [x2 p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn O (diagonal f)</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>Y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>hfiber f x1</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x2 = x1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (u = (x2; p))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>MapIn O (diagonal f)</span></span></span><br><span><var>x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>hfiber f (f x2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (u = (x2; <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (inO_equiv_inO&#39; _ (hfiber_diagonal f (u.<span class="mi">1</span>; x2; u.<span class="mi">2</span>))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Diagonal</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Lemma 2.15 of CORS: If [O] is accessible, so is [Sep O].  Its generators are the suspension of those of [O], in the following sense: *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9"><span class="kn">Definition</span> <span class="nf">susp_localgen</span> (<span class="nv">f</span> : LocalGenerators@{a}) : LocalGenerators@{a}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>LocalGenerators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LocalGenerators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chka"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>LocalGenerators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LocalGenerators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chkb"><span class="nb">econstructor</span>; <span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>LocalGenerators</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="nl">?lgen_indices</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?lgen_domain</span> i -&gt; <span class="nl">?lgen_codomain</span> i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (functor_susp (f i)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chkc"><span class="kn">Instance</span> <span class="nf">isaccrsu_sep</span> (<span class="nv">O</span> : Subuniverse) `{IsAccRSU O}
  : IsAccRSU (Sep O).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsAccRSU (Sep O)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsAccRSU (Sep O)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chke"><span class="kr">exists</span> (<span class="nv">susp_localgen</span> (acc_lgen O)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">X</span> : <span class="kt">Type</span>,
In (Sep O) X &lt;-&gt;
IsLocal_Internal.IsLocal (susp_localgen (acc_lgen O))
  X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chkf"><span class="nb">intros</span> A; <span class="nb">split</span>; <span class="nb">intros</span> A_inO.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLocal_Internal.IsLocal (susp_localgen (acc_lgen O))
  A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsLocal_Internal.IsLocal
  (susp_localgen (acc_lgen O)) A</span></span></span><br></div><label class="goal-separator" for="separated-v-chk10"><hr></label><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk11">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLocal_Internal.IsLocal (susp_localgen (acc_lgen O))
  A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk12"><span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (susp_localgen (acc_lgen O))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain (susp_localgen (acc_lgen O)) i
   =&gt; A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk13"><span class="nb">apply</span> (ooextendable_iff_functor_susp (acc_lgen O i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (susp_localgen (acc_lgen O))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">NS</span> : A * A,
ooExtendableAlong (acc_lgen O i)
  (<span class="kr">fun</span> <span class="nv">x</span> : lgen_codomain (acc_lgen O) i =&gt;
   DPath
     (<span class="kr">fun</span>
        <span class="nv">_</span> : lgen_codomain (susp_localgen (acc_lgen O))
              i =&gt; A) (merid x) (fst NS) (snd NS))</div></blockquote></div></div></small><span class="alectryon-wsp">  
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk14"><span class="nb">intros</span> [x y].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (susp_localgen (acc_lgen O))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i)
  (<span class="kr">fun</span> <span class="nv">x0</span> : lgen_codomain (acc_lgen O) i =&gt;
   DPath
     (<span class="kr">fun</span>
        <span class="nv">_</span> : lgen_codomain (susp_localgen (acc_lgen O))
              i =&gt; A) (merid x0) (fst (x, y))
     (snd (x, y)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk15"><span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, In O (x = y)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i)
  (<span class="kr">fun</span> <span class="nv">x0</span> : lgen_codomain (acc_lgen O) i =&gt;
   transport
     (<span class="kr">fun</span> <span class="nv">_</span> : Susp (lgen_codomain (acc_lgen O) i) =&gt; A)
     (merid x0) x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk16"><span class="nb">refine</span> (ooextendable_postcompose&#39; _ _ _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, In O (x = y)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : lgen_codomain (acc_lgen O) i,
<span class="nl">?Goal0</span> b &lt;~&gt;
transport
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp (lgen_codomain (acc_lgen O) i) =&gt; A)
  (merid b) x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, In O (x = y)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="separated-v-chk17"><hr></label><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i) <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk18"><span class="mi">2</span>:<span class="nb">apply</span> inO_iff_islocal; <span class="bp">exact</span> (A_inO x y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, In O (x = y)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : lgen_codomain (acc_lgen O) i,
(<span class="kr">fun</span> <span class="nv">_</span> : lgen_codomain (acc_lgen O) i =&gt; x = y) b &lt;~&gt;
transport
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp (lgen_codomain (acc_lgen O) i) =&gt; A)
  (merid b) x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk19"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, In O (x = y)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>lgen_codomain (acc_lgen O) i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">_</span> : lgen_codomain (acc_lgen O) i =&gt; x = y) b &lt;~&gt;
transport
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp (lgen_codomain (acc_lgen O) i) =&gt; A)
  (merid b) x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> dp_const.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1a">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsLocal_Internal.IsLocal
  (susp_localgen (acc_lgen O)) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsLocal_Internal.IsLocal
  (susp_localgen (acc_lgen O)) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1c"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsLocal_Internal.IsLocal
  (susp_localgen (acc_lgen O)) A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1d"><span class="nb">apply</span> (inO_iff_islocal O); <span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsLocal_Internal.IsLocal
  (susp_localgen (acc_lgen O)) A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i)
  (<span class="kr">fun</span> <span class="nv">_</span> : lgen_codomain (acc_lgen O) i =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1e"><span class="nb">specialize</span> (A_inO i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (susp_localgen (acc_lgen O)) i =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i)
  (<span class="kr">fun</span> <span class="nv">_</span> : lgen_codomain (acc_lgen O) i =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk1f"><span class="nb">refine</span> (ooextendable_postcompose&#39; _ _ _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (susp_localgen (acc_lgen O)) i =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : lgen_codomain (acc_lgen O) i,
<span class="nl">?Goal</span> b &lt;~&gt; x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (susp_localgen (acc_lgen O)) i =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="separated-v-chk20"><hr></label><div class="goal-conclusion">ooExtendableAlong (acc_lgen O i) <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk21"><span class="mi">2</span>:<span class="bp">exact</span> (fst (ooextendable_iff_functor_susp (acc_lgen O i) _) A_inO (x,y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (susp_localgen (acc_lgen O)) i =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : lgen_codomain (acc_lgen O) i,
(<span class="kr">fun</span> <span class="nv">x0</span> : lgen_codomain (acc_lgen O) i =&gt;
 DPath
   (<span class="kr">fun</span>
      <span class="nv">_</span> : lgen_codomain (susp_localgen (acc_lgen O)) i
    =&gt; A) (merid x0) (fst (x, y)) (snd (x, y))) b &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk22"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccRSU O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices (acc_lgen O)</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (susp_localgen (acc_lgen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (susp_localgen (acc_lgen O)) i =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>lgen_codomain (acc_lgen O) i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x0</span> : lgen_codomain (acc_lgen O) i =&gt;
 DPath
   (<span class="kr">fun</span>
      <span class="nv">_</span> : lgen_codomain (susp_localgen (acc_lgen O)) i
    =&gt; A) (merid x0) (fst (x, y)) (snd (x, y))) b &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="bp">exact</span> dp_const.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk23"><span class="kn">Definition</span> <span class="nf">susp_nullgen</span> (<span class="nv">S</span> : NullGenerators@{a}) : NullGenerators@{a}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>S</var><span class="hyp-type"><b>: </b><span>NullGenerators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NullGenerators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>S</var><span class="hyp-type"><b>: </b><span>NullGenerators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NullGenerators</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk25"><span class="nb">econstructor</span>; <span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>S</var><span class="hyp-type"><b>: </b><span>NullGenerators</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="nl">?ngen_indices</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Susp (S i)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk26"><span class="kn">Instance</span> <span class="nf">isaccmodality_sep</span> (<span class="nv">O</span> : Subuniverse) `{IsAccModality O}
  : IsAccModality (Sep O).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsAccModality (Sep O)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk27"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsAccModality (Sep O)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk28"><span class="kr">exists</span> (<span class="nv">susp_nullgen</span> (acc_ngen O)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">X</span> : <span class="kt">Type</span>,
In (Sep O) X &lt;-&gt;
IsNull_Internal.IsNull (susp_nullgen (acc_ngen O)) X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk29"><span class="nb">intros</span> A; <span class="nb">split</span>; <span class="nb">intros</span> A_inO.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsNull_Internal.IsNull (susp_nullgen (acc_ngen O)) A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsNull_Internal.IsNull
  (susp_nullgen (acc_ngen O)) A</span></span></span><br></div><label class="goal-separator" for="separated-v-chk2a"><hr></label><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk2b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsNull_Internal.IsNull (susp_nullgen (acc_ngen O)) A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk2c"><span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i =&gt; A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk2d"><span class="nb">apply</span> (ooextendable_compose _ (functor_susp (<span class="kr">fun</span> <span class="nv">_</span>:acc_ngen O i =&gt; tt)) (<span class="kr">fun</span> <span class="nv">_</span>:Susp Unit =&gt; tt)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; tt)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i =&gt; A)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br></div><label class="goal-separator" for="separated-v-chk2e"><hr></label><div class="goal-conclusion">ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk2f"><span class="mi">1</span>:<span class="nb">apply</span> ooextendable_equiv, isequiv_contr_contr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk30"><span class="nb">apply</span> (ooextendable_iff_functor_susp (<span class="kr">fun</span> <span class="nv">_</span>:acc_ngen O i =&gt; tt)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">NS</span> : A * A,
ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x</span> : Unit =&gt;
   DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid x) (fst NS)
     (snd NS))</div></blockquote></div></div></small><span class="alectryon-wsp">  
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk31"><span class="nb">intros</span> [x y].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x0</span> : Unit =&gt;
   DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid x0)
     (fst (x, y)) (snd (x, y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk32"><span class="nb">refine</span> (ooextendable_postcompose&#39; _ _ _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Unit,
<span class="nl">?Goal0</span> b &lt;~&gt;
DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid b) (fst (x, y))
  (snd (x, y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="separated-v-chk33"><hr></label><div class="goal-conclusion">ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt) <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk34"><span class="mi">2</span>:<span class="nb">apply</span> inO_iff_isnull; <span class="bp">exact</span> (A_inO x y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Unit,
(<span class="kr">fun</span>
   <span class="nv">_</span> : lgen_codomain
         (null_to_local_generators (acc_ngen O)) i =&gt;
 x = y) b &lt;~&gt;
DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid b) (fst (x, y))
  (snd (x, y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk35"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)))</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Unit</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span>
   <span class="nv">_</span> : lgen_codomain
         (null_to_local_generators (acc_ngen O)) i =&gt;
 x = y) b &lt;~&gt;
DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid b) (fst (x, y))
  (snd (x, y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> dp_const.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk36">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsNull_Internal.IsNull
  (susp_nullgen (acc_ngen O)) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk37">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsNull_Internal.IsNull
  (susp_nullgen (acc_ngen O)) A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk38"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsNull_Internal.IsNull
  (susp_nullgen (acc_ngen O)) A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk39"><span class="nb">apply</span> (inO_iff_isnull O); <span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>IsNull_Internal.IsNull
  (susp_nullgen (acc_ngen O)) A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3a"><span class="nb">specialize</span> (A_inO i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3b"><span class="nb">assert</span> (ee : ooExtendableAlong (functor_susp (<span class="kr">fun</span> <span class="nv">_</span>:acc_ngen O i =&gt; tt)) (<span class="kr">fun</span> <span class="nv">_</span> =&gt; A)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br></div><label class="goal-separator" for="separated-v-chk3c"><hr></label><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3e"><span class="nb">refine</span> (cancelL_ooextendable _ _ (<span class="kr">fun</span> <span class="nv">_</span> =&gt; tt) _ A_inO).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; tt)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i =&gt; A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk3f"><span class="nb">apply</span> ooextendable_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; tt)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> isequiv_contr_contr.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk40">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk41"><span class="nb">assert</span> (e := fst (ooextendable_iff_functor_susp (<span class="kr">fun</span> <span class="nv">_</span>:acc_ngen O i =&gt; tt) _) ee (x,y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x0</span> : Unit =&gt;
   DPath (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) 
     (merid x0) (fst (x, y)) 
     (snd (x, y)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk42"><span class="nb">cbn</span> <span class="kr">in</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x0</span> : Unit =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid x0) x =
   y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong
  (null_to_local_generators (acc_ngen O) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators (acc_ngen O)) i
   =&gt; x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk43"><span class="nb">refine</span> (ooextendable_postcompose&#39; _ _ _ _ e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x0</span> : Unit =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid x0) x =
   y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Unit,
transport (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid b) x = y &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk44"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsAccModality O</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>lgen_indices
  (null_to_local_generators (acc_ngen O))</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (null_to_local_generators
     (susp_nullgen (acc_ngen O)) i)
  (<span class="kr">fun</span>
     <span class="nv">_</span> : lgen_codomain
           (null_to_local_generators
              (susp_nullgen (acc_ngen O))) i
   =&gt; A)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>ee</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong
  (functor_susp (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt))
  (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong (<span class="kr">fun</span> <span class="nv">_</span> : acc_ngen O i =&gt; tt)
  (<span class="kr">fun</span> <span class="nv">x0</span> : Unit =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid x0) x =
   y)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Unit</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">_</span> : Susp Unit =&gt; A) (merid b) x = y &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="bp">exact</span> dp_const.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">}</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Remark 2.16(1) of CORS *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk45"><span class="kn">Instance</span> <span class="nf">O_leq_SepO</span> (<span class="nv">O</span> : ReflectiveSubuniverse)
  : O &lt;= Sep O.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">O &lt;= Sep O</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">O &lt;= Sep O</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> A ? x y; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Part of Remark 2.16(2) of CORS *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk47"><span class="kn">Definition</span> <span class="nf">in_SepO_embedding</span> (<span class="nv">O</span> : Subuniverse)
           {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">i</span> : A -&gt; B) `{IsEmbedding i} `{In (Sep O) B}
  : In (Sep O) A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>IsEmbedding0</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>IsEmbedding0</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk49"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Subuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>IsEmbedding0</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) B</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (inO_equiv_inO&#39; _ (equiv_ap_isembedding i x y)^-<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* As a special case, if X embeds into an n-type for n &gt;= -1 then X is an n-type. Note that this doesn&#39;t hold for n = -2. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4a"><span class="kn">Corollary</span> <span class="nf">istrunc_embedding_trunc</span> {<span class="nv">X</span> <span class="nv">Y</span> : <span class="kt">Type</span>} {<span class="nv">n</span> : trunc_index} `{istr : IsTrunc n.+<span class="mi">1</span> Y}
      (i : X -&gt; Y) `{isem : IsEmbedding i} : IsTrunc n.+<span class="mi">1</span> X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>istr</var><span class="hyp-type"><b>: </b><span>IsTrunc n.+<span class="mi">1</span> Y</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>isem</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n.+<span class="mi">1</span> X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>istr</var><span class="hyp-type"><b>: </b><span>IsTrunc n.+<span class="mi">1</span> Y</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>isem</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n.+<span class="mi">1</span> X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4c"><span class="nb">apply</span> istrunc_S.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>istr</var><span class="hyp-type"><b>: </b><span>IsTrunc n.+<span class="mi">1</span> Y</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>isem</var><span class="hyp-type"><b>: </b><span>IsEmbedding i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : X, IsTrunc n (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (@in_SepO_embedding (Tr n) _ _ i isem istr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4d"><span class="kn">Instance</span> <span class="nf">in_SepO_hprop</span> (<span class="nv">O</span> : ReflectiveSubuniverse)
       {<span class="nv">A</span> : <span class="kt">Type</span>} `{IsHProp A}
  : In (Sep O) A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHProp0</var><span class="hyp-type"><b>: </b><span>IsHProp A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHProp0</var><span class="hyp-type"><b>: </b><span>IsHProp A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk4f">srapply (in_SepO_embedding O (const_tt _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHProp0</var><span class="hyp-type"><b>: </b><span>IsHProp A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) Unit</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x y; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** Remark 2.16(4) of CORS *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk50"><span class="kn">Definition</span> <span class="nf">sigma_closed_SepO</span> (<span class="nv">O</span> : Modality) {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>)
           `{A_inO : In (Sep O) A} `{B_inO : <span class="kr">forall</span> <span class="nv">a</span>, In (Sep O) (B a)}
  : In (Sep O) (sig B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) {x : _ &amp; B x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk51"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) {x : _ &amp; B x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk52"><span class="nb">intros</span> [x u] [y v].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In (Sep O) A</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>B x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>B y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O ((x; u) = (y; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk53"><span class="nb">specialize</span> (A_inO x y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In O (x = y)</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>B x</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>B y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O ((x; u) = (y; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk54"><span class="nb">pose proof</span> (<span class="kr">fun</span> <span class="nv">p</span>:x=y =&gt; B_inO y (p # u) v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In O (x = y)</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>B x</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>B y</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">p</span> : x = y, In O (transport B p u = v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O ((x; u) = (y; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk55"><span class="nb">pose</span> @inO_sigma.  <span class="c">(* Speed up typeclass search. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>Modality</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>A_inO</var><span class="hyp-type"><b>: </b><span>In O (x = y)</span></span></span><br><span><var>B_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, In (Sep O) (B a)</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>B x</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>B y</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">p</span> : x = y, In O (transport B p u = v)</span></span></span><br><span><var>i</var><span><span class="hyp-body"><b>:= </b><span>inO_sigma</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">O</span> : Modality) (<span class="nv">A</span> : <span class="kt">Type</span>) 
(<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>),
In O A -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A, In O (B a)) -&gt; In O {x : A &amp; B x}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O ((x; u) = (y; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (inO_equiv_inO&#39; _ (equiv_path_sigma B _ _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Lemma 2.17 of CORS *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk56"><span class="kn">Instance</span> <span class="nf">issurjective_to_SepO</span> (<span class="nv">O</span> : ReflectiveSubuniverse) (<span class="nv">X</span> : <span class="kt">Type</span>)
           `{Reflects (Sep O) X}
  : IsSurjection (to (Sep O) X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk57"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk58"><span class="nb">pose</span> (im := himage (to (Sep O) X)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk59"><span class="nb">pose proof</span> (in_SepO_embedding O (factor2 im)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5a"><span class="nb">pose</span> (s := O_rec (factor1 im)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5b"><span class="nb">assert</span> (h : factor2 im o s == idmap).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : O_reflector (Sep O) X =&gt; factor2 im (s x)) ==
idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk5c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>factor2 im o s == idmap</span></span></span><br></div><label class="goal-separator" for="separated-v-chk5c"><hr></label><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : O_reflector (Sep O) X =&gt; factor2 im (s x)) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5e"><span class="nb">apply</span> O_indpaths; <span class="nb">intros</span> x; <span class="nb">subst</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">factor2 im (O_rec (factor1 im) (to (Sep O) X x)) =
to (Sep O) X x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk5f"><span class="nb">rewrite</span> O_rec_beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">factor2 im (factor1 im x) = to (Sep O) X x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> fact_factors.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk60">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>factor2 im o s == idmap</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) (to (Sep O) X)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk61"><span class="nb">apply</span> BuildIsSurjection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>factor2 im o s == idmap</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : O_reflector (Sep O) X,
merely (hfiber (to (Sep O) X) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk62"><span class="nb">intros</span> z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>factor2 im o s == idmap</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (to (Sep O) X) z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk63"><span class="nb">specialize</span> (h z); <span class="nb">cbn</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>(s z).<span class="mi">1</span> = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (to (Sep O) X) z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk64"><span class="nb">set</span> (w := s z) <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X</span></span></span><br><span><var>w</var><span><span class="hyp-body"><b>:= </b><span>s z</span></span><span class="hyp-type"><b>: </b><span>im</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>w.<span class="mi">1</span> = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (to (Sep O) X) z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk65"><span class="nb">destruct</span> w <span class="kr">as</span> [w1 w2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>z, w1</var><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X</span></span></span><br><span><var>w2</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>) (hfiber (to (Sep O) X) w1)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>w1 = z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (to (Sep O) X) z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk66"><span class="nb">destruct</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>im</var><span><span class="hyp-body"><b>:= </b><span>himage (to (Sep O) X)</span></span><span class="hyp-type"><b>: </b><span>Factorization (@IsConnMap (Tr (-<span class="mi">1</span>)))
  (@MapIn (Tr (-<span class="mi">1</span>))) (to (Sep O) X)</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) im</span></span></span><br><span><var>s</var><span><span class="hyp-body"><b>:= </b><span>O_rec (factor1 im)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; im</span></span></span></span><br><span><var>w1</var><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X</span></span></span><br><span><var>w2</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>) (hfiber (to (Sep O) X) w1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (hfiber (to (Sep O) X) w1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> w2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Proposition 2.18 of CORS. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk67"><span class="kn">Definition</span> <span class="nf">almost_inSepO_typeO</span>@{i j} `{Univalence}
           (O : ReflectiveSubuniverse) (A B : Type_@{i j} O)
  : { Z : <span class="kt">Type</span>@{i} &amp; In O Z * (Z &lt;~&gt; (A = B)) }.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; A = B)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk68"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; A = B)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk69"><span class="kr">exists</span> (<span class="nv">A</span> &lt;~&gt; B); <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (A &lt;~&gt; B)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><label class="goal-separator" for="separated-v-chk6a"><hr></label><div class="goal-conclusion">(A &lt;~&gt; B) &lt;~&gt; A = B</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (A &lt;~&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &lt;~&gt; B) &lt;~&gt; A = B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6d"><span class="nb">refine</span> (equiv_path_TypeO O A B oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A &lt;~&gt; B) &lt;~&gt; A.<span class="mi">1</span> = B.<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_universe.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Lemma 2.21 of CORS *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6e"><span class="kn">Instance</span> <span class="nf">inSepO_sigma</span> (<span class="nv">O</span> : ReflectiveSubuniverse)
       {<span class="nv">X</span> : <span class="kt">Type</span>} {<span class="nv">P</span> : X -&gt; <span class="kt">Type</span>} `{In (Sep O) X} `{<span class="kr">forall</span> <span class="nv">x</span>, In O (P x)}
  : In (Sep O) (sig P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) {x : _ &amp; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk6f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) {x : _ &amp; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk70"><span class="nb">intros</span> u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P x)</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; P x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (u = v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (inO_equiv_inO&#39; _ (equiv_path_sigma P _ _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Proposition 2.22 of CORS (in funext-free form). *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk71"><span class="kn">Instance</span> <span class="nf">reflectsD_SepO</span> (<span class="nv">O</span> : ReflectiveSubuniverse)
       {<span class="nv">X</span> : <span class="kt">Type</span>} `{Reflects (Sep O) X}
  : ReflectsD (Sep O) O X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectsD (Sep O) O X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk72"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectsD (Sep O) O X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">srapply reflectsD_from_inO_sigma.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Once we know that [Sep O] is a reflective subuniverse, this will mean that [O &lt;&lt; Sep O]. *)</span>

<span class="sd">(** And now the version with funext. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isequiv_toSepO_inO</span> `{Funext} (O : ReflectiveSubuniverse)
           {X : <span class="kt">Type</span>} `{Reflects (Sep O) X}
           (P : O_reflector (Sep O) X -&gt; <span class="kt">Type</span>) `{<span class="kr">forall</span> <span class="nv">x</span>, In O (P x)}
  : IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : (<span class="kr">forall</span> <span class="nv">y</span>, P y) =&gt; g o to (Sep O) X)
  := isequiv_ooextendable _ _ (extendable_to_OO P).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_toSepO_inO</span> `{Funext} (O : ReflectiveSubuniverse)
           {X : <span class="kt">Type</span>} `{Reflects (Sep O) X}
           (P : O_reflector (Sep O) X -&gt; <span class="kt">Type</span>) `{<span class="kr">forall</span> <span class="nv">x</span>, In O (P x)}
  : (<span class="kr">forall</span> <span class="nv">y</span>, P y) &lt;~&gt; (<span class="kr">forall</span> <span class="nv">x</span>, P (to (Sep O) X x))
  := Build_Equiv _ _ _ (isequiv_toSepO_inO O P).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** TODO: Actually prove this, and put it somewhere more appropriate. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">JoinConstruction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Universes i j.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">X</span> : <span class="kt">Type</span>@{i}} {<span class="nv">Y</span> : <span class="kt">Type</span>@{j}} (<span class="nv">f</span> : X -&gt; Y)
          (<span class="nv">ls</span> : <span class="kr">forall</span> (<span class="nv">y1</span> <span class="nv">y2</span> : Y),
              @sig@{j j} <span class="kt">Type</span>@{i} (<span class="kr">fun</span> (<span class="nv">Z</span> : <span class="kt">Type</span>@{i}) =&gt; Equiv@{i j} Z (y1 = y2))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk73"><span class="kn">Definition</span> <span class="nf">jc_image</span>@{} : <span class="kt">Type</span>@{i}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk74"><span class="kn">Definition</span> <span class="nf">jc_factor1</span>@{} : X -&gt; jc_image.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">X -&gt; jc_image</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk75"><span class="kn">Definition</span> <span class="nf">jc_factor2</span>@{} : jc_image -&gt; Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">jc_image -&gt; Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk76"><span class="kn">Definition</span> <span class="nf">jc_factors</span>@{} : jc_factor2 o jc_factor1 == f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">jc_factor2 o jc_factor1 == f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk77">#[export] <span class="kn">Instance</span> <span class="nf">jc_factor1_issurj</span>@{} : IsSurjection jc_factor1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsConnMap (Tr (-<span class="mi">1</span>)) jc_factor1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk78">#[export] <span class="kn">Instance</span> <span class="nf">jc_factor2_isemb</span> : IsEmbedding jc_factor2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y1</span> <span class="nv">y2</span> : Y, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; y1 = y2}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEmbedding jc_factor2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Admitted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">JoinConstruction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We&#39;d like to say that the universe of [O]-modal types is [O]-separated, i.e. belongs to [Sep O].  But since a given subuniverse like [Sep O] lives only on a single universe size, trying to say that in the naive way yields a universe inconsistency. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk79"><span class="kn">Fail</span> <span class="kn">Goal</span> <span class="kr">forall</span> (<span class="nv">O</span> : ReflectiveSubuniverse), In (Sep O) (Type_ O).</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The command has indeed failed <span class="kr">with</span> message:
In environment
O : ReflectiveSubuniverse
The term <span class="s2">&quot;Type_ O&quot;</span> has type <span class="s2">&quot;Type@{Separated.4457}&quot;</span>
while it <span class="kr">is</span> expected to <span class="nb">have</span> type
 <span class="s2">&quot;Type@{Separated.4456}&quot;</span>
(universe inconsistency: Cannot enforce Separated.<span class="mi">4457</span>
&lt;= Separated.<span class="mi">4456</span> because Separated.<span class="mi">4456</span>
&lt; Separated.<span class="mi">4457</span>).</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Instead, we do as in Lemma 2.19 of CORS and prove the morally-equivalent &quot;descent&quot; property, using Lemma 2.18 and the join construction. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7a"><span class="kn">Instance</span> <span class="nf">SepO_lex_leq</span> `{Univalence}
       (O : ReflectiveSubuniverse) {X : <span class="kt">Type</span>} `{Reflects (Sep O) X}
  : Descends (Sep O) O X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Descends (Sep O) O X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Descends (Sep O) O X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7c"><span class="nb">assert</span> (e : <span class="kr">forall</span> (<span class="nv">P</span> : X -&gt; Type_ O),
             { Q : (O_reflector (Sep O) X -&gt; Type_ O) &amp;
                   <span class="kr">forall</span> <span class="nv">x</span>, Q (to (Sep O) X x) &lt;~&gt; P x }).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk7d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br></div><label class="goal-separator" for="separated-v-chk7d"><hr></label><div class="goal-conclusion">Descends (Sep O) O X</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7e"><span class="mi">2</span>:{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Descends (Sep O) O X</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk7f"><span class="nb">unshelve</span> <span class="nb">econstructor</span>; <span class="nb">intros</span> P&#39; P_inO;
      <span class="nb">pose</span> (P := <span class="kr">fun</span> <span class="nv">x</span> =&gt; (P&#39; x; P_inO x) : Type_ O);
      <span class="nb">pose</span> (ee := e P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">O_reflector (Sep O) X -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><label class="goal-separator" for="separated-v-chk80"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : O_reflector (Sep O) X,
In O
  ((<span class="kr">fun</span> (<span class="nv">P&#39;</span> : X -&gt; <span class="kt">Type</span>)
      (<span class="nv">P_inO</span> : <span class="kr">forall</span> <span class="nv">x0</span> : X, In O (P&#39; x0)) =&gt;
    <span class="kr">let</span> <span class="nv">P</span> := <span class="kr">fun</span> <span class="nv">x0</span> : X =&gt; (P&#39; x0; P_inO x0) : Type_ O
      <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">ee</span> := e P <span class="kr">in</span> <span class="nl">?Goal0</span>) P&#39; P_inO x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="separated-v-chk81" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><label class="goal-separator" for="separated-v-chk81"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : X,
(<span class="kr">fun</span> (<span class="nv">P&#39;</span> : X -&gt; <span class="kt">Type</span>)
   (<span class="nv">P_inO</span> : <span class="kr">forall</span> <span class="nv">x0</span> : X, In O (P&#39; x0)) =&gt;
 <span class="kr">let</span> <span class="nv">P</span> := <span class="kr">fun</span> <span class="nv">x0</span> : X =&gt; (P&#39; x0; P_inO x0) : Type_ O <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">ee</span> := e P <span class="kr">in</span> <span class="nl">?Goal0</span>) P&#39; P_inO 
  (to (Sep O) X x) &lt;~&gt; P&#39; x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk82">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">O_reflector (Sep O) X -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ee.<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk83">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : O_reflector (Sep O) X,
In O
  ((<span class="kr">fun</span> (<span class="nv">P&#39;</span> : X -&gt; <span class="kt">Type</span>)
      (<span class="nv">P_inO</span> : <span class="kr">forall</span> <span class="nv">x0</span> : X, In O (P&#39; x0)) =&gt;
    <span class="kr">let</span> <span class="nv">P</span> := <span class="kr">fun</span> <span class="nv">x0</span> : X =&gt; (P&#39; x0; P_inO x0) : Type_ O
      <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">ee</span> := e P <span class="kr">in</span>
    <span class="kr">fun</span> <span class="nv">x0</span> : O_reflector (Sep O) X =&gt;
    TypeO_pr1 O (ee.<span class="mi">1</span> x0)) P&#39; P_inO x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">simpl</span>; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk84">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P_inO</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : X, In O (P&#39; x)</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : X =&gt; (P&#39; x; P_inO x) : Type_ O</span></span><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span></span><br><span><var>ee</var><span><span class="hyp-body"><b>:= </b><span>e P</span></span><span class="hyp-type"><b>: </b><span>{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : X,
(<span class="kr">fun</span> (<span class="nv">P&#39;</span> : X -&gt; <span class="kt">Type</span>)
   (<span class="nv">P_inO</span> : <span class="kr">forall</span> <span class="nv">x0</span> : X, In O (P&#39; x0)) =&gt;
 <span class="kr">let</span> <span class="nv">P</span> := <span class="kr">fun</span> <span class="nv">x0</span> : X =&gt; (P&#39; x0; P_inO x0) : Type_ O <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">ee</span> := e P <span class="kr">in</span>
 <span class="kr">fun</span> <span class="nv">x0</span> : O_reflector (Sep O) X =&gt;
 TypeO_pr1 O (ee.<span class="mi">1</span> x0)) P&#39; P_inO 
  (to (Sep O) X x) &lt;~&gt; P&#39; x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x; <span class="nb">cbn</span>; <span class="nb">apply</span> ee.<span class="mi">2</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk85">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">P</span> : X -&gt; Type_ O,
{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk86"><span class="nb">intros</span> P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk87"><span class="nb">assert</span> (ls : <span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, { Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; (A = B) }).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br></div><label class="goal-separator" for="separated-v-chk88"><hr></label><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk89">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8a"><span class="nb">intros</span> A B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8b"><span class="nb">pose</span> (q := almost_inSepO_typeO O A B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Type_ O</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O A B</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; A = B)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (q.<span class="mi">1</span>; snd q.<span class="mi">2</span>).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8d"><span class="nb">pose</span> (p := jc_factor2 P ls).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>jc_image P ls -&gt; Type_ O</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8e"><span class="nb">set</span> (J := jc_image P ls) <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk8f"><span class="nb">assert</span> (In (Sep O) J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) J</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br></div><label class="goal-separator" for="separated-v-chk90"><hr></label><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk91">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (Sep O) J</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk92"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk93"><span class="nb">pose</span> (q := almost_inSepO_typeO O (p x) (p y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In O (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk94"><span class="nb">refine</span> (inO_equiv_inO&#39; q.<span class="mi">1</span> _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q.<span class="mi">1</span> &lt;~&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk95"><span class="nb">refine</span> (_ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> &lt;~&gt; x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="separated-v-chk96" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><label class="goal-separator" for="separated-v-chk96"><hr></label><div class="goal-conclusion">q.<span class="mi">1</span> &lt;~&gt; <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk97">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> &lt;~&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; srapply (equiv_ap_isembedding p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk98">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>J</span></span></span><br><span><var>q</var><span><span class="hyp-body"><b>:= </b><span>almost_inSepO_typeO O (p x) (p y)</span></span><span class="hyp-type"><b>: </b><span>{Z : <span class="kt">Type</span> &amp; In O Z * (Z &lt;~&gt; p x = p y)}</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q.<span class="mi">1</span> &lt;~&gt; p x = p y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd q.<span class="mi">2</span>).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk99">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9a"><span class="nb">pose</span> (O_rec (O := Sep O) (jc_factor1 P ls)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br><span><var>j</var><span><span class="hyp-body"><b>:= </b><span>O_rec (jc_factor1 P ls)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; jc_image P ls</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Q : O_reflector (Sep O) X -&gt; Type_ O &amp;
<span class="kr">forall</span> <span class="nv">x</span> : X, Q (to (Sep O) X x) &lt;~&gt; P x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9b"><span class="kr">exists</span> (<span class="nv">p</span> <span class="nv">o</span> <span class="nv">j</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>p</var><span><span class="hyp-body"><b>:= </b><span>jc_factor2 P ls</span></span><span class="hyp-type"><b>: </b><span>J -&gt; Type_ O</span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br><span><var>j</var><span><span class="hyp-body"><b>:= </b><span>O_rec (jc_factor1 P ls)</span></span><span class="hyp-type"><b>: </b><span>O_reflector (Sep O) X -&gt; jc_image P ls</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : X, p (j (to (Sep O) X x)) &lt;~&gt; P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9c"><span class="nb">intros</span> x; <span class="nb">subst</span> p j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">jc_factor2 P ls
  (O_rec (jc_factor1 P ls) (to (Sep O) X x)) &lt;~&gt; 
P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9d"><span class="nb">rewrite</span> O_rec_beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">jc_factor2 P ls (jc_factor1 P ls x) &lt;~&gt; P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="separated-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="separated-v-chk9e"><span class="nb">apply</span> equiv_path.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>O</var><span class="hyp-type"><b>: </b><span>ReflectiveSubuniverse</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreReflects (Sep O) X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Reflects (Sep O) X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>X -&gt; Type_ O</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">A</span> <span class="nv">B</span> : Type_ O, {Z : <span class="kt">Type</span> &amp; Z &lt;~&gt; A = B}</span></span></span><br><span><var>J</var><span><span class="hyp-body"><b>:= </b><span>jc_image P ls</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>X0</var><span class="hyp-type"><b>: </b><span>In (Sep O) J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">jc_factor2 P ls (jc_factor1 P ls x) = P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((jc_factors P ls x)..<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Once we know that [Sep O] is a reflective subuniverse, this will imply [O &lt;&lt;&lt; Sep O], and that if [Sep O] is accessible (such as if [O] is) then [Type_ O] belongs to its accessible lifting (see [inO_TypeO_lex_leq]. *)</span>


<span class="sd">(** ** Reflectiveness of [Sep O] *)</span>

<span class="sd">(** TODO *)</span>


<span class="sd">(** ** Left-exactness properties *)</span>

<span class="sd">(** Nearly all of these are true in the generality of a pair of reflective subuniverses with [O &lt;&lt;&lt; O&#39;] and/or [O&#39; &lt;= Sep O], and as such can be found in [Descent.v]. *)</span></span></pre>
</div>
</div></body>
</html>
