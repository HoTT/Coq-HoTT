<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Int.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Nat Basics.Tactics Basics.Decidable Basics.Equivalences Basics.PathGroupoids Types.Paths Types.<span class="kn">Universe</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require</span> Basics.Numerals.Decimal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Spaces.Nat.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Unset Elimination Schemes</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Set Universe Minimization ToSet</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> int_scope <span class="kr">with</span> int.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * The Integers *)</span>

<span class="sd">(** ** Definition *)</span>

<span class="sd">(** We define the integers as two copies of [nat] stuck together around a [zero]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">Int</span> : Type0 :=
| negS : nat -&gt; Int
| zero : Int
| posS : nat -&gt; Int.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We can convert a [nat] to an [Int] by mapping [0] to [zero] and [S n] to [posS n]. Various operations on [nat] are preserved by this function. See the section on conversion functions starting with [int_nat_succ]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_of_nat</span> (<span class="nv">n</span> : nat) :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | O =&gt; zero
  | S n =&gt; posS n
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We declare this conversion as a coercion so we can freely use [nat]s in statements about integers. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">int_of_nat</span> : nat &gt;-&gt; Int.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Number Notations *)</span>

<span class="sd">(** Here we define some printing and parsing functions that convert the integers between numeral representations so that we can use notations such as [123] for [posS 122] and [-123] for [negS 122]. *)</span>

<span class="sd">(** Printing *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_to_number_int</span> (<span class="nv">n</span> : Int) : Numeral.int :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | posS n =&gt; Numeral.IntDec (Decimal.Pos (Nat.to_uint (S n)))
  | zero =&gt; Numeral.IntDec (Decimal.Pos (Nat.to_uint <span class="mi">0</span>))
  | negS n =&gt; Numeral.IntDec (Decimal.Neg (Nat.to_uint (S n)))
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Parsing *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_of_number_int</span> (<span class="nv">d</span> : Numeral.int) :=
  <span class="kr">match</span> d <span class="kr">with</span>
  | Numeral.IntDec (Decimal.Pos d) =&gt; int_of_nat (Nat.of_uint d)
  | Numeral.IntDec (Decimal.Neg d) =&gt; negS (nat_pred (Nat.of_uint d))
  | Numeral.IntHex (Hexadecimal.Pos u) =&gt; int_of_nat (Nat.of_hex_uint u)
  | Numeral.IntHex (Hexadecimal.Neg u) =&gt; negS (nat_pred (Nat.of_hex_uint u))
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">Number <span class="kn">Notation</span> <span class="nf">Int</span> int_of_number_int int_to_number_int : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Successor, Predecessor and Negation *)</span>

<span class="sd">(** These operations will be used in the induction principle we derive for [Int] so we need to define them early on. *)</span>

<span class="sd">(** *** Successor and Predecessor *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_succ</span> (<span class="nv">n</span> : Int) : Int :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | posS n =&gt; posS (S n)
  | <span class="mi">0</span> =&gt; <span class="mi">1</span>
  | -<span class="mi">1</span> =&gt; <span class="mi">0</span>
  | negS (S n) =&gt; negS n
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;n .+1&quot;</span> := (int_succ n) : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_pred</span> (<span class="nv">n</span> : Int) : Int :=
  <span class="kr">match</span> n <span class="kr">with</span>
  | posS (S n) =&gt; posS n
  | <span class="mi">1</span> =&gt; <span class="mi">0</span> 
  | <span class="mi">0</span> =&gt; -<span class="mi">1</span>
  | negS n =&gt; negS (S n)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;n .-1&quot;</span> := (int_pred n) : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Negation *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_neg</span>@{} (x : Int) : Int :=
  <span class="kr">match</span> x <span class="kr">with</span>
  | posS x =&gt; negS x
  | zero =&gt; zero
  | negS x =&gt; posS x
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;- x&quot;</span> := (int_neg x) : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Basic Properties *)</span>

<span class="sd">(** *** Integer induction *)</span>

<span class="sd">(** The induction principle for integers is similar to the induction principle for natural numbers. However we have two induction hypotheses going in either direction starting from 0. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1"><span class="kn">Definition</span> <span class="nf">Int_ind</span>@{i} (P : Int -&gt; <span class="kt">Type</span>@{i})
  (H0 : P <span class="mi">0</span>)
  (HP : <span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P (int_succ n))
  (HN : <span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (int_pred (-n)))
  : <span class="kr">forall</span> <span class="nv">x</span>, P x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Int, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Int, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk3"><span class="nb">intros</span>[x | | x].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (negS x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk4"><hr></label><div class="goal-conclusion">P <span class="mi">0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk5"><hr></label><div class="goal-conclusion">P (posS x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (negS x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (-<span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>P (negS x)</span></span></span><br></div><label class="goal-separator" for="int-v-chk8"><hr></label><div class="goal-conclusion">P (negS x.+<span class="mi">1</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (-<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (HN <span class="mi">0</span>%nat), H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>P (negS x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (negS x.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (HN x.+<span class="mi">1</span>%nat), IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (posS x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>P (posS x)</span></span></span><br></div><label class="goal-separator" for="int-v-chke"><hr></label><div class="goal-conclusion">P (posS x.+<span class="mi">1</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (HP <span class="mi">0</span>%nat), H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Int -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>HP</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P n -&gt; P n.+<span class="mi">1</span></span></span></span><br><span><var>HN</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">n</span> : nat, P (- n) -&gt; P (- n).-<span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>P (posS x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (posS x.+<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (HP x.+<span class="mi">1</span>%nat), IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We record these so that they can be used with the [induction] tactic. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int_rect</span> := Int_ind.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int_rec</span> := Int_ind.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Decidable Equality *)</span>

<span class="sd">(** The integers have decidable equality. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11"><span class="kn">Instance</span> <span class="nf">decidable_paths_int</span>@{} : DecidablePaths Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">DecidablePaths Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">DecidablePaths Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (x = y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk14"><span class="nb">destruct</span> x <span class="kr">as</span> [x | | x], y <span class="kr">as</span> [y |  | y].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (negS x = negS y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk15" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk15"><hr></label><div class="goal-conclusion">Decidable (negS x = <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk16"><hr></label><div class="goal-conclusion">Decidable (negS x = posS y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk17"><hr></label><div class="goal-conclusion">Decidable (<span class="mi">0</span> = negS y)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (<span class="mi">0</span> = <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk18"><hr></label><div class="goal-conclusion">Decidable (<span class="mi">0</span> = posS y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk19"><hr></label><div class="goal-conclusion">Decidable (posS x = negS y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1a"><hr></label><div class="goal-conclusion">Decidable (posS x = <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1b"><hr></label><div class="goal-conclusion">Decidable (posS x = posS y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c"><span class="mi">2</span>-<span class="mi">4</span>,<span class="mi">6</span>-<span class="mi">8</span>: <span class="nb">right</span>; <span class="nb">intros</span>; <span class="bp">discriminate</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (negS x = negS y)</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (<span class="mi">0</span> = <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1d"><hr></label><div class="goal-conclusion">Decidable (posS x = posS y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e"><span class="mi">2</span>: <span class="bp">by</span> <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (negS x = negS y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1f"><hr></label><div class="goal-conclusion">Decidable (posS x = posS y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk20"><span class="mi">1</span>,<span class="mi">2</span>: napply decidable_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Iff.iff <span class="nl">?Goal</span> (negS x = negS y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk21"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk22"><hr></label><div class="goal-conclusion">Iff.iff <span class="nl">?Goal2</span> (posS x = posS y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk23"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal2</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk24"><span class="mi">1</span>,<span class="mi">3</span>: <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> -&gt; negS x = negS y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk25"><hr></label><div class="goal-conclusion">negS x = negS y -&gt; <span class="nl">?Goal</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk26"><hr></label><div class="goal-conclusion"><span class="nl">?Goal1</span> -&gt; posS x = posS y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk27"><hr></label><div class="goal-conclusion">posS x = posS y -&gt; <span class="nl">?Goal1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk28"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk29"><hr></label><div class="goal-conclusion">Decidable <span class="nl">?Goal1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk2a"><span class="mi">1</span>,<span class="mi">3</span>: napply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negS x = negS y -&gt; x = y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk2b"><hr></label><div class="goal-conclusion">posS x = posS y -&gt; x = y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk2c"><hr></label><div class="goal-conclusion">Decidable (x = y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk2d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk2d"><hr></label><div class="goal-conclusion">Decidable (x = y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk2e"><span class="mi">1</span>,<span class="mi">2</span>: <span class="nb">intros</span> H; <span class="bp">by</span> <span class="nb">injection</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decidable (x = y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk2f"><hr></label><div class="goal-conclusion">Decidable (x = y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** By Hedberg&#39;s theorem, we have that the integers are a set. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">ishset_int</span>@{} : IsHSet Int := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Pointedness *)</span>

<span class="sd">(** We sometimes want to treat the integers as a pointed type with basepoint given by 0. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">ispointed_int</span> : IsPointed Int := <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Operations *)</span>

<span class="sd">(** *** Addition *)</span>

<span class="sd">(** Addition for integers is defined by integer induction on the first argument. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk30"><span class="kn">Definition</span> <span class="nf">int_add</span>@{} (x y : Int) : Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk32"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><label class="goal-separator" for="int-v-chk33"><hr></label><div class="goal-conclusion">Int</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><label class="goal-separator" for="int-v-chk34"><hr></label><div class="goal-conclusion">Int</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [0 + y = y] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> y.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [x.+1 + y = (x + y).+1] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (int_succ (IHx y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [x.-1 + y = (x + y).-1] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (int_pred (IHx y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;+&quot;</span> := int_add : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;-&quot;</span> := (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; x + -y) : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Multiplication *)</span>

<span class="sd">(** Multiplication for integers is defined by integer induction on the first argument. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk38"><span class="kn">Definition</span> <span class="nf">int_mul</span>@{} (x y : Int) : Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk39"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk3a"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><label class="goal-separator" for="int-v-chk3b"><hr></label><div class="goal-conclusion">Int</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><label class="goal-separator" for="int-v-chk3c"><hr></label><div class="goal-conclusion">Int</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [0 * y = 0] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk3d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [x.+1 * y = y + x * y] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk3e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (y + IHx y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [x.-1 * y = -y + x * y] *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>Int -&gt; Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (-y + IHx y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;*&quot;</span> := int_mul : int_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Properties of Operations *)</span>

<span class="sd">(** *** Negation *)</span>

<span class="sd">(** Negation is involutive. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk40"><span class="kn">Definition</span> <span class="nf">int_neg_neg</span>@{} (x : Int) : - - x = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- - x = x</div></blockquote></div></div></small><span class="alectryon-wsp">  
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- - x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Negation is an equivalence. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk42"><span class="kn">Instance</span> <span class="nf">isequiv_int_neg</span>@{} : IsEquiv int_neg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv int_neg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk43"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv int_neg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk44">snapply (isequiv_adjointify int_neg int_neg).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">int_neg o int_neg == idmap</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">int_neg o int_neg == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> int_neg_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Negation is injective. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isinj_int_neg</span>@{} (x y : Int) : - x = - y -&gt; x = y
  := equiv_inj int_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The negation of a successor is the predecessor of the negation. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk45"><span class="kn">Definition</span> <span class="nf">int_neg_succ</span> (<span class="nv">x</span> : Int) : - x.+<span class="mi">1</span> = (- x).-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.+<span class="mi">1</span> = (- x).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.+<span class="mi">1</span> = (- x).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> x <span class="kr">as</span> [[] | | ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The negation of a predecessor is the successor of the negation. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk47"><span class="kn">Definition</span> <span class="nf">int_neg_pred</span> (<span class="nv">x</span> : Int) : - x.-<span class="mi">1</span> = (- x).+<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.-<span class="mi">1</span> = (- x).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.-<span class="mi">1</span> = (- x).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> x <span class="kr">as</span> [ | | []].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The successor of a predecessor is the identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk49"><span class="kn">Definition</span> <span class="nf">int_pred_succ</span>@{} (x : Int) : x.-<span class="mi">1</span>.+<span class="mi">1</span> = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span>.+<span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span>.+<span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> x <span class="kr">as</span> [ | | []].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
<span class="sd">(** The predecessor of a successor is the identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4b"><span class="kn">Definition</span> <span class="nf">int_succ_pred</span>@{} (x : Int) : x.+<span class="mi">1</span>.-<span class="mi">1</span> = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>.-<span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>.-<span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> x <span class="kr">as</span> [[] | | ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The successor is an equivalence on [Int] *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isequiv_int_succ</span>@{} : IsEquiv int_succ
  := isequiv_adjointify int_succ int_pred int_pred_succ int_succ_pred.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The predecessor is an equivalence on [Int] *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isequiv_int_pred</span>@{} : IsEquiv int_pred
  := isequiv_inverse int_succ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Addition *)</span>

<span class="sd">(** Integer addition with zero on the left is the identity by definition. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_add_0_l</span>@{} (x : Int) : <span class="mi">0</span> + x = x := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer addition with zero on the right is the identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4d"><span class="kn">Definition</span> <span class="nf">int_add_0_r</span>@{} (x : Int) : x + <span class="mi">0</span> = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + <span class="mi">0</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + <span class="mi">0</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk4f"><span class="nb">induction</span> x <span class="kr">as</span> [|[|x] IHx|[|x] IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span>%nat + <span class="mi">0</span> = <span class="mi">0</span>%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk50"><hr></label><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span> + <span class="mi">0</span> = <span class="mi">0</span>%nat.+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = x.+<span class="mi">1</span>%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk51"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + <span class="mi">0</span> = x.+<span class="mi">1</span>%nat.+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- <span class="mi">0</span>%nat + <span class="mi">0</span> = - <span class="mi">0</span>%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk52"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + <span class="mi">0</span> = (- <span class="mi">0</span>%nat).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = - x.+<span class="mi">1</span>%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk53"><hr></label><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + <span class="mi">0</span> = (- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk54">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span>%nat + <span class="mi">0</span> = <span class="mi">0</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span> + <span class="mi">0</span> = <span class="mi">0</span>%nat.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = x.+<span class="mi">1</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + <span class="mi">0</span> = x.+<span class="mi">1</span>%nat.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk57"><span class="nb">change</span> (<span class="nl">?z</span>.+<span class="mi">1</span> + <span class="mi">0</span>) <span class="kr">with</span> (z + <span class="mi">0</span>).+<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = x.+<span class="mi">1</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x.+<span class="mi">1</span>%nat + <span class="mi">0</span>).+<span class="mi">1</span> = x.+<span class="mi">1</span>%nat.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ IHx).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk58">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- <span class="mi">0</span>%nat + <span class="mi">0</span> = - <span class="mi">0</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + <span class="mi">0</span> = (- <span class="mi">0</span>%nat).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = - x.+<span class="mi">1</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + <span class="mi">0</span> = (- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk5a"><span class="nb">change</span> (<span class="nl">?z</span>.-<span class="mi">1</span> + <span class="mi">0</span>) <span class="kr">with</span> (z + <span class="mi">0</span>).-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x.+<span class="mi">1</span>%nat + <span class="mi">0</span> = - x.+<span class="mi">1</span>%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat + <span class="mi">0</span>).-<span class="mi">1</span> = (- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ IHx).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
<span class="sd">(** Adding a successor on the left is the successor of the sum. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk5b"><span class="kn">Definition</span> <span class="nf">int_add_succ_l</span>@{} (x y : Int) : x.+<span class="mi">1</span> + y = (x + y).+<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y = (x + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk5c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y = (x + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk5d"><span class="nb">induction</span> x <span class="kr">as</span> [|[|x] IHx|[|x] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.+<span class="mi">1</span> + y = (<span class="mi">0</span> + y).+<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk5e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, <span class="mi">0</span>%nat.+<span class="mi">1</span> + y = (<span class="mi">0</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk5e"><hr></label><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> + y = (<span class="mi">0</span>%nat.+<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk5f"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk60" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> + y = (- <span class="mi">0</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk60"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- x.+<span class="mi">1</span>%nat).+<span class="mi">1</span> + y = (- x.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk61"><hr></label><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y = ((- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk62"><span class="mi">1</span>-<span class="mi">3</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> + y = (- <span class="mi">0</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- x.+<span class="mi">1</span>%nat).+<span class="mi">1</span> + y = (- x.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk63"><hr></label><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y = ((- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="nb">symmetry</span>; <span class="nb">apply</span> int_pred_succ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Adding a predecessor on the left is the predecessor of the sum. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk64"><span class="kn">Definition</span> <span class="nf">int_add_pred_l</span>@{} (x y : Int) : x.-<span class="mi">1</span> + y = (x + y).-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span> + y = (x + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk65"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span> + y = (x + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk66"><span class="nb">induction</span> x <span class="kr">as</span> [|[|x] IHx|[|x] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.-<span class="mi">1</span> + y = (<span class="mi">0</span> + y).-<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, <span class="mi">0</span>%nat.-<span class="mi">1</span> + y = (<span class="mi">0</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk67"><hr></label><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span>.-<span class="mi">1</span> + y = (<span class="mi">0</span>%nat.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk68" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.+<span class="mi">1</span>%nat.-<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk68"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.-<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y = (- <span class="mi">0</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk69"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> + y = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y = (- x.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk6a"><hr></label><div class="goal-conclusion">(- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> + y = ((- x.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk6b"><span class="mi">1</span>,<span class="mi">4</span>,<span class="mi">5</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, <span class="mi">0</span>%nat.-<span class="mi">1</span> + y = (<span class="mi">0</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span>.-<span class="mi">1</span> + y = (<span class="mi">0</span>%nat.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk6c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.+<span class="mi">1</span>%nat.-<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk6c"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.-<span class="mi">1</span> + y = (x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="nb">symmetry</span>; <span class="nb">apply</span> int_succ_pred.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Adding a successor on the right is the successor of the sum. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk6d"><span class="kn">Definition</span> <span class="nf">int_add_succ_r</span>@{} (x y : Int) : x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk6e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk6f"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|[] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + y.+<span class="mi">1</span> = (<span class="mi">0</span> + y).+<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk70"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> + y.+<span class="mi">1</span> = (x.+<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - <span class="mi">0</span>%nat + y.+<span class="mi">1</span> = (- <span class="mi">0</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk71"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk72"><hr></label><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk73">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + y.+<span class="mi">1</span> = (<span class="mi">0</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk74">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y.+<span class="mi">1</span> = (x.+<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> <span class="mi">2</span> int_add_succ_l, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk75">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - <span class="mi">0</span>%nat + y.+<span class="mi">1</span> = (- <span class="mi">0</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span>; <span class="bp">by</span> <span class="nb">rewrite</span> int_succ_pred, int_pred_succ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk77"><span class="nb">change</span> ((- (n.+<span class="mi">1</span>%nat)).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- (n.+<span class="mi">1</span>%nat)).-<span class="mi">1</span> + y).+<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y.+<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk78"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span>).-<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk79"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span>.-<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7a"><span class="nb">rewrite</span> &lt;- <span class="mi">2</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> + y).-<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7b"><span class="nb">rewrite</span> &lt;- int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.+<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).+<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span>.-<span class="mi">1</span> + y = (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_pred_succ, int_succ_pred.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Adding a predecessor on the right is the predecessor of the sum. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7c"><span class="kn">Definition</span> <span class="nf">int_add_pred_r</span> (<span class="nv">x</span> <span class="nv">y</span> : Int) : x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk7e"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|[] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + y.-<span class="mi">1</span> = (<span class="mi">0</span> + y).-<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk7f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk7f"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> + y.-<span class="mi">1</span> = (x.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - <span class="mi">0</span>%nat + y.-<span class="mi">1</span> = (- <span class="mi">0</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk80"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y.-<span class="mi">1</span> = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk81" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.-<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="int-v-chk81"><hr></label><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y.-<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk82">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + y.-<span class="mi">1</span> = (<span class="mi">0</span> + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk83">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + y.-<span class="mi">1</span> = (x.+<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk84"><span class="nb">rewrite</span> <span class="mi">2</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y.-<span class="mi">1</span>).+<span class="mi">1</span> = (x + y).+<span class="mi">1</span>.-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk85"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x + y.-<span class="mi">1</span> = (x + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y).-<span class="mi">1</span>.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span>.-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_pred_succ, int_succ_pred.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk86">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - <span class="mi">0</span>%nat + y.-<span class="mi">1</span> = (- <span class="mi">0</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y.-<span class="mi">1</span> = ((- <span class="mi">0</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk87">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.-<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y.-<span class="mi">1</span> = ((- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> + y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk88"><span class="nb">rewrite</span> <span class="mi">2</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - n.+<span class="mi">1</span>%nat + y.-<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat + y.-<span class="mi">1</span>).-<span class="mi">1</span> = (- n.+<span class="mi">1</span>%nat + y).-<span class="mi">1</span>.-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer addition is commutative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk89"><span class="kn">Definition</span> <span class="nf">int_add_comm</span>@{} (x y : Int) : x + y = y + x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y = y + x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y = y + x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk8b"><span class="nb">induction</span> y <span class="kr">as</span> [|y IHy|y IHy] <span class="kr">in</span> x |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + <span class="mi">0</span> = <span class="mi">0</span> + x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + y = y + x</span></span></span><br></div><label class="goal-separator" for="int-v-chk8c"><hr></label><div class="goal-conclusion">x + y.+<span class="mi">1</span> = y.+<span class="mi">1</span> + x</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk8d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + - y = - y + x</span></span></span><br></div><label class="goal-separator" for="int-v-chk8d"><hr></label><div class="goal-conclusion">x + (- y).-<span class="mi">1</span> = (- y).-<span class="mi">1</span> + x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk8e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + <span class="mi">0</span> = <span class="mi">0</span> + x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_add_0_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk8f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + y = y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> = y.+<span class="mi">1</span> + x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk90"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + y = y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> = (y + x).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk91"><span class="nb">rewrite</span> &lt;- IHy.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + y = y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + y.+<span class="mi">1</span> = (x + y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_succ_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk92">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + - y = - y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + (- y).-<span class="mi">1</span> = (- y).-<span class="mi">1</span> + x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk93"><span class="nb">rewrite</span> int_add_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + - y = - y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + - y).-<span class="mi">1</span> = (- y).-<span class="mi">1</span> + x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk94"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x + - y = - y + x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + - y).-<span class="mi">1</span> = (- y + x).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer addition is associative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk95"><span class="kn">Definition</span> <span class="nf">int_add_assoc</span>@{} (x y z : Int) : x + (y + z) = x + y + z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + (y + z) = x + y + z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + (y + z) = x + y + z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk97"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y, z |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + (y + z) = <span class="mi">0</span> + y + z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x + (y + z) = x + y + z</span></span></span><br></div><label class="goal-separator" for="int-v-chk98"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> + (y + z) = x.+<span class="mi">1</span> + y + z</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk99" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x + (y + z) = - x + y + z</span></span></span><br></div><label class="goal-separator" for="int-v-chk99"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> + (y + z) = (- x).-<span class="mi">1</span> + y + z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + (y + z) = <span class="mi">0</span> + y + z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x + (y + z) = x + y + z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> + (y + z) = x.+<span class="mi">1</span> + y + z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> !int_add_succ_l, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x + (y + z) = - x + y + z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> + (y + z) = (- x).-<span class="mi">1</span> + y + z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> !int_add_pred_l, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Negation is a left inverse with respect to integer addition. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9d"><span class="kn">Definition</span> <span class="nf">int_add_neg_l</span>@{} (x : Int) : - x + x = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x + x = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x + x = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk9f"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x + x = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="int-v-chka0"><hr></label><div class="goal-conclusion">- x.+<span class="mi">1</span> + x.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chka1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- - x + - x = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="int-v-chka1"><hr></label><div class="goal-conclusion">- (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">0</span> + <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x + x = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.+<span class="mi">1</span> + x.+<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_neg_succ, int_add_pred_l, int_add_succ_r, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- - x + - x = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_neg_pred, int_add_succ_l, int_add_pred_r, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Negation is a right inverse with respect to integer addition. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka5"><span class="kn">Definition</span> <span class="nf">int_add_neg_r</span>@{} (x : Int) : x - x = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - x = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - x = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">unfold</span> <span class="s2">&quot;-&quot;</span>; <span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm, int_add_neg_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Negation distributes over addition. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka7"><span class="kn">Definition</span> <span class="nf">int_neg_add</span>@{} (x y : Int) : - (x + y) = - x - y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x + y) = - x - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x + y) = - x - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chka9"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (<span class="mi">0</span> + y) = - <span class="mi">0</span> + - y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (x + y) = - x + - y</span></span></span><br></div><label class="goal-separator" for="int-v-chkaa"><hr></label><div class="goal-conclusion">- (x.+<span class="mi">1</span> + y) = - x.+<span class="mi">1</span> + - y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><label class="goal-separator" for="int-v-chkab"><hr></label><div class="goal-conclusion">- ((- x).-<span class="mi">1</span> + y) = - (- x).-<span class="mi">1</span> + - y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkac">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (<span class="mi">0</span> + y) = - <span class="mi">0</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkad">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (x + y) = - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x.+<span class="mi">1</span> + y) = - x.+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkae"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (x + y) = - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x + y).+<span class="mi">1</span> = - x.+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkaf"><span class="nb">rewrite</span> <span class="mi">2</span> int_neg_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (x + y) = - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- (x + y)).-<span class="mi">1</span> = (- x).-<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb0"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (x + y) = - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- (x + y)).-<span class="mi">1</span> = (- x + - y).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- ((- x).-<span class="mi">1</span> + y) = - (- x).-<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb2"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- ((- x).-<span class="mi">1</span> + y) = (- - x).+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb3"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- ((- x).-<span class="mi">1</span> + y) = (- - x + - y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb4"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (- x + y).-<span class="mi">1</span> = (- - x + - y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb5"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - (- x + y) = - - x + - y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- (- x + y)).+<span class="mi">1</span> = (- - x + - y).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Multiplication *)</span>

<span class="sd">(** Multiplication with a successor on the left is the sum of the multiplication without the successor and the multiplicand which was not a successor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb6"><span class="kn">Definition</span> <span class="nf">int_mul_succ_l</span>@{} (x y : Int) : x.+<span class="mi">1</span> * y = y + x * y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * y = y + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * y = y + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkb8"><span class="nb">induction</span> x <span class="kr">as</span> [|[|x] IHx|[] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.+<span class="mi">1</span> * y = y + <span class="mi">0</span> * y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkb9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, <span class="mi">0</span>%nat.+<span class="mi">1</span> * y = y + <span class="mi">0</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkb9"><hr></label><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> * y = y + <span class="mi">0</span>%nat.+<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> * y = y + x.+<span class="mi">1</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkba"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> * y = y + x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> * y = y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkbb"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> * y = y + (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkbc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkbc"><hr></label><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> * y = y + (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkbd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.+<span class="mi">1</span> * y = y + <span class="mi">0</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkbe">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, <span class="mi">0</span>%nat.+<span class="mi">1</span> * y = y + <span class="mi">0</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> * y = y + <span class="mi">0</span>%nat.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkbf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> * y = y + x.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> * y = y + x.+<span class="mi">1</span>%nat.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> * y = y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> * y = y + (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc1"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> * y = y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = y + (- y + <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc2"><span class="nb">rewrite</span> int_add_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).+<span class="mi">1</span> * y = y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = y + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_neg_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> * y = y + (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc4"><span class="nb">rewrite</span> int_pred_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- n.+<span class="mi">1</span>%nat * y = y + (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc5"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
  (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
  (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
   - y + IHx y) n y =
y +
(- y +
 nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
   (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
   (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
    - y + IHx y) n y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc6"><span class="nb">rewrite</span> int_add_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
  (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
  (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
   - y + IHx y) n y =
y + - y +
nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
  (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
  (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
   - y + IHx y) n y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc7"><span class="nb">rewrite</span> int_add_neg_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> * y = y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
  (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
  (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
   - y + IHx y) n y =
<span class="mi">0</span> +
nat_rect (<span class="kr">fun</span> <span class="nv">_</span> : nat =&gt; Int -&gt; Int)
  (<span class="kr">fun</span> <span class="nv">y</span> : Int =&gt; - y + <span class="mi">0</span>)
  (<span class="kr">fun</span> (<span class="nv">_</span> : nat) (<span class="nv">IHx</span> : Int -&gt; Int) (<span class="nv">y</span> : Int) =&gt;
   - y + IHx y) n y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_0_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Similarly, multiplication with a predecessor on the left is the sum of the multiplication without the predecessor and the negation of the multiplicand which was not a predecessor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc8"><span class="kn">Definition</span> <span class="nf">int_mul_pred_l</span>@{} (x y : Int) : x.-<span class="mi">1</span> * y = -y + x * y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span> * y = - y + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkc9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.-<span class="mi">1</span> * y = - y + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkca"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|[] IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.-<span class="mi">1</span> * y = - y + <span class="mi">0</span> * y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkcb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.-<span class="mi">1</span> * y = - y + x * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkcb"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + x.+<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkcc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y = - y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkcc"><hr></label><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkcd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y = - y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkcd"><hr></label><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkce">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>.-<span class="mi">1</span> * y = - y + <span class="mi">0</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkcf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.-<span class="mi">1</span> * y = - y + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + x.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd0"><span class="nb">rewrite</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.-<span class="mi">1</span> * y = - y + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd1"><span class="nb">rewrite</span> int_succ_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.-<span class="mi">1</span> * y = - y + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = - y + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd2"><span class="nb">rewrite</span> int_add_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x.-<span class="mi">1</span> * y = - y + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = - y + y + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_neg_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y = - y + - <span class="mi">0</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- <span class="mi">0</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + (- <span class="mi">0</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y = - y + - n.+<span class="mi">1</span>%nat * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.-<span class="mi">1</span> * y = - y + (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer multiplication with zero on the left is zero by definition. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_mul_0_l</span>@{} (x : Int) : <span class="mi">0</span> * x = <span class="mi">0</span> := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer multiplication with zero on the right is zero. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd5"><span class="kn">Definition</span> <span class="nf">int_mul_0_r</span>@{} (x : Int) : x * <span class="mi">0</span> = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkd7"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkd8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">0</span> = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="int-v-chkd8"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkd9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x * <span class="mi">0</span> = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="int-v-chkd9"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkda">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkdb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">0</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_mul_succ_l, int_add_0_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkdc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x * <span class="mi">0</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * <span class="mi">0</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_mul_pred_l, int_add_0_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer multiplication with one on the left is the identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkdd"><span class="kn">Definition</span> <span class="nf">int_mul_1_l</span>@{} (x : Int) : <span class="mi">1</span> * x = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkde"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_add_0_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer multiplication with one on the right is the identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkdf"><span class="kn">Definition</span> <span class="nf">int_mul_1_r</span>@{} (x : Int) : x * <span class="mi">1</span> = x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">1</span> = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke1"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * <span class="mi">1</span> = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chke2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">1</span> = x</span></span></span><br></div><label class="goal-separator" for="int-v-chke2"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * <span class="mi">1</span> = x.+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chke3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x * <span class="mi">1</span> = - x</span></span></span><br></div><label class="goal-separator" for="int-v-chke3"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * <span class="mi">1</span> = (- x).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * <span class="mi">1</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>x * <span class="mi">1</span> = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * <span class="mi">1</span> = x.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_mul_succ_l, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span>- x * <span class="mi">1</span> = - x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * <span class="mi">1</span> = (- x).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_mul_pred_l, IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplying with a negation on the left is the same as negating the product. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke7"><span class="kn">Definition</span> <span class="nf">int_mul_neg_l</span>@{} (x y : Int) : - x * y = - (x * y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x * y = - (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x * y = - (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chke9"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">0</span> * y = - (<span class="mi">0</span> * y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><label class="goal-separator" for="int-v-chkea"><hr></label><div class="goal-conclusion">- x.+<span class="mi">1</span> * y = - (x.+<span class="mi">1</span> * y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkeb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><label class="goal-separator" for="int-v-chkeb"><hr></label><div class="goal-conclusion">- (- x).-<span class="mi">1</span> * y = - ((- x).-<span class="mi">1</span> * y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">0</span> * y = - (<span class="mi">0</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chked">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.+<span class="mi">1</span> * y = - (x.+<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkee"><span class="nb">rewrite</span> int_neg_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y = - (x.+<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkef"><span class="nb">rewrite</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - x * y = - (x.+<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf0"><span class="nb">rewrite</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - x * y = - (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf1"><span class="nb">rewrite</span> int_neg_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y = - (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - x * y = - y + - (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (- x).-<span class="mi">1</span> * y = - ((- x).-<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf3"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- - x).+<span class="mi">1</span> * y = - ((- x).-<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf4"><span class="nb">rewrite</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + - - x * y = - ((- x).-<span class="mi">1</span> * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf5"><span class="nb">rewrite</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + - - x * y = - (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf6"><span class="nb">rewrite</span> int_neg_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + - - x * y = - - y + - (- x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf7"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - - x * y = - (- x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + - (- x * y) = - - y + - (- x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_neg_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplying with a successor on the right is the sum of the multiplication without the successor and the product of the multiplicand which was not a successor and the multiplicand. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf8"><span class="kn">Definition</span> <span class="nf">int_mul_succ_r</span>@{} (x y : Int) : x * y.+<span class="mi">1</span> = x + x * y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.+<span class="mi">1</span> = x + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkf9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.+<span class="mi">1</span> = x + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkfa"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * y.+<span class="mi">1</span> = <span class="mi">0</span> + <span class="mi">0</span> * y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chkfb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkfb"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * y.+<span class="mi">1</span> = x.+<span class="mi">1</span> + x.+<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chkfc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><label class="goal-separator" for="int-v-chkfc"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.+<span class="mi">1</span> = (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkfd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * y.+<span class="mi">1</span> = <span class="mi">0</span> + <span class="mi">0</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkfe">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * y.+<span class="mi">1</span> = x.+<span class="mi">1</span> + x.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chkff"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y.+<span class="mi">1</span> + x * y.+<span class="mi">1</span> = x.+<span class="mi">1</span> + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk100"><span class="nb">rewrite</span> <span class="mi">2</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y + x * y.+<span class="mi">1</span>).+<span class="mi">1</span> = (x + (y + x * y)).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk101">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + x * y.+<span class="mi">1</span> = x + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk102"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + (x + x * y) = x + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk103"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.+<span class="mi">1</span> = x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + x = x + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk104">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.+<span class="mi">1</span> = (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk105"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y.+<span class="mi">1</span> + - x * y.+<span class="mi">1</span> = (- x).-<span class="mi">1</span> + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk106"><span class="nb">rewrite</span> int_neg_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- y).-<span class="mi">1</span> + - x * y.+<span class="mi">1</span> = (- x).-<span class="mi">1</span> + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk107"><span class="nb">rewrite</span> int_mul_neg_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- y).-<span class="mi">1</span> + - (x * y.+<span class="mi">1</span>) = (- x).-<span class="mi">1</span> + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk108"><span class="nb">rewrite</span> <span class="mi">2</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- y + - (x * y.+<span class="mi">1</span>)).-<span class="mi">1</span> = (- x + (- y + - x * y)).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk109">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - (x * y.+<span class="mi">1</span>) = - x + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10a"><span class="nb">rewrite</span> &lt;- int_mul_neg_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - x * y.+<span class="mi">1</span> = - x + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10b"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + (- x + - x * y) = - x + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10c"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.+<span class="mi">1</span> = - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - x = - x + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplying with a predecessor on the right is the sum of the multiplication without the predecessor and the product of the multiplicand which was not a predecessor and the negation of the multiplicand which was not a predecessor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10d"><span class="kn">Definition</span> <span class="nf">int_mul_pred_r</span>@{} (x y : Int) : x * y.-<span class="mi">1</span> = -x + x * y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.-<span class="mi">1</span> = - x + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.-<span class="mi">1</span> = - x + x * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk10f"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * y.-<span class="mi">1</span> = - <span class="mi">0</span> + <span class="mi">0</span> * y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk110" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><label class="goal-separator" for="int-v-chk110"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * y.-<span class="mi">1</span> = - x.+<span class="mi">1</span> + x.+<span class="mi">1</span> * y</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><label class="goal-separator" for="int-v-chk111"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.-<span class="mi">1</span> = - (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk112">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * y.-<span class="mi">1</span> = - <span class="mi">0</span> + <span class="mi">0</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk113">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * y.-<span class="mi">1</span> = - x.+<span class="mi">1</span> + x.+<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk114"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y.-<span class="mi">1</span> + x * y.-<span class="mi">1</span> = - x.+<span class="mi">1</span> + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk115"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y.-<span class="mi">1</span> + (- x + x * y) = - x.+<span class="mi">1</span> + (y + x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk116"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y.-<span class="mi">1</span> + - x = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk117"><span class="nb">rewrite</span> &lt;- (int_neg_neg y.-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- - y.-<span class="mi">1</span> + - x = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk118"><span class="nb">rewrite</span> &lt;- int_neg_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (- y.-<span class="mi">1</span> + x) = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk119"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- ((- y).+<span class="mi">1</span> + x) = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11a"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (- y + x).+<span class="mi">1</span> = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11b"><span class="nb">rewrite</span> int_add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x + - y).+<span class="mi">1</span> = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11c"><span class="nb">rewrite</span> &lt;- int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x.+<span class="mi">1</span> + - y) = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11d"><span class="nb">rewrite</span> int_neg_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, x * y.-<span class="mi">1</span> = - x + x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x.+<span class="mi">1</span> + - - y = - x.+<span class="mi">1</span> + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_neg_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.-<span class="mi">1</span> = - (- x).-<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk11f"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.-<span class="mi">1</span> = (- - x).+<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk120"><span class="nb">rewrite</span> int_neg_neg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * y.-<span class="mi">1</span> = x.+<span class="mi">1</span> + (- x).-<span class="mi">1</span> * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk121"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y.-<span class="mi">1</span> + - x * y.-<span class="mi">1</span> = x.+<span class="mi">1</span> + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk122"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y.-<span class="mi">1</span> + (- - x + - x * y) = x.+<span class="mi">1</span> + (- y + - x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk123"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y.-<span class="mi">1</span> + - - x = x.+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk124"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- y).+<span class="mi">1</span> + - - x = x.+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk125"><span class="nb">rewrite</span> int_neg_neg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- y).+<span class="mi">1</span> + x = x.+<span class="mi">1</span> + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk126"><span class="nb">rewrite</span> <span class="mi">2</span> int_add_succ_l; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : Int, - x * y.-<span class="mi">1</span> = - - x + - x * y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + x = x + - y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Integer multiplication is commutative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk127"><span class="kn">Definition</span> <span class="nf">int_mul_comm</span>@{} (x y : Int) : x * y = y * x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk128"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk129"><span class="nb">induction</span> y <span class="kr">as</span> [|y IHy|y IHy] <span class="kr">in</span> x |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">0</span> = <span class="mi">0</span> * x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk12a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * y = y * x</span></span></span><br></div><label class="goal-separator" for="int-v-chk12a"><hr></label><div class="goal-conclusion">x * y.+<span class="mi">1</span> = y.+<span class="mi">1</span> * x</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk12b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * - y = - y * x</span></span></span><br></div><label class="goal-separator" for="int-v-chk12b"><hr></label><div class="goal-conclusion">x * (- y).-<span class="mi">1</span> = (- y).-<span class="mi">1</span> * x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk12c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * <span class="mi">0</span> = <span class="mi">0</span> * x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_mul_0_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk12d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * y = y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.+<span class="mi">1</span> = y.+<span class="mi">1</span> * x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk12e"><span class="nb">rewrite</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * y = y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y.+<span class="mi">1</span> = x + y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk12f"><span class="nb">rewrite</span> int_mul_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * y = y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + x * y = x + y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHy.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk130">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * - y = - y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (- y).-<span class="mi">1</span> = (- y).-<span class="mi">1</span> * x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk131"><span class="nb">rewrite</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * - y = - y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (- y).-<span class="mi">1</span> = - x + - y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk132"><span class="nb">rewrite</span> int_mul_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHy</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Int, x * - y = - y * x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- x + x * - y = - x + - y * x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHy.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplying with a negation on the right is the same as negating the product. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk133"><span class="kn">Definition</span> <span class="nf">int_mul_neg_r</span>@{} (x y : Int) : x * - y = - (x * y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * - y = - (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk134"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * - y = - (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk135"><span class="nb">rewrite</span> !(int_mul_comm x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y * x = - (y * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_mul_neg_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplication distributes over addition on the left. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk136"><span class="kn">Definition</span> <span class="nf">int_dist_l</span>@{} (x y z : Int) : x * (y + z) = x * y + x * z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y + z) = x * y + x * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk137"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y + z) = x * y + x * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk138"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y, z |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * (y + z) = <span class="mi">0</span> * y + <span class="mi">0</span> * z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><label class="goal-separator" for="int-v-chk139"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * (y + z) = x.+<span class="mi">1</span> * y + x.+<span class="mi">1</span> * z</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk13a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><label class="goal-separator" for="int-v-chk13a"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * (y + z) = (- x).-<span class="mi">1</span> * y + (- x).-<span class="mi">1</span> * z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * (y + z) = <span class="mi">0</span> * y + <span class="mi">0</span> * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * (y + z) = x.+<span class="mi">1</span> * y + x.+<span class="mi">1</span> * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13d"><span class="nb">rewrite</span> <span class="mi">3</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + z + x * (y + z) = y + x * y + (z + x * z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13e"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + z + (x * y + x * z) = y + x * y + (z + x * z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk13f"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y + z + x * y = y + x * y + z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk140"><span class="nb">rewrite</span> &lt;- !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y + z) = x * y + x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z + x * y = x * y + z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk141">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * (y + z) = (- x).-<span class="mi">1</span> * y + (- x).-<span class="mi">1</span> * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk142"><span class="nb">rewrite</span> <span class="mi">3</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y + z) + - x * (y + z) =
- y + - x * y + (- z + - x * z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk143"><span class="nb">rewrite</span> IHx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y + z) + (- x * y + - x * z) =
- y + - x * y + (- z + - x * z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk144"><span class="nb">rewrite</span> !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y + z) + - x * y = - y + - x * y + - z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk145"><span class="nb">rewrite</span> int_neg_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y + - z + - x * y = - y + - x * y + - z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk146"><span class="nb">rewrite</span> &lt;- !int_add_assoc; f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y + z) = - x * y + - x * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- z + - x * y = - x * y + - z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_add_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplication distributes over addition on the right. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk147"><span class="kn">Definition</span> <span class="nf">int_dist_r</span>@{} (x y z : Int) : (x + y) * z = x * z + y * z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y) * z = x * z + y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk148"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x + y) * z = x * z + y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> int_mul_comm, int_dist_l, !(int_mul_comm z).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Multiplication is associative. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk149"><span class="kn">Definition</span> <span class="nf">int_mul_assoc</span>@{} (x y z : Int) : x * (y * z) = x * y * z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * z) = x * y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk14a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * z) = x * y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk14b"><span class="nb">induction</span> x <span class="kr">as</span> [|x IHx|x IHx] <span class="kr">in</span> y, z |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * (y * z) = <span class="mi">0</span> * y * z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk14c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y * z) = x * y * z</span></span></span><br></div><label class="goal-separator" for="int-v-chk14c"><hr></label><div class="goal-conclusion">x.+<span class="mi">1</span> * (y * z) = x.+<span class="mi">1</span> * y * z</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk14d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y * z) = - x * y * z</span></span></span><br></div><label class="goal-separator" for="int-v-chk14d"><hr></label><div class="goal-conclusion">(- x).-<span class="mi">1</span> * (y * z) = (- x).-<span class="mi">1</span> * y * z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk14e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * (y * z) = <span class="mi">0</span> * y * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk14f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y * z) = x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x.+<span class="mi">1</span> * (y * z) = x.+<span class="mi">1</span> * y * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk150"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y * z) = x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * z + x * (y * z) = (y + x * y) * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk151"><span class="nb">rewrite</span> int_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, x * (y * z) = x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * z + x * (y * z) = y * z + x * y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk152">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y * z) = - x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- x).-<span class="mi">1</span> * (y * z) = (- x).-<span class="mi">1</span> * y * z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk153"><span class="nb">rewrite</span> <span class="mi">2</span> int_mul_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y * z) = - x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y * z) + - x * (y * z) = (- y + - x * y) * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk154"><span class="nb">rewrite</span> int_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y * z) = - x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y * z) + - x * (y * z) = - y * z + - x * y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk155"><span class="nb">rewrite</span> &lt;- int_mul_neg_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHx</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : Int, - x * (y * z) = - x * y * z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- y * z + - x * (y * z) = - y * z + - x * y * z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Iteration of equivalences *)</span>

<span class="sd">(** *** Iteration by arbitrary integers *)</span>

<span class="sd">(** Iteration by arbitrary integers requires the endofunction to be an equivalence, so that we can define a negative iteration by using its inverse. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_iter</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{!IsEquiv f} (n : Int) : A -&gt; A
  := <span class="kr">match</span> n <span class="kr">with</span>
      | negS n =&gt; <span class="kr">fun</span> <span class="nv">x</span> =&gt; nat_iter n.+<span class="mi">1</span>%nat f^-<span class="mi">1</span> x
      | zero =&gt; idmap
      | posS n =&gt; <span class="kr">fun</span> <span class="nv">x</span> =&gt; nat_iter n.+<span class="mi">1</span>%nat f x
     <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk156"><span class="kn">Definition</span> <span class="nf">int_iter_neg</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (n : Int) (a : A)
  : int_iter f (- n) a = int_iter f^-<span class="mi">1</span> n a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n) a = int_iter f^-<span class="mi">1</span> n a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk157"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n) a = int_iter f^-<span class="mi">1</span> n a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk158"><span class="kn">Definition</span> <span class="nf">int_iter_succ_l</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (n : Int) (a : A)
  : int_iter f (int_succ n) a = f (int_iter f n a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span> a = f (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk159"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span> a = f (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk15a"><span class="nb">induction</span> n <span class="kr">as</span> [|n|n].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f <span class="mi">0</span>.+<span class="mi">1</span> a = f (int_iter f <span class="mi">0</span> a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk15b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span> a = f (int_iter f n a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk15b"><hr></label><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>.+<span class="mi">1</span> a = f (int_iter f n.+<span class="mi">1</span> a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk15c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n).+<span class="mi">1</span> a = f (int_iter f (- n) a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk15c"><hr></label><div class="goal-conclusion">int_iter f (- n).-<span class="mi">1</span>.+<span class="mi">1</span> a = f (int_iter f (- n).-<span class="mi">1</span> a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk15d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f <span class="mi">0</span>.+<span class="mi">1</span> a = f (int_iter f <span class="mi">0</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk15e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span> a = f (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>.+<span class="mi">1</span> a = f (int_iter f n.+<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk15f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n).+<span class="mi">1</span> a = f (int_iter f (- n) a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n).-<span class="mi">1</span>.+<span class="mi">1</span> a = f (int_iter f (- n).-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk160"><span class="nb">rewrite</span> int_pred_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n).+<span class="mi">1</span> a = f (int_iter f (- n) a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n) a = f (int_iter f (- n).-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk161"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- <span class="mi">0</span>%nat).+<span class="mi">1</span> a = f (int_iter f (- <span class="mi">0</span>%nat) a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- <span class="mi">0</span>%nat) a = f (int_iter f (- <span class="mi">0</span>%nat).-<span class="mi">1</span> a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = f (int_iter f (- n.+<span class="mi">1</span>%nat) a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk162"><hr></label><div class="goal-conclusion">int_iter f (- n.+<span class="mi">1</span>%nat) a =
f (int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="nb">symmetry</span>; <span class="nb">apply</span> eisretr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk163"><span class="kn">Definition</span> <span class="nf">int_iter_succ_r</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (n : Int) (a : A)
  : int_iter f (int_succ n) a = int_iter f n (f a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span> a = int_iter f n (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk164"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span> a = int_iter f n (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk165"><span class="nb">induction</span> n <span class="kr">as</span> [|n|n].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f <span class="mi">0</span>.+<span class="mi">1</span> a = int_iter f <span class="mi">0</span> (f a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk166" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span> a = int_iter f n (f a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk166"><hr></label><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>.+<span class="mi">1</span> a = int_iter f n.+<span class="mi">1</span> (f a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk167" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n).+<span class="mi">1</span> a = int_iter f (- n) (f a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk167"><hr></label><div class="goal-conclusion">int_iter f (- n).-<span class="mi">1</span>.+<span class="mi">1</span> a = int_iter f (- n).-<span class="mi">1</span> (f a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk168">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f <span class="mi">0</span>.+<span class="mi">1</span> a = int_iter f <span class="mi">0</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk169">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span> a = int_iter f n (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>.+<span class="mi">1</span> a = int_iter f n.+<span class="mi">1</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk16a"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f <span class="mi">0</span>%nat.+<span class="mi">1</span> a = int_iter f <span class="mi">0</span>%nat (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f <span class="mi">0</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> a = int_iter f <span class="mi">0</span>%nat.+<span class="mi">1</span> (f a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk16b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span> a = int_iter f n.+<span class="mi">1</span>%nat (f a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk16b"><hr></label><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> a =
int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span> (f a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk16c"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span> a = int_iter f n.+<span class="mi">1</span>%nat (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span>.+<span class="mi">1</span> a =
int_iter f n.+<span class="mi">1</span>%nat.+<span class="mi">1</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span>; f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk16d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n).+<span class="mi">1</span> a = int_iter f (- n) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n).-<span class="mi">1</span>.+<span class="mi">1</span> a = int_iter f (- n).-<span class="mi">1</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk16e"><span class="nb">destruct</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- <span class="mi">0</span>%nat).+<span class="mi">1</span> a = int_iter f (- <span class="mi">0</span>%nat) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- <span class="mi">0</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> a =
int_iter f (- <span class="mi">0</span>%nat).-<span class="mi">1</span> (f a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk16f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat) (f a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk16f"><hr></label><div class="goal-conclusion">int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> a =
int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> (f a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk170"><span class="mi">1</span>: <span class="nb">symmetry</span>; <span class="nb">apply</span> eissect.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span>.+<span class="mi">1</span> a =
int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk171"><span class="nb">rewrite</span> int_pred_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- n.+<span class="mi">1</span>%nat) a =
int_iter f (- n.+<span class="mi">1</span>%nat).-<span class="mi">1</span> (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk172"><span class="nb">apply</span> (ap f^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_iter n f^-<span class="mi">1</span> a = f^-<span class="mi">1</span> (nat_iter n f^-<span class="mi">1</span> (f a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk173">rhs_V <span class="bp">exact</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat) (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">nat_iter n f^-<span class="mi">1</span> a = int_iter f (- n.+<span class="mi">1</span>%nat).+<span class="mi">1</span> a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk174"><span class="kn">Definition</span> <span class="nf">int_iter_pred_l</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (n : Int) (a : A)
  : int_iter f (int_pred n) a = f^-<span class="mi">1</span> (int_iter f n a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.-<span class="mi">1</span> a = f^-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk175"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.-<span class="mi">1</span> a = f^-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Convert the problem to be a problem about [f^-1] and [-n]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk176">lhs_V <span class="bp">exact</span> (int_iter_neg f^-<span class="mi">1</span> (n.-<span class="mi">1</span>) a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n.-<span class="mi">1</span>) a = f^-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk177">rhs_V <span class="bp">exact</span> (ap f^-<span class="mi">1</span> (int_iter_neg f^-<span class="mi">1</span> n a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n.-<span class="mi">1</span>) a =
f^-<span class="mi">1</span> (int_iter f^-<span class="mi">1</span> (- n) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Then [int_iter_succ_l] applies, after changing [- n.-1] to [(-n).+1]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk178"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n).+<span class="mi">1</span> a =
f^-<span class="mi">1</span> (int_iter f^-<span class="mi">1</span> (- n) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_iter_succ_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk179"><span class="kn">Definition</span> <span class="nf">int_iter_pred_r</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (n : Int) (a : A)
  : int_iter f (int_pred n) a = int_iter f n (f^-<span class="mi">1</span> a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.-<span class="mi">1</span> a = int_iter f n (f^-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f n.-<span class="mi">1</span> a = int_iter f n (f^-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Convert the problem to be a problem about [f^-1] and [-n]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17b">lhs_V <span class="bp">exact</span> (int_iter_neg f^-<span class="mi">1</span> (n.-<span class="mi">1</span>) a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n.-<span class="mi">1</span>) a = int_iter f n (f^-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17c">rhs_V <span class="bp">exact</span> (int_iter_neg f^-<span class="mi">1</span> n (f^-<span class="mi">1</span> a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n.-<span class="mi">1</span>) a =
int_iter f^-<span class="mi">1</span> (- n) (f^-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Then [int_iter_succ_r] applies, after changing [- n.-1] to [(-n).+1]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17d"><span class="nb">rewrite</span> int_neg_pred.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f^-<span class="mi">1</span> (- n).+<span class="mi">1</span> a =
int_iter f^-<span class="mi">1</span> (- n) (f^-<span class="mi">1</span> a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> int_iter_succ_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17e"><span class="kn">Definition</span> <span class="nf">int_iter_add</span> {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{IsEquiv _ _ f} (m n : Int)
  : int_iter f (m + n) == int_iter f m o int_iter f n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (m + n) == int_iter f m o int_iter f n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk17f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (m + n) == int_iter f m o int_iter f n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk180"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (m + n) a = int_iter f m (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk181"><span class="nb">induction</span> m <span class="kr">as</span> [|m|m].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (<span class="mi">0</span> + n) a = int_iter f <span class="mi">0</span> (int_iter f n a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk182" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (m + n) a = int_iter f m (int_iter f n a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk182"><hr></label><div class="goal-conclusion">int_iter f (m.+<span class="mi">1</span> + n) a =
int_iter f m.+<span class="mi">1</span> (int_iter f n a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk183" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (- m + n) a = int_iter f (- m) (int_iter f n a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk183"><hr></label><div class="goal-conclusion">int_iter f ((- m).-<span class="mi">1</span> + n) a =
int_iter f (- m).-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk184">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (<span class="mi">0</span> + n) a = int_iter f <span class="mi">0</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk185">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (m + n) a = int_iter f m (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (m.+<span class="mi">1</span> + n) a =
int_iter f m.+<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk186"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (m + n) a = int_iter f m (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (m + n).+<span class="mi">1</span> a =
int_iter f m.+<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk187"><span class="nb">rewrite</span> <span class="mi">2</span> int_iter_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (m + n) a = int_iter f m (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (int_iter f (m + n) a) =
f (int_iter f m (int_iter f n a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk188">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (- m + n) a = int_iter f (- m) (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f ((- m).-<span class="mi">1</span> + n) a =
int_iter f (- m).-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk189"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (- m + n) a = int_iter f (- m) (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f (- m + n).-<span class="mi">1</span> a =
int_iter f (- m).-<span class="mi">1</span> (int_iter f n a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk18a"><span class="nb">rewrite</span> <span class="mi">2</span> int_iter_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>int_iter f (- m + n) a = int_iter f (- m) (int_iter f n a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f^-<span class="mi">1</span> (int_iter f (- m + n) a) =
f^-<span class="mi">1</span> (int_iter f (- m) (int_iter f n a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [g : A -&gt; A&#39;] commutes with automorphisms of [A] and [A&#39;], then it commutes with iteration. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk18b"><span class="kn">Definition</span> <span class="nf">int_iter_commute_map</span> {<span class="nv">A</span> <span class="nv">A&#39;</span>} (<span class="nv">f</span> : A -&gt; A) `{!IsEquiv f}
  (f&#39; : A&#39; -&gt; A&#39;) `{!IsEquiv f&#39;}
  (g : A -&gt; A&#39;) (p : g o f == f&#39; o g) (n : Int) (a : A)
  : g (int_iter f n a) = int_iter f&#39; n (g a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f n a) = int_iter f&#39; n (g a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk18c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f n a) = int_iter f&#39; n (g a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk18d"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn|n IHn] <span class="kr">in</span> a |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f <span class="mi">0</span> a) = int_iter f&#39; <span class="mi">0</span> (g a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk18e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f n a) = int_iter f&#39; n (g a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk18e"><hr></label><div class="goal-conclusion">g (int_iter f n.+<span class="mi">1</span> a) = int_iter f&#39; n.+<span class="mi">1</span> (g a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk18f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><label class="goal-separator" for="int-v-chk18f"><hr></label><div class="goal-conclusion">g (int_iter f (- n).-<span class="mi">1</span> a) = int_iter f&#39; (- n).-<span class="mi">1</span> (g a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk190">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f <span class="mi">0</span> a) = int_iter f&#39; <span class="mi">0</span> (g a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk191">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f n a) = int_iter f&#39; n (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f n.+<span class="mi">1</span> a) = int_iter f&#39; n.+<span class="mi">1</span> (g a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk192"><span class="nb">rewrite</span> <span class="mi">2</span> int_iter_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f n a) = int_iter f&#39; n (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f n (f a)) = int_iter f&#39; n (f&#39; (g a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk193"><span class="nb">rewrite</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f n a) = int_iter f&#39; n (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f&#39; n (g (f a)) = int_iter f&#39; n (f&#39; (g a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk194">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f (- n).-<span class="mi">1</span> a) = int_iter f&#39; (- n).-<span class="mi">1</span> (g a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk195"><span class="nb">rewrite</span> <span class="mi">2</span> int_iter_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (int_iter f (- n) (f^-<span class="mi">1</span> a)) =
int_iter f&#39; (- n) (f&#39;^-<span class="mi">1</span> (g a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk196"><span class="nb">rewrite</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">int_iter f&#39; (- n) (g (f^-<span class="mi">1</span> a)) =
int_iter f&#39; (- n) (f&#39;^-<span class="mi">1</span> (g a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk197">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (f^-<span class="mi">1</span> a) = f&#39;^-<span class="mi">1</span> (g a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk198"><span class="nb">apply</span> moveL_equiv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f&#39; (g (f^-<span class="mi">1</span> a)) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk199">lhs_V napply p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g (f (f^-<span class="mi">1</span> a)) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk19a">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;</span></span></span><br><span><var>IsEquiv1</var><span class="hyp-type"><b>: </b><span>IsEquiv f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o f == f&#39; o g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
g (int_iter f (- n) a) = int_iter f&#39; (- n) (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (f^-<span class="mi">1</span> a) = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> eisretr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** In particular, homotopic maps have homotopic iterations. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_iter_homotopic</span> (<span class="nv">n</span> : Int) {<span class="nv">A</span>} (<span class="nv">f</span> <span class="nv">f&#39;</span> : A -&gt; A) `{!IsEquiv f} `{!IsEquiv f&#39;}
  (h : f == f&#39;)
  : int_iter f n == int_iter f&#39; n
  := int_iter_commute_map f f&#39; idmap h n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [int_iter f n x] doesn&#39;t depend on the proof that [f] is an equivalence. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">int_iter_agree</span> (<span class="nv">n</span> : Int) {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) {<span class="nv">ief</span> <span class="nv">ief&#39;</span> : IsEquiv f}
  : <span class="kr">forall</span> <span class="nv">x</span>, @int_iter A f ief n x = @int_iter A f ief&#39; n x
  := int_iter_homotopic n f f (<span class="kr">fun</span> <span class="nv">_</span> =&gt; idpath).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk19b"><span class="kn">Definition</span> <span class="nf">int_iter_invariant</span> (<span class="nv">n</span> : Int) {<span class="nv">A</span>} (<span class="nv">f</span> : A -&gt; A) `{!IsEquiv f}
  (P : A -&gt; <span class="kt">Type</span>)
  (Psucc : <span class="kr">forall</span> <span class="nv">x</span>, P x -&gt; P (f x))
  (Ppred : <span class="kr">forall</span> <span class="nv">x</span>, P x -&gt; P (f^-<span class="mi">1</span> x))
  : <span class="kr">forall</span> <span class="nv">x</span>, P x -&gt; P (int_iter f n x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk19c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk19d"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn|n IHn]; <span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x -&gt; P (int_iter f <span class="mi">0</span> x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="int-v-chk19e"><hr></label><div class="goal-conclusion">P x -&gt; P (int_iter f n.+<span class="mi">1</span> x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk19f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f (- n) x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="int-v-chk19f"><hr></label><div class="goal-conclusion">P x -&gt; P (int_iter f (- n).-<span class="mi">1</span> x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x -&gt; P (int_iter f <span class="mi">0</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x -&gt; P (int_iter f n.+<span class="mi">1</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a2"><span class="nb">intro</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (int_iter f n.+<span class="mi">1</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a3"><span class="nb">rewrite</span> int_iter_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f n x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (f (int_iter f n x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Psucc, IHn, H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f (- n) x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x -&gt; P (int_iter f (- n).-<span class="mi">1</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a5"><span class="nb">intro</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f (- n) x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (int_iter f (- n).-<span class="mi">1</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a6"><span class="nb">rewrite</span> int_iter_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A</span></span></span><br><span><var>IsEquiv0</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Psucc</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f x)</span></span></span><br><span><var>Ppred</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (f^-<span class="mi">1</span> x)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P x -&gt; P (int_iter f (- n) x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (f^-<span class="mi">1</span> (int_iter f (- n) x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Ppred, IHn, H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Exponentiation of loops *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">loopexp</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int) : (x = x)
  := int_iter (equiv_concat_r p x) z idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">loopexp_succ_r</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int)
  : loopexp p z.+<span class="mi">1</span> = loopexp p z @ p
  := int_iter_succ_l _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">loopexp_pred_r</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int)
  : loopexp p z.-<span class="mi">1</span> = loopexp p z @ p^
  := int_iter_pred_l _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a7"><span class="kn">Definition</span> <span class="nf">loopexp_succ_l</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int)
  : loopexp p z.+<span class="mi">1</span> = p @ loopexp p z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> = p @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> = p @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1a9">lhs napply loopexp_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z @ p = p @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1aa"><span class="nb">induction</span> z <span class="kr">as</span> [|z|z].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p <span class="mi">0</span> @ p = p @ loopexp p <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p = p @ loopexp p z</span></span></span><br></div><label class="goal-separator" for="int-v-chk1ab"><hr></label><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> @ p = p @ loopexp p z.+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1ac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p = p @ loopexp p (- z)</span></span></span><br></div><label class="goal-separator" for="int-v-chk1ac"><hr></label><div class="goal-conclusion">loopexp p (- z).-<span class="mi">1</span> @ p = p @ loopexp p (- z).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ad">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p <span class="mi">0</span> @ p = p @ loopexp p <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">napply concat_1p_p1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ae">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p = p @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> @ p = p @ loopexp p z.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1af"><span class="nb">rewrite</span> loopexp_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p = p @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p z @ p) @ p = p @ (loopexp p z @ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b0">rhs napply concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p = p @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p z @ p) @ p = (p @ loopexp p z) @ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p = p @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (- z).-<span class="mi">1</span> @ p = p @ loopexp p (- z).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b2"><span class="nb">rewrite</span> loopexp_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p = p @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p (- z) @ p^) @ p =
p @ (loopexp p (- z) @ p^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b3">lhs napply concat_pV_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p = p @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (- z) = p @ (loopexp p (- z) @ p^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b4">rhs napply concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p = p @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (- z) = (p @ loopexp p (- z)) @ p^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> moveL_pV.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b5"><span class="kn">Definition</span> <span class="nf">loopexp_pred_l</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int)
  : loopexp p z.-<span class="mi">1</span> = p^ @ loopexp p z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.-<span class="mi">1</span> = p^ @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.-<span class="mi">1</span> = p^ @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b7"><span class="nb">rewrite</span> loopexp_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z @ p^ = p^ @ loopexp p z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1b8"><span class="nb">induction</span> z <span class="kr">as</span> [|z|z].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p <span class="mi">0</span> @ p^ = p^ @ loopexp p <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1b9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p^ = p^ @ loopexp p z</span></span></span><br></div><label class="goal-separator" for="int-v-chk1b9"><hr></label><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> @ p^ = p^ @ loopexp p z.+<span class="mi">1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p^ = p^ @ loopexp p (- z)</span></span></span><br></div><label class="goal-separator" for="int-v-chk1ba"><hr></label><div class="goal-conclusion">loopexp p (- z).-<span class="mi">1</span> @ p^ = p^ @ loopexp p (- z).-<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1bb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p <span class="mi">0</span> @ p^ = p^ @ loopexp p <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (concat_1p _ @ (concat_p1 _)^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1bc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p^ = p^ @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z.+<span class="mi">1</span> @ p^ = p^ @ loopexp p z.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1bd"><span class="nb">rewrite</span> loopexp_succ_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p^ = p^ @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p z @ p) @ p^ = p^ @ (loopexp p z @ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1be">lhs napply concat_pp_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p^ = p^ @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z = p^ @ (loopexp p z @ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1bf">rhs napply concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p z @ p^ = p^ @ loopexp p z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p z = (p^ @ loopexp p z) @ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> moveL_pM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p^ = p^ @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (- z).-<span class="mi">1</span> @ p^ = p^ @ loopexp p (- z).-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c1"><span class="nb">rewrite</span> loopexp_pred_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p^ = p^ @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p (- z) @ p^) @ p^ =
p^ @ (loopexp p (- z) @ p^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c2">rhs napply concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHz</var><span class="hyp-type"><b>: </b><span>loopexp p (- z) @ p^ = p^ @ loopexp p (- z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(loopexp p (- z) @ p^) @ p^ =
(p^ @ loopexp p (- z)) @ p^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c3"><span class="kn">Definition</span> <span class="nf">ap_loopexp</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) (<span class="nv">z</span> : Int)
  : ap f (loopexp p z) = loopexp (ap f p) z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap f (loopexp p z) = loopexp (ap f p) z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap f (loopexp p z) = loopexp (ap f p) z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c5">napply int_iter_commute_map.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x0</span> : x = x =&gt; ap f (equiv_concat_r p x x0)) ==
(<span class="kr">fun</span> <span class="nv">x0</span> : x = x =&gt;
 equiv_concat_r (ap f p) (f x) (ap f x0))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intro</span> q; <span class="nb">apply</span> ap_pp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c6"><span class="kn">Definition</span> <span class="nf">loopexp_add</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> : A} (<span class="nv">p</span> : x = x) <span class="nv">m</span> <span class="nv">n</span>
  : loopexp p (m + n) = loopexp p m @ loopexp p n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (m + n) = loopexp p m @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (m + n) = loopexp p m @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1c8"><span class="nb">induction</span> m <span class="kr">as</span> [|m|m].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (<span class="mi">0</span> + n) = loopexp p <span class="mi">0</span> @ loopexp p n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1c9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (m + n) = loopexp p m @ loopexp p n</span></span></span><br></div><label class="goal-separator" for="int-v-chk1c9"><hr></label><div class="goal-conclusion">loopexp p (m.+<span class="mi">1</span> + n) = loopexp p m.+<span class="mi">1</span> @ loopexp p n</div></blockquote><input class="alectryon-extra-goal-toggle" id="int-v-chk1ca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (- m + n) = loopexp p (- m) @ loopexp p n</span></span></span><br></div><label class="goal-separator" for="int-v-chk1ca"><hr></label><div class="goal-conclusion">loopexp p ((- m).-<span class="mi">1</span> + n) =
loopexp p (- m).-<span class="mi">1</span> @ loopexp p n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1cb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (<span class="mi">0</span> + n) = loopexp p <span class="mi">0</span> @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> concat_1p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1cc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (m + n) = loopexp p m @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (m.+<span class="mi">1</span> + n) = loopexp p m.+<span class="mi">1</span> @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1cd"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (m + n) = loopexp p m @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (m + n).+<span class="mi">1</span> = loopexp p m.+<span class="mi">1</span> @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ce"><span class="nb">rewrite</span> <span class="mi">2</span> loopexp_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (m + n) = loopexp p m @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p @ loopexp p (m + n) =
(p @ loopexp p m) @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHm, concat_p_pp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1cf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (- m + n) = loopexp p (- m) @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p ((- m).-<span class="mi">1</span> + n) =
loopexp p (- m).-<span class="mi">1</span> @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d0"><span class="nb">rewrite</span> int_add_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (- m + n) = loopexp p (- m) @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">loopexp p (- m + n).-<span class="mi">1</span> =
loopexp p (- m).-<span class="mi">1</span> @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d1"><span class="nb">rewrite</span> <span class="mi">2</span> loopexp_pred_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span>loopexp p (- m + n) = loopexp p (- m) @ loopexp p n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p^ @ loopexp p (- m + n) =
(p^ @ loopexp p (- m)) @ loopexp p n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> IHm, concat_p_pp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Under univalence, exponentiation of loops corresponds to iteration of auto-equivalences. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d2"><span class="kn">Definition</span> <span class="nf">equiv_path_loopexp</span> {<span class="nv">A</span> : <span class="kt">Type</span>} (<span class="nv">p</span> : A = A) (<span class="nv">z</span> : Int) (<span class="nv">a</span> : A)
  : equiv_path A A (loopexp p z) a = int_iter (equiv_path A A p) z a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equiv_path A A (loopexp p z) a =
int_iter (equiv_path A A p) z a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equiv_path A A (loopexp p z) a =
int_iter (equiv_path A A p) z a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d4"><span class="nb">refine</span> (int_iter_commute_map _ _ (<span class="kr">fun</span> <span class="nv">p</span> =&gt; equiv_path A A p a) _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A = A =&gt;
 equiv_path A A (equiv_concat_r p A x) a) ==
(<span class="kr">fun</span> <span class="nv">x</span> : A = A =&gt;
 equiv_path A A p (equiv_path A A x a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d5"><span class="nb">intro</span> q; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap (q @ p) a =
transport idmap p (transport idmap q a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply transport_pp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d6"><span class="kn">Definition</span> <span class="nf">loopexp_path_universe</span> `{Univalence} {A : <span class="kt">Type</span>} (f : A &lt;~&gt; A)
  (z : Int) (a : A)
  : transport idmap (loopexp (path_universe f) z) a = int_iter f z a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap (loopexp (path_universe f) z) a =
int_iter f z a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap (loopexp (path_universe f) z) a =
int_iter f z a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d8"><span class="nb">revert</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : A &lt;~&gt; A,
transport idmap (loopexp (path_universe f) z) a =
int_iter f z a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1d9">equiv_intro (equiv_path A A) p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap
  (loopexp (path_universe (equiv_path A A p)) z) a =
int_iter (equiv_path A A p) z a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1da"><span class="nb">refine</span> (_ @ equiv_path_loopexp p z a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap
  (loopexp (path_universe (equiv_path A A p)) z) a =
equiv_path A A (loopexp p z) a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1db"><span class="nb">refine</span> (ap (<span class="kr">fun</span> <span class="nv">q</span> =&gt; equiv_path A A (loopexp q z) a) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Int</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>A = A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">path_universe (equiv_path A A p) = p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> eissect.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Converting between integers and naturals *)</span>

<span class="sd">(** [int_of_nat] preserves successors. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1dc"><span class="kn">Definition</span> <span class="nf">int_nat_succ</span> (<span class="nv">n</span> : nat)
  : (n.+<span class="mi">1</span>)%int = (n.+<span class="mi">1</span>)%nat :&gt; Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> = n.+<span class="mi">1</span>%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1dd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> = n.+<span class="mi">1</span>%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [int_of_nat] preserves addition. Hence is a monoid homomorphism. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1de"><span class="kn">Definition</span> <span class="nf">int_nat_add</span> (<span class="nv">n</span> <span class="nv">m</span> : nat)
  : (n + m)%int = (n + m)%nat :&gt; Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + m = (n + m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1df"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n + m = (n + m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e0"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat + m = (<span class="mi">0</span> + m)%nat</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1e1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + m = (n + m)%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1e1"><hr></label><div class="goal-conclusion">n.+<span class="mi">1</span>%nat + m = (n.+<span class="mi">1</span> + m)%nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat + m = (<span class="mi">0</span> + m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + m = (n + m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span>%nat + m = (n.+<span class="mi">1</span> + m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e4"><span class="nb">rewrite</span> &lt;- <span class="mi">2</span> int_nat_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + m = (n + m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> + m = (nat_iter n S m).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e5"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + m = (n + m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n + m).+<span class="mi">1</span> = (nat_iter n S m).+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ IHn).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [int_of_nat] preserves subtraction when not truncated. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e6"><span class="kn">Definition</span> <span class="nf">int_nat_sub</span> (<span class="nv">n</span> <span class="nv">m</span> : nat)
  : (m &lt;= n)%nat -&gt; (n - m)%int = (n - m)%nat :&gt; Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m &lt;= n)%nat -&gt; n - m = (n - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(m &lt;= n)%nat -&gt; n - m = (n - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e8"><span class="nb">intros</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n - m = (n - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1e9"><span class="nb">induction</span> H <span class="kr">as</span> [|n H IHn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + - m = (m - m)%nat</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1ea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + - m = (n - m)%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1ea"><hr></label><div class="goal-conclusion">n.+<span class="mi">1</span>%nat + - m = (n.+<span class="mi">1</span> - m)%nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1eb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + - m = (m - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ec">lhs napply int_add_neg_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = (m - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> nat_sub_cancel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ed">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + - m = (n - m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span>%nat + - m = (n.+<span class="mi">1</span> - m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ee"><span class="nb">rewrite</span> nat_sub_succ_l; <span class="kp">only</span> <span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + - m = (n - m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span>%nat + - m = (n - m).+<span class="mi">1</span>%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1ef"><span class="nb">rewrite</span> &lt;- <span class="mi">2</span> int_nat_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + - m = (n - m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> + - m = (n - m)%nat.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f0"><span class="nb">rewrite</span> int_add_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(m &lt;= n)%nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n + - m = (n - m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(n + - m).+<span class="mi">1</span> = (n - m)%nat.+<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ IHn).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [int_of_nat] preserves multiplication. This makes [int_of_nat] a semiring homomorphism. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f1"><span class="kn">Definition</span> <span class="nf">int_nat_mul</span> (<span class="nv">n</span> <span class="nv">m</span> : nat)
  :  (n * m)%int = (n * m)%nat :&gt; Int.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * m = (n * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n * m = (n * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f3"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat * m = (<span class="mi">0</span> * m)%nat</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="int-v-chk1f4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><label class="goal-separator" for="int-v-chk1f4"><hr></label><div class="goal-conclusion">n.+<span class="mi">1</span>%nat * m = (n.+<span class="mi">1</span> * m)%nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span>%nat * m = (<span class="mi">0</span> * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span>%nat * m = (n.+<span class="mi">1</span> * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f7"><span class="nb">rewrite</span> &lt;- int_nat_succ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n.+<span class="mi">1</span> * m = (n.+<span class="mi">1</span> * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f8"><span class="nb">rewrite</span> int_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + n * m = (n.+<span class="mi">1</span> * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1f9"><span class="nb">rewrite</span> nat_mul_succ_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + n * m = (m + n * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="int-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="int-v-chk1fa">rhs_V napply int_nat_add.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n * m = (n * m)%nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m + n * m = m + (n * m)%nat</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap _ IHn).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span></span></pre>
</div>
</div></body>
</html>
