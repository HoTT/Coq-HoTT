<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Pullback.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk144"><span class="kn">Require Import</span> HoTT.Basics HoTT.Types.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> HFiber Homotopy.IdentitySystems Cubical.PathSquare.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Diagrams.CommutativeSquares.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Pullbacks *)</span>

<span class="sd">(** The pullback as an object *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Pullback</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A)
  := { b : B &amp; { c : C &amp; f b = g c }}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> Pullback {A B C}%_type_scope (f g)%_function_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The universal commutative square *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_pr1</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} {<span class="nv">f</span> : B -&gt; A} {<span class="nv">g</span> : C -&gt; A}
: Pullback f g -&gt; B := (<span class="kr">fun</span> <span class="nv">z</span> =&gt; z.<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_pr2</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} {<span class="nv">f</span> : B -&gt; A} {<span class="nv">g</span> : C -&gt; A}
: Pullback f g -&gt; C := (<span class="kr">fun</span> <span class="nv">z</span> =&gt; z.<span class="mi">2</span>.<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_commsq</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A)
: f o pullback_pr1 == g o pullback_pr2
:= (<span class="kr">fun</span> <span class="nv">z</span> =&gt; z.<span class="mi">2</span>.<span class="mi">2</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The universally induced map into it by any commutative square *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_corec</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h)
: A -&gt; Pullback k g
:= <span class="kr">fun</span> <span class="nv">a</span> =&gt; (f a ; h a ; p a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk145"><span class="kn">Definition</span> <span class="nf">pullback_corec_uncurried</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>} (<span class="nv">k</span> : B -&gt; D) (<span class="nv">g</span> : C -&gt; D)
  : { f : A -&gt; B &amp; { h : A -&gt; C &amp; k o f == g o h }} -&gt; (A -&gt; Pullback k g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}} -&gt;
A -&gt; Pullback k g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk146"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}} -&gt;
A -&gt; Pullback k g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk147"><span class="nb">intros</span> [f [h p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (h x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Pullback k g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (pullback_corec p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk148"><span class="kn">Instance</span> <span class="nf">isequiv_pullback_corec</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>} (<span class="nv">k</span> : B -&gt; D) (<span class="nv">g</span> : C -&gt; D)
  : IsEquiv (@pullback_corec_uncurried A B C D k g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (pullback_corec_uncurried k g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk149"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (pullback_corec_uncurried k g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk14a">snapply isequiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A -&gt; Pullback k g) -&gt;
{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk14b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk14b"><hr></label><div class="goal-conclusion">pullback_corec_uncurried k g o <span class="nl">?g</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk14c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk14c"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o pullback_corec_uncurried k g == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk14d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A -&gt; Pullback k g) -&gt;
{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk14e"><span class="nb">intro</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (pullback_pr1 o m ; pullback_pr2 o m ; (pullback_commsq k g) o m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk14f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec_uncurried k g
o (<span class="kr">fun</span> <span class="nv">m</span> : A -&gt; Pullback k g =&gt;
   (pullback_pr1 o m; pullback_pr2 o m;
   pullback_commsq k g o m)) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk150">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">m</span> : A -&gt; Pullback k g =&gt;
 (pullback_pr1 o m; pullback_pr2 o m;
 pullback_commsq k g o m))
o pullback_corec_uncurried k g == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_pullback_corec</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>} (<span class="nv">k</span> : B -&gt; D) (<span class="nv">g</span> : C -&gt; D)
  : { f : A -&gt; B &amp; { h : A -&gt; C &amp; k o f == g o h }} &lt;~&gt; (A -&gt; Pullback k g)
  := Build_Equiv _ _ _ (isequiv_pullback_corec k g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A homotopy commutative square is equivalent to a pullback of arrow types *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk151"><span class="kn">Definition</span> <span class="nf">equiv_ispullback_commsq</span> `{Funext} {A B C D} (k : B -&gt; D) (g : C -&gt; D)
  : { f : A -&gt; B &amp; { h : A -&gt; C &amp; k o f == g o h }}
    &lt;~&gt; @Pullback (A -&gt; D) (A -&gt; B) (A -&gt; C) (<span class="kr">fun</span> <span class="nv">f</span> =&gt; k o f) (<span class="kr">fun</span> <span class="nv">h</span> =&gt; g o h).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}} &lt;~&gt;
Pullback (<span class="kr">fun</span> <span class="nv">f</span> : A -&gt; B =&gt; k o f)
  (<span class="kr">fun</span> <span class="nv">h</span> : A -&gt; C =&gt; g o h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk152"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : A -&gt; B &amp; {h : A -&gt; C &amp; k o f == g o h}} &lt;~&gt;
Pullback (<span class="kr">fun</span> <span class="nv">f</span> : A -&gt; B =&gt; k o f)
  (<span class="kr">fun</span> <span class="nv">h</span> : A -&gt; C =&gt; g o h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk153"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intro</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{h : A -&gt; C &amp;
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (h x))} &lt;~&gt;
{c : A -&gt; C &amp;
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k (f x)) = (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (c x))}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk154"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intro</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (h x)) &lt;~&gt;
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k (f x)) = (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (h x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_forall.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The diagonal of a map *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">diagonal</span> {<span class="nv">X</span> <span class="nv">Y</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : X -&gt; Y) : X -&gt; Pullback f f
  := <span class="kr">fun</span> <span class="nv">x</span> =&gt; (x;x;idpath).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The fiber of the diagonal is a path-space in the fiber. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk155"><span class="kn">Definition</span> <span class="nf">hfiber_diagonal</span> {<span class="nv">X</span> <span class="nv">Y</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : X -&gt; Y) (<span class="nv">p</span> : Pullback f f)
  : hfiber (diagonal f) p &lt;~&gt;  ((p.<span class="mi">1</span> ; p.<span class="mi">2</span>.<span class="mi">2</span>) = (p.<span class="mi">2</span>.<span class="mi">1</span> ; idpath) :&gt; hfiber f (f p.<span class="mi">2</span>.<span class="mi">1</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pullback f f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (diagonal f) p &lt;~&gt;
(p.<span class="mi">1</span>; (p.<span class="mi">2</span>).<span class="mi">2</span>) = ((p.<span class="mi">2</span>).<span class="mi">1</span>; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk156"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Pullback f f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (diagonal f) p &lt;~&gt;
(p.<span class="mi">1</span>; (p.<span class="mi">2</span>).<span class="mi">2</span>) = ((p.<span class="mi">2</span>).<span class="mi">1</span>; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk157"><span class="nb">destruct</span> p <span class="kr">as</span> [x1 [x2 p]]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (diagonal f) (x1; x2; p) &lt;~&gt; (x1; p) = (x2; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk158"><span class="nb">refine</span> (_ oE equiv_functor_sigma_id (<span class="kr">fun</span> <span class="nv">x</span> =&gt; (equiv_path_sigma _ _ _)^-<span class="mi">1</span>)); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : X &amp;
{p0 : x = x1 &amp;
transport (<span class="kr">fun</span> <span class="nv">b</span> : X =&gt; {c : X &amp; f b = f c}) p0 (x; <span class="mi">1</span>) =
(x2; p)}} &lt;~&gt; (x1; p) = (x2; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk159"><span class="nb">refine</span> (_ oE equiv_sigma_assoc&#39; _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{ap : {a : X &amp; a = x1} &amp;
transport (<span class="kr">fun</span> <span class="nv">b</span> : X =&gt; {c : X &amp; f b = f c}) ap.<span class="mi">2</span>
  (ap.<span class="mi">1</span>; <span class="mi">1</span>) = (x2; p)} &lt;~&gt; (x1; p) = (x2; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15a"><span class="nb">refine</span> (_ oE equiv_contr_sigma _); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x1; <span class="mi">1</span>) = (x2; p) &lt;~&gt; (x1; p) = (x2; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15b"><span class="nb">refine</span> (equiv_path_sigma _ _ _ oE _ oE (equiv_path_sigma _ _ _)^-<span class="mi">1</span>); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p0 : x1 = x2 &amp;
transport (<span class="kr">fun</span> <span class="nv">c</span> : X =&gt; f x1 = f c) p0 <span class="mi">1</span> = p} &lt;~&gt;
{p0 : x1 = x2 &amp;
transport (<span class="kr">fun</span> <span class="nv">x</span> : X =&gt; f x = f x2) p0 p = <span class="mi">1</span>}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15c"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1, x2</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>x1 = x2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">c</span> : X =&gt; f x1 = f c) q <span class="mi">1</span> = p &lt;~&gt;
transport (<span class="kr">fun</span> <span class="nv">x</span> : X =&gt; f x = f x2) q p = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15d"><span class="nb">destruct</span> q; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>x1</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f x1 = f x1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> = p &lt;~&gt; p = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_inverse.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Symmetry of the pullback *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15e"><span class="kn">Definition</span> <span class="nf">equiv_pullback_symm</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A)
: Pullback f g &lt;~&gt; Pullback g f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; Pullback g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk15f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; Pullback g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk160"><span class="nb">refine</span> (_ oE equiv_sigma_symm (<span class="kr">fun</span> <span class="nv">b</span> <span class="nv">c</span> =&gt; f b = g c)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{b : C &amp; {a : B &amp; f a = g b}} &lt;~&gt; Pullback g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk161"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{a : B &amp; f a = g c} &lt;~&gt; {c0 : B &amp; g c = f c0}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk162"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b = g c &lt;~&gt; g c = f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_inverse.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Pullback over [Unit] is equivalent to a product. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk163"><span class="kn">Definition</span> <span class="nf">equiv_pullback_unit_prod</span> (<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>)
: Pullback (const_tt A) (const_tt B) &lt;~&gt; A * B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback (const_tt A) (const_tt B) &lt;~&gt; A * B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk164"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback (const_tt A) (const_tt B) &lt;~&gt; A * B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk165"><span class="nb">refine</span> (equiv_sigma_prod0 A B oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback (const_tt A) (const_tt B) &lt;~&gt; {_ : A &amp; B}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk166">snapply equiv_functor_sigma_id; <span class="nb">intro</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B &amp; const_tt A a = const_tt B c} &lt;~&gt; B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply equiv_sigma_contr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Pullback of [Unit] is equivalent to [hfiber]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk167"><span class="kn">Definition</span> <span class="nf">equiv_pullback_unit_hfiber</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : Unit -&gt; B)
  : Pullback f g &lt;~&gt; hfiber f (g tt).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; hfiber f (g tt)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk168"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; hfiber f (g tt)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk169">snapply equiv_functor_sigma_id; <span class="nb">intro</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : Unit &amp; f a = g c} &lt;~&gt; f a = g tt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_contr_sigma (<span class="kr">fun</span> <span class="nv">c</span> =&gt; _ = g c)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The same for the symmetrical pullback. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_pullback_unit_hfiber&#39;</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : Unit -&gt; B) (<span class="nv">g</span> : A -&gt; B)
  : Pullback f g &lt;~&gt; hfiber g (f tt)
  := equiv_pullback_unit_hfiber _ _ oE equiv_pullback_symm _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When both corners are [Unit] you get the path type. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16a"><span class="kn">Definition</span> <span class="nf">equiv_pullback_unit_unit_paths</span> {<span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> <span class="nv">g</span> : Unit -&gt; B)
  : Pullback f g &lt;~&gt; (f tt = g tt).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; f tt = g tt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; f tt = g tt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16c"><span class="nb">refine</span> (_ oE equiv_contr_sigma _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Unit -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : Unit &amp; f (center Unit) = g c} &lt;~&gt; f tt = g tt</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_contr_sigma (<span class="kr">fun</span> <span class="nv">c</span> =&gt; _ = g c)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The property of a given commutative square being a pullback *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">IsPullback</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h)
  := IsEquiv (pullback_corec p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_ispullback</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h) (<span class="nv">ip</span> : IsPullback p)
  : A &lt;~&gt; Pullback k g
  := Build_Equiv _ _ (pullback_corec p) ip.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This is equivalent to the transposed square being a pullback. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16d"><span class="kn">Definition</span> <span class="nf">ispullback_symm</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : g o h == k o f) (<span class="nv">pb</span> : IsPullback (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (p a)^))
  : IsPullback p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o h == k o f</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>IsPullback (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (p a)^)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o h == k o f</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>IsPullback (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (p a)^)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk16f">rapply (cancelL_isequiv (equiv_pullback_symm g k)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g o h == k o f</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>IsPullback (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (p a)^)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt;
   equiv_pullback_symm g k (pullback_corec p x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pb.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The pullback of the projections [{d:D &amp; P d} -&gt; D &lt;- {d:D &amp; Q d}] is equivalent to [{d:D &amp; P d * Q d}]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk170"><span class="kn">Definition</span> <span class="nf">ispullback_sigprod</span> {<span class="nv">D</span> : <span class="kt">Type</span>} (<span class="nv">P</span> <span class="nv">Q</span> : D -&gt; <span class="kt">Type</span>)
  : IsPullback (<span class="kr">fun</span> <span class="nv">z</span>:{d:D &amp; P d * Q d} =&gt; <span class="mi">1</span>%path : (z.<span class="mi">1</span>;fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>;snd z.<span class="mi">2</span>).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback
  (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
   <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk171"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback
  (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
   <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk172">srapply isequiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback pr1 pr1 -&gt; {d : D &amp; P d * Q d}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk173" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk173"><hr></label><div class="goal-conclusion">pullback_corec
  (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
   <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>) o <span class="nl">?g</span> ==
idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk174" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk174"><hr></label><div class="goal-conclusion"><span class="nl">?g</span>
o pullback_corec
    (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
     <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>) == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk175">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback pr1 pr1 -&gt; {d : D &amp; P d * Q d}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk176"><span class="nb">intros</span> [[d1 p] [[d2 q] e]]; <span class="nb">cbn</span> <span class="kr">in</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>P d1</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q d2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>d1 = d2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d : D &amp; P d * Q d}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk177"><span class="kr">exists</span> <span class="nv">d1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>P d1</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q d2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>d1 = d2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P d1 * Q d1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p, e^ # q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk178">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec
  (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
   <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>)
o (<span class="kr">fun</span> <span class="nv">X</span> : Pullback pr1 pr1 =&gt;
   (<span class="kr">fun</span> <span class="nv">proj2</span> : {x : _ &amp; P x} =&gt;
    (<span class="kr">fun</span> (<span class="nv">d1</span> : D) (<span class="nv">p</span> : P d1)
       (<span class="nv">proj3</span> : {c : {x : _ &amp; Q x} &amp; (d1; p).<span class="mi">1</span> = c.<span class="mi">1</span>})
     =&gt;
     (<span class="kr">fun</span> <span class="nv">proj4</span> : {x : _ &amp; Q x} =&gt;
      (<span class="kr">fun</span> (<span class="nv">d2</span> : D) (<span class="nv">q</span> : Q d2)
         (<span class="nv">e</span> : (d1; p).<span class="mi">1</span> = (d2; q).<span class="mi">1</span>) =&gt;
       (d1; (p, transport Q e^ q))) proj4.<span class="mi">1</span> proj4.<span class="mi">2</span>)
       proj3.<span class="mi">1</span> proj3.<span class="mi">2</span>) proj2.<span class="mi">1</span> proj2.<span class="mi">2</span>) X.<span class="mi">1</span> X.<span class="mi">2</span>) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk179"><span class="nb">intros</span> [[d1 p] [[d2 q] e]]; <span class="nb">unfold</span> pullback_corec; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>P d1</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>D</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q d2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>d1 = d2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((d1; p); (d1; transport Q e^ q); <span class="mi">1</span>) =
((d1; p); (d2; q); e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> e; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>D -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">X</span> : Pullback pr1 pr1 =&gt;
 (<span class="kr">fun</span> <span class="nv">proj2</span> : {x : _ &amp; P x} =&gt;
  (<span class="kr">fun</span> (<span class="nv">d1</span> : D) (<span class="nv">p</span> : P d1)
     (<span class="nv">proj3</span> : {c : {x : _ &amp; Q x} &amp; (d1; p).<span class="mi">1</span> = c.<span class="mi">1</span>})
   =&gt;
   (<span class="kr">fun</span> <span class="nv">proj4</span> : {x : _ &amp; Q x} =&gt;
    (<span class="kr">fun</span> (<span class="nv">d2</span> : D) (<span class="nv">q</span> : Q d2)
       (<span class="nv">e</span> : (d1; p).<span class="mi">1</span> = (d2; q).<span class="mi">1</span>) =&gt;
     (d1; (p, transport Q e^ q))) proj4.<span class="mi">1</span> proj4.<span class="mi">2</span>)
     proj3.<span class="mi">1</span> proj3.<span class="mi">2</span>) proj2.<span class="mi">1</span> proj2.<span class="mi">2</span>) X.<span class="mi">1</span> X.<span class="mi">2</span>)
o pullback_corec
    (<span class="kr">fun</span> <span class="nv">z</span> : {d : D &amp; P d * Q d} =&gt;
     <span class="mi">1</span> : (z.<span class="mi">1</span>; fst z.<span class="mi">2</span>).<span class="mi">1</span> = (z.<span class="mi">1</span>; snd z.<span class="mi">2</span>).<span class="mi">1</span>) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [d [p q]]; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sigprod_pullback</span> {<span class="nv">D</span> : <span class="kt">Type</span>} (<span class="nv">P</span> <span class="nv">Q</span> : D -&gt; <span class="kt">Type</span>)
  : {d:D &amp; P d * Q d} &lt;~&gt; Pullback (@pr1 D P) (@pr1 D Q)
  := Build_Equiv _ _ _ (ispullback_sigprod P Q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For any commutative square, the fiber of the fibers is equivalent to the fiber of the &quot;gap map&quot; [pullback_corec]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17b"><span class="kn">Definition</span> <span class="nf">hfiber_pullback_corec</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h) (<span class="nv">b</span> : B) (<span class="nv">c</span> : C) (<span class="nv">q</span> : k b = g c)
  : hfiber (pullback_corec p) (b; c; q) &lt;~&gt; hfiber (functor_hfiber p b) (c; q^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (pullback_corec p) (b; c; q) &lt;~&gt;
hfiber (functor_hfiber p b) (c; q^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (pullback_corec p) (b; c; q) &lt;~&gt;
hfiber (functor_hfiber p b) (c; q^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17d"><span class="nb">unfold</span> hfiber, functor_hfiber, functor_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : A &amp; pullback_corec p x = (b; c; q)} &lt;~&gt;
{x : {x : A &amp; f x = b} &amp;
(h x.<span class="mi">1</span>; (p x.<span class="mi">1</span>)^ @ ap k x.<span class="mi">2</span>) = (c; q^)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17e"><span class="nb">refine</span> (equiv_sigma_assoc _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : A &amp; pullback_corec p x = (b; c; q)} &lt;~&gt;
{a : A &amp;
{p0 : f a = b &amp;
(h (a; p0).<span class="mi">1</span>; (p (a; p0).<span class="mi">1</span>)^ @ ap k (a; p0).<span class="mi">2</span>) =
(c; q^)}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk17f"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec p a = (b; c; q) &lt;~&gt;
{p0 : f a = b &amp; (h a; (p a)^ @ ap k p0) = (c; q^)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk180"><span class="nb">refine</span> (_ oE (equiv_path_sigma _ _ _)^-<span class="mi">1</span>); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p0 : f a = b &amp;
transport (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; {c : C &amp; k b = g c}) p0
  (h a; p a) = (c; q)} &lt;~&gt;
{p0 : f a = b &amp; (h a; (p a)^ @ ap k p0) = (c; q^)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk181"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intro</span> p0; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; {c : C &amp; k b = g c}) p0
  (h a; p a) = (c; q) &lt;~&gt;
(h a; (p a)^ @ ap k p0) = (c; q^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk182"><span class="nb">rewrite</span> transport_sigma&#39;; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(h a; transport (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k x = g (h a)) p0 (p a)) =
(c; q) &lt;~&gt; (h a; (p a)^ @ ap k p0) = (c; q^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk183"><span class="nb">refine</span> ((equiv_path_sigma _ _ _) oE _ oE (equiv_path_sigma _ _ _)^-<span class="mi">1</span>); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p1 : h a = c &amp;
transport (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; k b = g c) p1
  (transport (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k x = g (h a)) p0 (p a)) =
q} &lt;~&gt;
{p1 : h a = c &amp;
transport (<span class="kr">fun</span> <span class="nv">x</span> : C =&gt; g x = k b) p1
  ((p a)^ @ ap k p0) = q^}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk184"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intro</span> p1; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; k b = g c) p1
  (transport (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k x = g (h a)) p0 (p a)) =
q &lt;~&gt;
transport (<span class="kr">fun</span> <span class="nv">x</span> : C =&gt; g x = k b) p1
  ((p a)^ @ ap k p0) = q^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk185"><span class="nb">rewrite</span> !transport_paths_Fr, !transport_paths_Fl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap k p0)^ @ p a) @ ap g p1 = q &lt;~&gt;
(ap g p1)^ @ ((p a)^ @ ap k p0) = q^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk186"><span class="nb">refine</span> (_ oE (equiv_ap (equiv_path_inverse _ _) _ _)); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((ap k p0)^ @ p a) @ ap g p1)^ = q^ &lt;~&gt;
(ap g p1)^ @ ((p a)^ @ ap k p0) = q^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk187"><span class="nb">apply</span> equiv_concat_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap g p1)^ @ ((p a)^ @ ap k p0) =
(((ap k p0)^ @ p a) @ ap g p1)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk188"><span class="nb">refine</span> (_ @ (inv_pp _ _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap g p1)^ @ ((p a)^ @ ap k p0) =
(ap g p1)^ @ ((ap k p0)^ @ p a)^</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk189"><span class="nb">apply</span> whiskerL.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p a)^ @ ap k p0 = ((ap k p0)^ @ p a)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18a"><span class="nb">refine</span> (_ @ (inv_pp _ _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p a)^ @ ap k p0 = (p a)^ @ ((ap k p0)^)^</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18b"><span class="nb">apply</span> whiskerL.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k b = g c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>f a = b</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>h a = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k p0 = ((ap k p0)^)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> inv_V.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If the induced maps on fibers are equivalences, then a square is a pullback. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18c"><span class="kn">Definition</span> <span class="nf">ispullback_isequiv_functor_hfiber</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : <span class="kt">Type</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h)
           (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">b</span>:B, IsEquiv (functor_hfiber p b))
  : IsPullback p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18e"><span class="nb">unfold</span> IsPullback.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (pullback_corec p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk18f"><span class="nb">apply</span> isequiv_contr_map; <span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback k g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr (hfiber (pullback_corec p) x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk190">rapply contr_equiv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback k g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt; hfiber (pullback_corec p) x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk191" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback k g</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk191"><hr></label><div class="goal-conclusion">Contr <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk192">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback k g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt; hfiber (pullback_corec p) x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> hfiber_pullback_corec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk193">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback k g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  (hfiber (functor_hfiber p x.<span class="mi">1</span>) ((x.<span class="mi">2</span>).<span class="mi">1</span>; ((x.<span class="mi">2</span>).<span class="mi">2</span>)^))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Conversely, if the square is a pullback then the induced maps on fibers are equivalences. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk194"><span class="kn">Definition</span> <span class="nf">isequiv_functor_hfiber_ispullback</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : <span class="kt">Type</span>}
           {<span class="nv">f</span> : A -&gt; B} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">h</span> : A -&gt; C} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">p</span> : k o f == g o h)
           (<span class="nv">e</span> : IsPullback p)
  : <span class="kr">forall</span> <span class="nv">b</span>:B, IsEquiv (functor_hfiber p b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsPullback p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk195"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsPullback p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, IsEquiv (functor_hfiber p b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk196"><span class="nb">apply</span> isequiv_from_functor_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsPullback p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_sigma idmap (functor_hfiber p))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk197"><span class="nb">unfold</span> IsPullback <span class="kr">in</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_sigma idmap (functor_hfiber p))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk198">snapply isequiv_commsq&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk199" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk199"><hr></label><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19a"><hr></label><div class="goal-conclusion"><span class="nl">?C</span> -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19b"><hr></label><div class="goal-conclusion">{x : _ &amp; hfiber f x} -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19c"><hr></label><div class="goal-conclusion">{a : B &amp; hfiber g (k a)} -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19d"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?h</span> == <span class="nl">?k</span> o functor_sigma idmap (functor_hfiber p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19e"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk19f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk19f"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?h</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a0"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1a1"><span class="mi">4</span>: <span class="bp">exact</span> (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a2"><hr></label><div class="goal-conclusion">A -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a3"><hr></label><div class="goal-conclusion">{a : B &amp; hfiber g (k a)} -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a4"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv ==
<span class="nl">?k</span> o functor_sigma idmap (functor_hfiber p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a5"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a6"><hr></label><div class="goal-conclusion">IsEquiv (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a7"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1a8"><span class="mi">1</span>: <span class="bp">exact</span> (Pullback k g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Pullback k g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1a9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1a9"><hr></label><div class="goal-conclusion">{a : B &amp; hfiber g (k a)} -&gt; Pullback k g</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1aa"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv ==
<span class="nl">?k</span> o functor_sigma idmap (functor_hfiber p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1ab"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1ac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1ac"><hr></label><div class="goal-conclusion">IsEquiv (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1ad"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ae"><span class="mi">1</span>: <span class="bp">exact</span> (pullback_corec p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{a : B &amp; hfiber g (k a)} -&gt; Pullback k g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1af" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1af"><hr></label><div class="goal-conclusion">pullback_corec p
o (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv ==
<span class="nl">?k</span> o functor_sigma idmap (functor_hfiber p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b0"><hr></label><div class="goal-conclusion">IsEquiv (pullback_corec p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b1"><hr></label><div class="goal-conclusion">IsEquiv (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b2"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1b3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{a : B &amp; hfiber g (k a)} -&gt; Pullback k g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1b4"><span class="nb">apply</span> (functor_sigma idmap); <span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber g (k b) -&gt; {c : C &amp; k b = g c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1b5"><span class="nb">apply</span> (functor_sigma idmap); <span class="nb">intro</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g c = k b -&gt; k b = g c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> inverse.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1b6">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec p
o (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv ==
functor_sigma idmap
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse))
o functor_sigma idmap (functor_hfiber p)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b7"><hr></label><div class="goal-conclusion">IsEquiv (pullback_corec p)</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b8"><hr></label><div class="goal-conclusion">IsEquiv (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1b9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1b9"><hr></label><div class="goal-conclusion">IsEquiv
  (functor_sigma idmap
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
      functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ba">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec p
o (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv ==
functor_sigma idmap
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse))
o functor_sigma idmap (functor_hfiber p)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1bb"><span class="nb">intros</span> [x [y q]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f y = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec p
  ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv (x; y; q)) =
functor_sigma idmap
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse))
  (functor_sigma idmap (functor_hfiber p) (x; y; q))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1bc"><span class="nb">destruct</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pullback_corec p
  ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv
     (f y; y; <span class="mi">1</span>)) =
functor_sigma idmap
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse))
  (functor_sigma idmap (functor_hfiber p) (f y; y; <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1bd"><span class="nb">apply</span> (path_sigma&#39; _ idpath).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; {c : C &amp; k b = g c}) <span class="mi">1</span>
  (h
     ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv
        (f y; y; <span class="mi">1</span>));
  p
    ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv
       (f y; y; <span class="mi">1</span>))) =
functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse)
  (functor_sigma idmap (functor_hfiber p) (f y; y; <span class="mi">1</span>)).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1be"><span class="nb">apply</span> (path_sigma&#39; _ idpath).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt;
   k
     (f
        ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv
           (f y; y; <span class="mi">1</span>))) = g c) <span class="mi">1</span>
  (p
     ((equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv
        (f y; y; <span class="mi">1</span>))) =
(((functor_sigma idmap (functor_hfiber p) (f y; y; <span class="mi">1</span>)).<span class="mi">2</span>).<span class="mi">2</span>)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1bf"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p y = ((p y)^ @ <span class="mi">1</span>)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c0"><span class="nb">refine</span> (_^ @ (inv_Vp _ _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span>^ @ p y = p y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> concat_1p.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c1">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (pullback_corec p)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1c2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1c2"><hr></label><div class="goal-conclusion">IsEquiv (equiv_fibration_replacement f)^-<span class="mi">1</span>%equiv</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == g o h</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>IsEquiv (pullback_corec p)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1c3"><hr></label><div class="goal-conclusion">IsEquiv
  (functor_sigma idmap
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
      functor_sigma idmap (<span class="kr">fun</span> <span class="nv">c</span> : C =&gt; inverse)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The pullback of a map along another one *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_along</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A)
: Pullback f g -&gt; B
  := pr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;f ^*&quot;</span> := (pullback_along f) : function_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c4"><span class="kn">Definition</span> <span class="nf">hfiber_pullback_along</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A) (<span class="nv">b</span>:B)
: hfiber (f ^* g) b &lt;~&gt; hfiber g (f b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (f^* g) b &lt;~&gt; hfiber g (f b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (f^* g) b &lt;~&gt; hfiber g (f b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c6"><span class="nb">refine</span> (equiv_functor_sigma_id (<span class="kr">fun</span> <span class="nv">c</span> =&gt; equiv_path_inverse _ _) oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (f^* g) b &lt;~&gt; {c : C &amp; f b = g c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">make_equiv_contr_basedpaths.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** And the dual sort of pullback *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pullback_along&#39;</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">g</span> : C -&gt; A) (<span class="nv">f</span> : B -&gt; A)
: Pullback f g -&gt; C
  := <span class="kr">fun</span> <span class="nv">z</span> =&gt; z.<span class="mi">2</span>.<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> pullback_along&#39; / .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;g ^*&#39;&quot;</span> := (pullback_along&#39; g) : function_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c7"><span class="kn">Definition</span> <span class="nf">hfiber_pullback_along&#39;</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">g</span> : C -&gt; A) (<span class="nv">f</span> : B -&gt; A) (<span class="nv">c</span>:C)
: hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f (g c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f (g c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f (g c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">make_equiv_contr_basedpaths.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A version where [g] is pointed, but we unbundle the pointed condition to avoid importing pointed types. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1c9"><span class="kn">Definition</span> <span class="nf">hfiber_pullback_along_pointed</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} {<span class="nv">c</span> : C} {<span class="nv">a</span> : A}
           (<span class="nv">g</span> : C -&gt; A) (<span class="nv">f</span> : B -&gt; A) (<span class="nv">p</span> : g c = a)
  : hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ca"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber (g ^*&#39; f) c &lt;~&gt; hfiber f a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1cb"><span class="nb">refine</span> (_ oE hfiber_pullback_along&#39; _ _ _); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber f (g c) &lt;~&gt; hfiber f a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1cc">srapply (equiv_functor_hfiber2 (h:=equiv_idmap) (k:=equiv_idmap)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span>%equiv o f == f o <span class="mi">1</span>%equiv</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1cd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1cd"><hr></label><div class="goal-conclusion"><span class="mi">1</span>%equiv (g c) = a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ce">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span>%equiv o f == f o <span class="mi">1</span>%equiv</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1cf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>g c = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span>%equiv (g c) = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Functor_Pullback</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A1</span> <span class="nv">B1</span> <span class="nv">C1</span> <span class="nv">A2</span> <span class="nv">B2</span> <span class="nv">C2</span>}
          (<span class="nv">f1</span> : B1 -&gt; A1) (<span class="nv">g1</span> : C1 -&gt; A1)
          (<span class="nv">f2</span> : B2 -&gt; A2) (<span class="nv">g2</span> : C2 -&gt; A2)
          (<span class="nv">h</span> : A1 -&gt; A2) (<span class="nv">k</span> : B1 -&gt; B2) (<span class="nv">l</span> : C1 -&gt; C2)
          (<span class="nv">p</span> : f2 o k == h o f1) (<span class="nv">q</span> : g2 o l == h o g1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">functor_pullback</span> : Pullback f1 g1 -&gt; Pullback f2 g2
    := functor_sigma k
        (<span class="kr">fun</span> <span class="nv">b1</span> =&gt; (functor_sigma l
                     (<span class="kr">fun</span> <span class="nv">c1</span> <span class="nv">e1</span> =&gt; p b1 @ ap h e1 @ (q c1)^))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d0"><span class="kn">Definition</span> <span class="nf">hfiber_functor_pullback</span> (<span class="nv">z</span> : Pullback f2 g2)
  : hfiber functor_pullback z
    &lt;~&gt; Pullback (transport (hfiber h) z.<span class="mi">2</span>.<span class="mi">2</span> o functor_hfiber (k := f2) p z.<span class="mi">1</span>)
                 (functor_hfiber q z.<span class="mi">2</span>.<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Pullback f2 g2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber functor_pullback z &lt;~&gt;
Pullback
  (transport (hfiber h) (z.<span class="mi">2</span>).<span class="mi">2</span> o functor_hfiber p z.<span class="mi">1</span>)
  (functor_hfiber q (z.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Pullback f2 g2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber functor_pullback z &lt;~&gt;
Pullback
  (transport (hfiber h) (z.<span class="mi">2</span>).<span class="mi">2</span> o functor_hfiber p z.<span class="mi">1</span>)
  (functor_hfiber q (z.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d2"><span class="nb">destruct</span> z <span class="kr">as</span> [b2 [c2 e2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber functor_pullback (b2; c2; e2) &lt;~&gt;
Pullback
  (<span class="kr">fun</span> <span class="nv">x</span> : hfiber k (b2; c2; e2).<span class="mi">1</span> =&gt;
   transport (hfiber h) ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">2</span>
     (functor_hfiber p (b2; c2; e2).<span class="mi">1</span> x))
  (functor_hfiber q ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d3"><span class="nb">refine</span> (_ oE hfiber_functor_sigma _ _ _ _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{w : hfiber k b2 &amp;
hfiber
  (functor_sigma l
     (<span class="kr">fun</span> (<span class="nv">c1</span> : C1) (<span class="nv">e1</span> : f1 w.<span class="mi">1</span> = g1 c1) =&gt;
      (p w.<span class="mi">1</span> @ ap h e1) @ (q c1)^))
  (transport (<span class="kr">fun</span> <span class="nv">b</span> : B2 =&gt; {c : C2 &amp; f2 b = g2 c})
     (w.<span class="mi">2</span>)^ (c2; e2))} &lt;~&gt;
Pullback
  (<span class="kr">fun</span> <span class="nv">x</span> : hfiber k (b2; c2; e2).<span class="mi">1</span> =&gt;
   transport (hfiber h) ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">2</span>
     (functor_hfiber p (b2; c2; e2).<span class="mi">1</span> x))
  (functor_hfiber q ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d4"><span class="nb">apply</span> equiv_functor_sigma_id.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : hfiber k b2,
hfiber
  (functor_sigma l
     (<span class="kr">fun</span> (<span class="nv">c1</span> : C1) (<span class="nv">e1</span> : f1 a.<span class="mi">1</span> = g1 c1) =&gt;
      (p a.<span class="mi">1</span> @ ap h e1) @ (q c1)^))
  (transport (<span class="kr">fun</span> <span class="nv">b</span> : B2 =&gt; {c : C2 &amp; f2 b = g2 c})
     (a.<span class="mi">2</span>)^ (c2; e2)) &lt;~&gt;
{c : hfiber l ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">1</span> &amp;
transport (hfiber h) ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">2</span>
  (functor_hfiber p (b2; c2; e2).<span class="mi">1</span> a) =
functor_hfiber q ((b2; c2; e2).<span class="mi">2</span>).<span class="mi">1</span> c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d5"><span class="nb">intros</span> [b1 e1]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (functor_sigma l
     (<span class="kr">fun</span> (<span class="nv">c1</span> : C1) (<span class="nv">e1</span> : f1 b1 = g1 c1) =&gt;
      (p b1 @ ap h e1) @ (q c1)^))
  (transport (<span class="kr">fun</span> <span class="nv">b</span> : B2 =&gt; {c : C2 &amp; f2 b = g2 c})
     e1^ (c2; e2)) &lt;~&gt;
{c : hfiber l c2 &amp;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d6"><span class="nb">refine</span> (_ oE (equiv_transport _ (transport_sigma&#39; e1^ (c2; e2)))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (functor_sigma l
     (<span class="kr">fun</span> (<span class="nv">c1</span> : C1) (<span class="nv">e1</span> : f1 b1 = g1 c1) =&gt;
      (p b1 @ ap h e1) @ (q c1)^))
  ((c2; e2).<span class="mi">1</span>;
  transport (<span class="kr">fun</span> <span class="nv">x</span> : B2 =&gt; f2 x = g2 (c2; e2).<span class="mi">1</span>) e1^
    (c2; e2).<span class="mi">2</span>) &lt;~&gt;
{c : hfiber l c2 &amp;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d7"><span class="nb">refine</span> (_ oE hfiber_functor_sigma _ _ _ _ _ _); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{w : hfiber l c2 &amp;
hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 w.<span class="mi">1</span> =&gt;
   (p b1 @ ap h e1) @ (q w.<span class="mi">1</span>)^)
  (transport (<span class="kr">fun</span> <span class="nv">c</span> : C2 =&gt; f2 (k b1) = g2 c) (w.<span class="mi">2</span>)^
     (transport (<span class="kr">fun</span> <span class="nv">x</span> : B2 =&gt; f2 x = g2 c2) e1^ e2))} &lt;~&gt;
{c : hfiber l c2 &amp;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d8"><span class="nb">apply</span> equiv_functor_sigma_id.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : hfiber l c2,
hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 a.<span class="mi">1</span> =&gt;
   (p b1 @ ap h e1) @ (q a.<span class="mi">1</span>)^)
  (transport (<span class="kr">fun</span> <span class="nv">c</span> : C2 =&gt; f2 (k b1) = g2 c) (a.<span class="mi">2</span>)^
     (transport (<span class="kr">fun</span> <span class="nv">x</span> : B2 =&gt; f2 x = g2 c2) e1^ e2)) &lt;~&gt;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1d9"><span class="nb">intros</span> [c1 e3]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (transport (<span class="kr">fun</span> <span class="nv">c</span> : C2 =&gt; f2 (k b1) = g2 c) e3^
     (transport (<span class="kr">fun</span> <span class="nv">x</span> : B2 =&gt; f2 x = g2 c2) e1^ e2)) &lt;~&gt;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 (c1; e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1da"><span class="nb">refine</span> (_ oE (equiv_transport _
                   (ap (<span class="kr">fun</span> <span class="nv">e</span> =&gt; e3^ # e) (transport_paths_Fl e1^ e2)))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (transport (<span class="kr">fun</span> <span class="nv">c</span> : C2 =&gt; f2 (k b1) = g2 c) e3^
     ((ap f2 e1^)^ @ e2)) &lt;~&gt;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 (c1; e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1db"><span class="nb">refine</span> (_ oE (equiv_transport _ (transport_paths_Fr e3^ _))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (((ap f2 e1^)^ @ e2) @ ap g2 e3^) &lt;~&gt;
transport (hfiber h) e2 (functor_hfiber p b2 (b1; e1)) =
functor_hfiber q c2 (c1; e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1dc"><span class="nb">unfold</span> functor_hfiber; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (((ap f2 e1^)^ @ e2) @ ap g2 e3^) &lt;~&gt;
transport (hfiber h) e2
  (functor_sigma f1
     (<span class="kr">fun</span> (<span class="nv">a</span> : B1) (<span class="nv">e</span> : k a = b2) =&gt; (p a)^ @ ap f2 e)
     (b1; e1)) =
functor_sigma g1
  (<span class="kr">fun</span> (<span class="nv">a</span> : C1) (<span class="nv">e</span> : l a = c2) =&gt; (q a)^ @ ap g2 e)
  (c1; e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1dd"><span class="nb">refine</span> (equiv_concat_l (transport_sigma&#39; e2 _) _ oE _); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (((ap f2 e1^)^ @ e2) @ ap g2 e3^) &lt;~&gt;
(f1 b1;
transport (<span class="kr">fun</span> <span class="nv">x</span> : A2 =&gt; h (f1 b1) = x) e2
  ((p b1)^ @ ap f2 e1)) =
functor_sigma g1
  (<span class="kr">fun</span> (<span class="nv">a</span> : C1) (<span class="nv">e</span> : l a = c2) =&gt; (q a)^ @ ap g2 e)
  (c1; e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1de"><span class="nb">refine</span> (equiv_path_sigma _ _ _ oE _); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">e1</span> : f1 b1 = g1 c1 =&gt;
   (p b1 @ ap h e1) @ (q c1)^)
  (((ap f2 e1^)^ @ e2) @ ap g2 e3^) &lt;~&gt;
{p0 : f1 b1 = g1 c1 &amp;
transport (<span class="kr">fun</span> <span class="nv">y</span> : A1 =&gt; h y = g2 c2) p0
  (transport (<span class="kr">fun</span> <span class="nv">x</span> : A2 =&gt; h (f1 b1) = x) e2
     ((p b1)^ @ ap f2 e1)) = (q c1)^ @ ap g2 e3}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1df"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> e0; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
transport (<span class="kr">fun</span> <span class="nv">y</span> : A1 =&gt; h y = g2 c2) e0
  (transport (<span class="kr">fun</span> <span class="nv">x</span> : A2 =&gt; h (f1 b1) = x) e2
     ((p b1)^ @ ap f2 e1)) = (q c1)^ @ ap g2 e3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e0"><span class="nb">refine</span> (equiv_concat_l (transport_paths_Fl e0 _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
(ap h e0)^ @
transport (<span class="kr">fun</span> <span class="nv">x</span> : A2 =&gt; h (f1 b1) = x) e2
  ((p b1)^ @ ap f2 e1) = (q c1)^ @ ap g2 e3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e1"><span class="nb">refine</span> (equiv_concat_l (whiskerL (ap h e0)^ (transport_paths_r e2 _)) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
(ap h e0)^ @ (((p b1)^ @ ap f2 e1) @ e2) =
(q c1)^ @ ap g2 e3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e2"><span class="nb">refine</span> (equiv_moveR_Vp _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
((p b1)^ @ ap f2 e1) @ e2 =
ap h e0 @ ((q c1)^ @ ap g2 e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e3"><span class="nb">refine</span> (equiv_concat_l (concat_pp_p _ _ _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
(p b1)^ @ (ap f2 e1 @ e2) =
ap h e0 @ ((q c1)^ @ ap g2 e3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e4"><span class="nb">refine</span> (equiv_moveR_Vp _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
ap f2 e1 @ e2 =
p b1 @ (ap h e0 @ ((q c1)^ @ ap g2 e3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e5"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">refine</span> (equiv_concat_r (concat_pp_p _ _ _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
ap f2 e1 @ e2 =
((p b1 @ ap h e0) @ (q c1)^) @ ap g2 e3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e6"><span class="nb">refine</span> (equiv_moveL_pM _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A1, B1, C1, A2, B2, C2</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>B1 -&gt; A1</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>C1 -&gt; A1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>B2 -&gt; A2</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>C2 -&gt; A2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A1 -&gt; A2</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B1 -&gt; B2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>C1 -&gt; C2</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f2 o k == h o f1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g2 o l == h o g1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B2</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>C2</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>f2 b2 = g2 c2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B1</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>k b1 = b2</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>C1</span></span></span><br><span><var>e3</var><span class="hyp-type"><b>: </b><span>l c1 = c2</span></span></span><br><span><var>e0</var><span class="hyp-type"><b>: </b><span>f1 b1 = g1 c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p b1 @ ap h e0) @ (q c1)^ =
((ap f2 e1^)^ @ e2) @ ap g2 e3^ &lt;~&gt;
(ap f2 e1 @ e2) @ (ap g2 e3)^ =
(p b1 @ ap h e0) @ (q c1)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span> (<span class="nb">rewrite</span> !ap_V, inv_V; <span class="bp">exact</span> (equiv_path_inverse _ _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Functor_Pullback</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">EquivPullback</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span> <span class="nv">C&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
          (<span class="nv">eA</span> : A &lt;~&gt; A&#39;) (<span class="nv">eB</span> : B &lt;~&gt; B&#39;) (<span class="nv">eC</span> : C &lt;~&gt; C&#39;)
          (<span class="nv">p</span> : f&#39; o eB == eA o f) (<span class="nv">q</span> :  g&#39; o eC == eA o g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e7"><span class="kn">Lemma</span> <span class="nf">equiv_pullback</span>
    : Pullback f g &lt;~&gt; Pullback f&#39; g&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; Pullback f&#39; g&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback f g &lt;~&gt; Pullback f&#39; g&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1e9"><span class="nb">unfold</span> Pullback.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{b : B &amp; {c : C &amp; f b = g c}} &lt;~&gt;
{b : B&#39; &amp; {c : C&#39; &amp; f&#39; b = g&#39; c}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ea"><span class="nb">apply</span> (equiv_functor_sigma&#39; eB); <span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : C &amp; f b = g c} &lt;~&gt; {c : C&#39; &amp; f&#39; (eB b) = g&#39; c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1eb"><span class="nb">apply</span> (equiv_functor_sigma&#39; eC); <span class="nb">intro</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b = g c &lt;~&gt; f&#39; (eB b) = g&#39; (eC c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ec"><span class="nb">refine</span> (equiv_concat_l (p _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b = g c &lt;~&gt; eA (f b) = g&#39; (eC c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ed"><span class="nb">refine</span> (equiv_concat_r (q _)^ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>A', B', C'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>g'</var><span class="hyp-type"><b>: </b><span>C&#39; -&gt; A&#39;</span></span></span><br><span><var>eA</var><span class="hyp-type"><b>: </b><span>A &lt;~&gt; A&#39;</span></span></span><br><span><var>eB</var><span class="hyp-type"><b>: </b><span>B &lt;~&gt; B&#39;</span></span></span><br><span><var>eC</var><span class="hyp-type"><b>: </b><span>C &lt;~&gt; C&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f&#39; o eB == eA o f</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g&#39; o eC == eA o g</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b = g c &lt;~&gt; eA (f b) = eA (g c)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_ap&#39; eA _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">EquivPullback</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** Pullbacks commute with sigmas *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">PullbackSigma</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">X</span> <span class="nv">Y</span> <span class="nv">Z</span> : <span class="kt">Type</span>}
    {<span class="nv">A</span> : X -&gt; <span class="kt">Type</span>} {<span class="nv">B</span> : Y -&gt; <span class="kt">Type</span>} {<span class="nv">C</span> : Z -&gt; <span class="kt">Type</span>}
    (<span class="nv">f</span> : Y -&gt; X) (<span class="nv">g</span> : Z -&gt; X)
    (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">x</span>, B x -&gt; A (f x))
    (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">x</span>, C x -&gt; A (g x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ee"><span class="kn">Definition</span> <span class="nf">equiv_sigma_pullback</span>
    : {p : Pullback f g &amp; Pullback (transport A p.<span class="mi">2</span>.<span class="mi">2</span> o r p.<span class="mi">1</span>) (s p.<span class="mi">2</span>.<span class="mi">1</span>)}
      &lt;~&gt; Pullback (functor_sigma f r) (functor_sigma g s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Pullback f g &amp;
Pullback (transport A (p.<span class="mi">2</span>).<span class="mi">2</span> o r p.<span class="mi">1</span>) (s (p.<span class="mi">2</span>).<span class="mi">1</span>)} &lt;~&gt;
Pullback (functor_sigma f r) (functor_sigma g s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ef"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Pullback f g &amp;
Pullback (transport A (p.<span class="mi">2</span>).<span class="mi">2</span> o r p.<span class="mi">1</span>) (s (p.<span class="mi">2</span>).<span class="mi">1</span>)} &lt;~&gt;
Pullback (functor_sigma f r) (functor_sigma g s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f0"><span class="nb">refine</span> (equiv_functor_sigma_id (<span class="kr">fun</span> <span class="nv">_</span> =&gt; equiv_functor_sigma_id _) oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; B x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; C x},
<span class="nl">?Goal</span> a &lt;~&gt; functor_sigma f r y = functor_sigma g s a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1f1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1f1"><hr></label><div class="goal-conclusion">{p : Pullback f g &amp;
Pullback
  (<span class="kr">fun</span> <span class="nv">x</span> : B p.<span class="mi">1</span> =&gt; transport A (p.<span class="mi">2</span>).<span class="mi">2</span> (r p.<span class="mi">1</span> x))
  (s (p.<span class="mi">2</span>).<span class="mi">1</span>)} &lt;~&gt;
{H : {x : _ &amp; B x} &amp; {x : _ &amp; <span class="nl">?Goal</span>@{y:=H} x}}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; B x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; C x},
<span class="nl">?Goal</span> a &lt;~&gt; functor_sigma f r y = functor_sigma g s a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>; rapply equiv_path_sigma.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>X -&gt; <span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>Y -&gt; <span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Z -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Y -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Z -&gt; X</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Y, B x -&gt; A (f x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Z, C x -&gt; A (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : Pullback f g &amp;
Pullback
  (<span class="kr">fun</span> <span class="nv">x</span> : B p.<span class="mi">1</span> =&gt; transport A (p.<span class="mi">2</span>).<span class="mi">2</span> (r p.<span class="mi">1</span> x))
  (s (p.<span class="mi">2</span>).<span class="mi">1</span>)} &lt;~&gt;
{H : {x : _ &amp; B x} &amp;
{a : {x : _ &amp; C x} &amp;
{p : (functor_sigma f r H).<span class="mi">1</span> = (functor_sigma g s a).<span class="mi">1</span>
&amp;
transport A p (functor_sigma f r H).<span class="mi">2</span> =
(functor_sigma g s a).<span class="mi">2</span>}}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">make_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">PullbackSigma</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Paths in pullbacks *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f4"><span class="kn">Definition</span> <span class="nf">equiv_path_pullback</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : B -&gt; A) (<span class="nv">g</span> : C -&gt; A)
           (<span class="nv">x</span> <span class="nv">y</span> : Pullback f g)
  : { p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp; { q : x.<span class="mi">2</span>.<span class="mi">1</span> = y.<span class="mi">2</span>.<span class="mi">1</span> &amp; PathSquare (ap f p) (ap g q) x.<span class="mi">2</span>.<span class="mi">2</span> y.<span class="mi">2</span>.<span class="mi">2</span> } }
      &lt;~&gt; (x = y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp;
{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>}} &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp;
{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>}} &lt;~&gt;
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f6"><span class="nb">revert</span> y; rapply equiv_path_from_contr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : x.<span class="mi">1</span> = x.<span class="mi">1</span> &amp;
{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (x.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (x.<span class="mi">2</span>).<span class="mi">2</span>}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk1f7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk1f7"><hr></label><div class="goal-conclusion">Contr
  {y : Pullback f g &amp;
  {p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp;
  {q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
  PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>}}}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : x.<span class="mi">1</span> = x.<span class="mi">1</span> &amp;
{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (x.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (x.<span class="mi">2</span>).<span class="mi">2</span>}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1f9"><span class="kr">exists</span> <span class="nv">idpath</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (x.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f <span class="mi">1</span>) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (x.<span class="mi">2</span>).<span class="mi">2</span>}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1fa"><span class="kr">exists</span> <span class="nv">idpath</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap f <span class="mi">1</span>) (ap g <span class="mi">1</span>) (x.<span class="mi">2</span>).<span class="mi">2</span> (x.<span class="mi">2</span>).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1fb"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare <span class="mi">1</span> <span class="mi">1</span> (x.<span class="mi">2</span>).<span class="mi">2</span> (x.<span class="mi">2</span>).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sq_refl_v.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1fc">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : Pullback f g &amp;
  {p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp;
  {q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
  PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>}}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1fd"><span class="nb">destruct</span> x <span class="kr">as</span> [b [c p]]; <span class="nb">unfold</span> Pullback; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : {b : B &amp; {c : C &amp; f b = g c}} &amp;
  {p0 : b = y.<span class="mi">1</span> &amp;
  {q : c = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
  PathSquare (ap f p0) (ap g q) p (y.<span class="mi">2</span>).<span class="mi">2</span>}}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1fe">contr_sigsig b (idpath b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : {c : C &amp; f b = g c} &amp;
  {q : c = ((b; y).<span class="mi">2</span>).<span class="mi">1</span> &amp;
  PathSquare (ap f <span class="mi">1</span>) (ap g q) p ((b; y).<span class="mi">2</span>).<span class="mi">2</span>}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk1ff">contr_sigsig c (idpath c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : f b = g c &amp;
  PathSquare (ap f <span class="mi">1</span>) (ap g <span class="mi">1</span>) p ((b; c; y).<span class="mi">2</span>).<span class="mi">2</span>}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk200"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr {y : f b = g c &amp; PathSquare <span class="mi">1</span> <span class="mi">1</span> p y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk201">rapply (contr_equiv&#39; {p&#39; : f b = g c &amp; p = p&#39;}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p&#39; : f b = g c &amp; p = p&#39;} &lt;~&gt;
{y : f b = g c &amp; PathSquare <span class="mi">1</span> <span class="mi">1</span> p y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk202"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> p&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>p, p'</var><span class="hyp-type"><b>: </b><span>f b = g c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p = p&#39; &lt;~&gt; PathSquare <span class="mi">1</span> <span class="mi">1</span> p p&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_1G.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Maps into pullbacks are determined by their composites with the projections, and a coherence.  This can also be proved directly.  With [Funext], we could also prove an equivalence analogous to [equiv_path_pullback_rec_hset] below.  Not sure of the best name for this version. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk203"><span class="kn">Definition</span> <span class="nf">pullback_homotopic</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>} {<span class="nv">g</span> : C -&gt; D} {<span class="nv">k</span> : B -&gt; D}
           (<span class="nv">f</span> <span class="nv">h</span> : A -&gt; Pullback k g)
           (<span class="nv">p1</span> : pullback_pr1 o f == pullback_pr1 o h)
           (<span class="nv">p2</span> : pullback_pr2 o f == pullback_pr2 o h)
           (<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">a</span>, (ap k) (p1 a) @ (h a).<span class="mi">2</span>.<span class="mi">2</span> = (f a).<span class="mi">2</span>.<span class="mi">2</span> @ (ap g) (p2 a))
  : f == h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f == h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk204"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f == h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk205"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk206"><span class="nb">apply</span> equiv_path_pullback.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : (f a).<span class="mi">1</span> = (h a).<span class="mi">1</span> &amp;
{q : ((f a).<span class="mi">2</span>).<span class="mi">1</span> = ((h a).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap k p) (ap g q) ((f a).<span class="mi">2</span>).<span class="mi">2</span> ((h a).<span class="mi">2</span>).<span class="mi">2</span>}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk207"><span class="kr">exists</span> (<span class="nv">p1</span> <span class="nv">a</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{q : ((f a).<span class="mi">2</span>).<span class="mi">1</span> = ((h a).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap k (p1 a)) (ap g q) ((f a).<span class="mi">2</span>).<span class="mi">2</span>
  ((h a).<span class="mi">2</span>).<span class="mi">2</span>}</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk208"><span class="kr">exists</span> (<span class="nv">p2</span> <span class="nv">a</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; D</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>f, h</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback k g</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>pullback_pr1 o f == pullback_pr1 o h</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>pullback_pr2 o f == pullback_pr2 o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ap k (p1 a) @ ((h a).<span class="mi">2</span>).<span class="mi">2</span> =
((f a).<span class="mi">2</span>).<span class="mi">2</span> @ ap g (p2 a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap k (p1 a)) (ap g (p2 a)) ((f a).<span class="mi">2</span>).<span class="mi">2</span>
  ((h a).<span class="mi">2</span>).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sq_path, q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When [A] is a set, the [PathSquare] becomes trivial. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk209"><span class="kn">Definition</span> <span class="nf">equiv_path_pullback_hset</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} `{IsHSet A} (f : B -&gt; A) (g : C -&gt; A)
           (x y : Pullback f g)
  : (x.<span class="mi">1</span> = y.<span class="mi">1</span>) * (x.<span class="mi">2</span>.<span class="mi">1</span> = y.<span class="mi">2</span>.<span class="mi">1</span>) &lt;~&gt; (x = y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x.<span class="mi">1</span> = y.<span class="mi">1</span>) * ((x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span>) &lt;~&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x.<span class="mi">1</span> = y.<span class="mi">1</span>) * ((x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span>) &lt;~&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20b"><span class="nb">refine</span> (equiv_path_pullback f g x y oE _^-<span class="mi">1</span>%equiv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : x.<span class="mi">1</span> = y.<span class="mi">1</span> &amp;
{q : (x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f p) (ap g q) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>}} &lt;~&gt;
(x.<span class="mi">1</span> = y.<span class="mi">1</span>) * ((x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20c"><span class="nb">refine</span> (_ oE equiv_sigma_prod (<span class="kr">fun</span> <span class="nv">pq</span> =&gt; PathSquare (ap f (fst pq)) (ap g (snd pq)) (x.<span class="mi">2</span>).<span class="mi">2</span> (y.<span class="mi">2</span>).<span class="mi">2</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>C -&gt; A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pq : (x.<span class="mi">1</span> = y.<span class="mi">1</span>) * ((x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span>) &amp;
PathSquare (ap f (fst pq)) (ap g (snd pq)) (x.<span class="mi">2</span>).<span class="mi">2</span>
  (y.<span class="mi">2</span>).<span class="mi">2</span>} &lt;~&gt; (x.<span class="mi">1</span> = y.<span class="mi">1</span>) * ((x.<span class="mi">2</span>).<span class="mi">1</span> = (y.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply equiv_sigma_contr. <span class="c">(* Uses [istrunc_sq]. *)</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20d"><span class="kn">Lemma</span> <span class="nf">equiv_path_pullback_rec_hset</span> `{Funext} {A X Y Z : <span class="kt">Type</span>} `{IsHSet Z}
      (f : X -&gt; Z) (g : Y -&gt; Z) (phi psi : A -&gt; Pullback f g)
  : ((pullback_pr1 o phi == pullback_pr1 o psi) * (pullback_pr2 o phi == pullback_pr2 o psi))
      &lt;~&gt; (phi == psi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet Z</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Z</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(pullback_pr1 o phi == pullback_pr1 o psi) *
(pullback_pr2 o phi == pullback_pr2 o psi) &lt;~&gt;
phi == psi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet Z</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Z</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(pullback_pr1 o phi == pullback_pr1 o psi) *
(pullback_pr2 o phi == pullback_pr2 o psi) &lt;~&gt;
phi == psi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk20f"><span class="nb">refine</span> (_ oE equiv_prod_coind _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet Z</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Z</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">x</span> : A,
 (pullback_pr1 (phi x) = pullback_pr1 (psi x)) *
 (pullback_pr2 (phi x) = pullback_pr2 (psi x))) &lt;~&gt;
phi == psi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk210">srapply equiv_functor_forall_id; <span class="nb">intro</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet Z</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>X -&gt; Z</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>phi, psi</var><span class="hyp-type"><b>: </b><span>A -&gt; Pullback f g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(pullback_pr1 (phi a) = pullback_pr1 (psi a)) *
(pullback_pr2 (phi a) = pullback_pr2 (psi a)) &lt;~&gt;
phi a = psi a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_pullback_hset.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The 3x3 Lemma *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Pullback3x3</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    (<span class="nv">A00</span> <span class="nv">A02</span> <span class="nv">A04</span> <span class="nv">A20</span> <span class="nv">A22</span> <span class="nv">A24</span> <span class="nv">A40</span> <span class="nv">A42</span> <span class="nv">A44</span> : <span class="kt">Type</span>)
    (<span class="nv">f01</span> : A00 -&gt; A02) (<span class="nv">f03</span> : A04 -&gt; A02)
    (<span class="nv">f10</span> : A00 -&gt; A20) (<span class="nv">f12</span> : A02 -&gt; A22) (<span class="nv">f14</span> : A04 -&gt; A24)
    (<span class="nv">f21</span> : A20 -&gt; A22) (<span class="nv">f23</span> : A24 -&gt; A22)
    (<span class="nv">f30</span> : A40 -&gt; A20) (<span class="nv">f32</span> : A42 -&gt; A22) (<span class="nv">f34</span> : A44 -&gt; A24)
    (<span class="nv">f41</span> : A40 -&gt; A42) (<span class="nv">f43</span> : A44 -&gt; A42)
    (<span class="nv">H11</span> : f12 o f01 == f21 o f10) (<span class="nv">H13</span> : f12 o f03 == f23 o f14)
    (<span class="nv">H31</span> : f32 o f41 == f21 o f30) (<span class="nv">H33</span> : f32 o f43 == f23 o f34).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Let</span> <span class="nf">fX1</span> := functor_pullback f10 f30 f12 f32 f21 f01 f41 H11 H31.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Let</span> <span class="nf">fX3</span> := functor_pullback f14 f34 f12 f32 f23 f03 f43 H13 H33.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Let</span> <span class="nf">f1X</span> := functor_pullback f01 f03 f21 f23 f12 f10 f14 (<span class="nb">symmetry</span> _ _ H11) (<span class="nb">symmetry</span> _ _ H13).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Let</span> <span class="nf">f3X</span> := functor_pullback f41 f43 f21 f23 f32 f30 f34 (<span class="nb">symmetry</span> _ _ H31) (<span class="nb">symmetry</span> _ _ H33).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk211"><span class="kn">Theorem</span> <span class="nf">pullback3x3</span> : Pullback fX1 fX3 &lt;~&gt; Pullback f1X f3X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback fX1 fX3 &lt;~&gt; Pullback f1X f3X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk212"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Pullback fX1 fX3 &lt;~&gt; Pullback f1X f3X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk213"><span class="nb">refine</span> (_ oE _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> &lt;~&gt; Pullback f1X f3X</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk214" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk214"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt; <span class="nl">?Goal0</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk215" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk215"><hr></label><div class="goal-conclusion">Pullback fX1 fX3 &lt;~&gt; <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk216"><span class="mi">1</span>,<span class="mi">3</span>:<span class="kp">do</span> <span class="mi">2</span> (rapply equiv_functor_sigma_id; <span class="nb">intro</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a0 &lt;~&gt; f1X a = f3X a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk217" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f10 f30</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f14 f34</span></span></span><br></div><label class="goal-separator" for="pullback-v-chk217"><hr></label><div class="goal-conclusion">fX1 a = fX3 a0 &lt;~&gt; <span class="nl">?Goal1</span> a0</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk218" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk218"><hr></label><div class="goal-conclusion">{a : Pullback f10 f30 &amp; {x : _ &amp; <span class="nl">?Goal1</span> x}} &lt;~&gt;
{a : Pullback f01 f03 &amp; {x : _ &amp; <span class="nl">?Goal0</span> x}}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk219"><span class="mi">1</span>:<span class="nb">apply</span> equiv_path_pullback.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f10 f30</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f14 f34</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fX1 a = fX3 a0 &lt;~&gt; <span class="nl">?Goal0</span> a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk21a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk21a"><hr></label><div class="goal-conclusion">{a : Pullback f10 f30 &amp; {x : _ &amp; <span class="nl">?Goal0</span> x}} &lt;~&gt;
{a : Pullback f01 f03 &amp;
{a0 : Pullback f41 f43 &amp;
{p : (f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span> &amp;
{q : ((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f21 p) (ap f23 q) ((f1X a).<span class="mi">2</span>).<span class="mi">2</span>
  ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span>}}}}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk21b"><span class="mi">1</span>:<span class="nb">symmetry</span>; <span class="nb">apply</span> equiv_path_pullback.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{a : Pullback f10 f30 &amp;
{a0 : Pullback f14 f34 &amp;
{p : (fX1 a).<span class="mi">1</span> = (fX3 a0).<span class="mi">1</span> &amp;
{q : ((fX1 a).<span class="mi">2</span>).<span class="mi">1</span> = ((fX3 a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f12 p) (ap f32 q) ((fX1 a).<span class="mi">2</span>).<span class="mi">2</span>
  ((fX3 a0).<span class="mi">2</span>).<span class="mi">2</span>}}}} &lt;~&gt;
{a : Pullback f01 f03 &amp;
{a0 : Pullback f41 f43 &amp;
{p : (f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span> &amp;
{q : ((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f21 p) (ap f23 q) ((f1X a).<span class="mi">2</span>).<span class="mi">2</span>
  ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span>}}}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk21c"><span class="nb">refine</span> (_ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt;
{a : Pullback f01 f03 &amp;
{a0 : Pullback f41 f43 &amp;
{p : (f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span> &amp;
{q : ((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f21 p) (ap f23 q) ((f1X a).<span class="mi">2</span>).<span class="mi">2</span>
  ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span>}}}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk21d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk21d"><hr></label><div class="goal-conclusion">{a : Pullback f10 f30 &amp;
{a0 : Pullback f14 f34 &amp;
{p : (fX1 a).<span class="mi">1</span> = (fX3 a0).<span class="mi">1</span> &amp;
{q : ((fX1 a).<span class="mi">2</span>).<span class="mi">1</span> = ((fX3 a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f12 p) (ap f32 q) ((fX1 a).<span class="mi">2</span>).<span class="mi">2</span>
  ((fX3 a0).<span class="mi">2</span>).<span class="mi">2</span>}}}} &lt;~&gt; <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk21e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt;
{a : Pullback f01 f03 &amp;
{a0 : Pullback f41 f43 &amp;
{p : (f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span> &amp;
{q : ((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f21 p) (ap f23 q) ((f1X a).<span class="mi">2</span>).<span class="mi">2</span>
  ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span>}}}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk21f"><span class="kp">do</span> <span class="mi">4</span> (rapply equiv_functor_sigma_id; <span class="nb">intro</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare (ap f21 a1) (ap f23 a2) ((f1X a).<span class="mi">2</span>).<span class="mi">2</span>
  ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk220"><span class="nb">refine</span> (sq_tr oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare ((f1X a).<span class="mi">2</span>).<span class="mi">2</span> ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span> (ap f21 a1)
  (ap f23 a2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk221"><span class="nb">refine</span> (sq_move_14^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11 a.<span class="mi">1</span> @
   ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>) ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span> (ap f21 a1)
  ((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
      (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13 (a.<span class="mi">2</span>).<span class="mi">1</span>)^ @
   ap f23 a2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk222"><span class="nb">refine</span> (sq_move_31 oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare (ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>) ((f3X a0).<span class="mi">2</span>).<span class="mi">2</span>
  ((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
      (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11 a.<span class="mi">1</span>)^ @
   ap f21 a1)
  ((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
      (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13 (a.<span class="mi">2</span>).<span class="mi">1</span>)^ @
   ap f23 a2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk223"><span class="nb">refine</span> (sq_move_24^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare (ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31 a0.<span class="mi">1</span> @
   ap f32 (a0.<span class="mi">2</span>).<span class="mi">2</span>)
  ((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
      (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11 a.<span class="mi">1</span>)^ @
   ap f21 a1)
  (((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
       (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13 (a.<span class="mi">2</span>).<span class="mi">1</span>)^ @
    ap f23 a2) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33 (a0.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk224"><span class="nb">refine</span> (sq_move_23^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare (ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>) (ap f32 (a0.<span class="mi">2</span>).<span class="mi">2</span>)
  (((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
       (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11 a.<span class="mi">1</span>)^ @
    ap f21 a1) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31 a0.<span class="mi">1</span>)
  (((<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
       (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13 (a.<span class="mi">2</span>).<span class="mi">1</span>)^ @
    ap f23 a2) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33 (a0.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk225"><span class="nb">rewrite</span> <span class="mi">2</span> inv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Pullback f01 f03</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>Pullback f41 f43</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>(f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span></span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> a2 &lt;~&gt;
PathSquare (ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>) (ap f32 (a0.<span class="mi">2</span>).<span class="mi">2</span>)
  ((H11 a.<span class="mi">1</span> @ ap f21 a1) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31 a0.<span class="mi">1</span>)
  ((H13 (a.<span class="mi">2</span>).<span class="mi">1</span> @ ap f23 a2) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33 (a0.<span class="mi">2</span>).<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk226">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A00, A02, A04, A20, A22, A24, A40, A42, A44</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A02</span></span></span><br><span><var>f03</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A02</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>A00 -&gt; A20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>A02 -&gt; A22</span></span></span><br><span><var>f14</var><span class="hyp-type"><b>: </b><span>A04 -&gt; A24</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>A20 -&gt; A22</span></span></span><br><span><var>f23</var><span class="hyp-type"><b>: </b><span>A24 -&gt; A22</span></span></span><br><span><var>f30</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A20</span></span></span><br><span><var>f32</var><span class="hyp-type"><b>: </b><span>A42 -&gt; A22</span></span></span><br><span><var>f34</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A24</span></span></span><br><span><var>f41</var><span class="hyp-type"><b>: </b><span>A40 -&gt; A42</span></span></span><br><span><var>f43</var><span class="hyp-type"><b>: </b><span>A44 -&gt; A42</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>f12 o f01 == f21 o f10</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>f12 o f03 == f23 o f14</span></span></span><br><span><var>H31</var><span class="hyp-type"><b>: </b><span>f32 o f41 == f21 o f30</span></span></span><br><span><var>H33</var><span class="hyp-type"><b>: </b><span>f32 o f43 == f23 o f34</span></span></span><br><span><var>fX1</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f10 f30 f12 f32 f21 f01 f41 H11
  H31</span></span><span class="hyp-type"><b>: </b><span>Pullback f10 f30 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>fX3</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f14 f34 f12 f32 f23 f03 f43 H13
  H33</span></span><span class="hyp-type"><b>: </b><span>Pullback f14 f34 -&gt; Pullback f12 f32</span></span></span></span><br><span><var>f1X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f01 f03 f21 f23 f12 f10 f14
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f12 (f01 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A00 =&gt; f21 (f10 x)) H11)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f12 (f03 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A04 =&gt; f23 (f14 x)) H13)</span></span><span class="hyp-type"><b>: </b><span>Pullback f01 f03 -&gt; Pullback f21 f23</span></span></span></span><br><span><var>f3X</var><span><span class="hyp-body"><b>:= </b><span>functor_pullback f41 f43 f21 f23 f32 f30 f34
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31)
  (<span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33)</span></span><span class="hyp-type"><b>: </b><span>Pullback f41 f43 -&gt; Pullback f21 f23</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{a : Pullback f10 f30 &amp;
{a0 : Pullback f14 f34 &amp;
{p : (fX1 a).<span class="mi">1</span> = (fX3 a0).<span class="mi">1</span> &amp;
{q : ((fX1 a).<span class="mi">2</span>).<span class="mi">1</span> = ((fX3 a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f12 p) (ap f32 q) ((fX1 a).<span class="mi">2</span>).<span class="mi">2</span>
  ((fX3 a0).<span class="mi">2</span>).<span class="mi">2</span>}}}} &lt;~&gt;
{a : Pullback f01 f03 &amp;
{a0 : Pullback f41 f43 &amp;
{a1 : (f1X a).<span class="mi">1</span> = (f3X a0).<span class="mi">1</span> &amp;
{a2 : ((f1X a).<span class="mi">2</span>).<span class="mi">1</span> = ((f3X a0).<span class="mi">2</span>).<span class="mi">1</span> &amp;
PathSquare (ap f12 (a.<span class="mi">2</span>).<span class="mi">2</span>) (ap f32 (a0.<span class="mi">2</span>).<span class="mi">2</span>)
  ((H11 a.<span class="mi">1</span> @ ap f21 a1) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f32 (f41 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A40 =&gt; f21 (f30 x)) H31 a0.<span class="mi">1</span>)
  ((H13 (a.<span class="mi">2</span>).<span class="mi">1</span> @ ap f23 a2) @
   <span class="nb">symmetry</span> (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f32 (f43 x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A44 =&gt; f23 (f34 x)) H33 (a0.<span class="mi">2</span>).<span class="mi">1</span>)}}}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">make_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Pullback3x3</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Pasting for pullbacks (or 2-pullbacks lemma) *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Pasting</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Given the following diagram where the right square is a pullback square, then the outer square is a pullback square if and only if the left square is a pullback. *)</span>
  <span class="c">(* A --k--&gt; B --l--&gt; C</span>
<span class="c">     |    //  |    //  |</span>
<span class="c">     f  comm  g  comm  h</span>
<span class="c">     |  //    |  //    |</span>
<span class="c">     V //     V //     V</span>
<span class="c">     X --i--&gt; Y --j--&gt; Z *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">X</span> <span class="nv">Y</span> <span class="nv">Z</span> : <span class="kt">Type</span>}
    {<span class="nv">k</span> : A -&gt; B} {<span class="nv">l</span> : B -&gt; C}
    {<span class="nv">f</span> : A -&gt; X} {<span class="nv">g</span> : B -&gt; Y} {<span class="nv">h</span> : C -&gt; Z}
    {<span class="nv">i</span> : X -&gt; Y} {<span class="nv">j</span> : Y -&gt; Z}
    (<span class="nv">H</span> : i o f == g o k) (<span class="nv">K</span> : j o g == h o l) {<span class="nv">e1</span> : IsPullback K}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk227"><span class="kn">Definition</span> <span class="nf">ispullback_pasting_left</span>
    : IsPullback (comm_square_comp&#39; H K) -&gt; IsPullback H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback (comm_square_comp&#39; H K) -&gt; IsPullback H</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk228"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback (comm_square_comp&#39; H K) -&gt; IsPullback H</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk229"><span class="nb">intro</span> e2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback H</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk22a"><span class="nb">apply</span> ispullback_isequiv_functor_hfiber.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : X, IsEquiv (functor_hfiber H b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk22b"><span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber H b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk22c"><span class="nb">pose</span> (e1&#39; := isequiv_functor_hfiber_ispullback _ e1 (i b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber H b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk22d"><span class="nb">pose</span> (e2&#39; := isequiv_functor_hfiber_ispullback _ e2 b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber H b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk22e">snapply isequiv_commsq&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk22f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk22f"><hr></label><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk230" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk230"><hr></label><div class="goal-conclusion"><span class="nl">?C</span> -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk231" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk231"><hr></label><div class="goal-conclusion">hfiber f b -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk232" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk232"><hr></label><div class="goal-conclusion">hfiber g (i b) -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk233" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk233"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?h</span> == <span class="nl">?k</span> o functor_hfiber H b</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk234" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk234"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk235" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk235"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?h</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk236" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk236"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk237"><span class="mi">7</span>: <span class="nb">apply</span> isequiv_idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk238" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk238"><hr></label><div class="goal-conclusion">hfiber f b -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk239" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk239"><hr></label><div class="goal-conclusion">hfiber g (i b) -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk23a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk23a"><hr></label><div class="goal-conclusion">idmap o <span class="nl">?h</span> == <span class="nl">?k</span> o functor_hfiber H b</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk23b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk23b"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?h</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk23c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk23c"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk23d"><span class="mi">4</span>: <span class="bp">exact</span> (functor_hfiber_compose H K b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv
  (<span class="kr">fun</span> <span class="nv">u</span> : {x : A &amp; f x = b} =&gt;
   ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; l (k x)) u.<span class="mi">1</span>;
   (<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">e</span> : (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x = b) a) =&gt;
    (comm_square_comp&#39; H K a)^ @
    ap (<span class="kr">fun</span> <span class="nv">x</span> : X =&gt; j (i x)) e) u.<span class="mi">1</span> u.<span class="mi">2</span>))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk23e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback (comm_square_comp&#39; H K)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback
  (comm_square_comp&#39; H K) e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk23e"><hr></label><div class="goal-conclusion">IsEquiv (functor_hfiber K (i b))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk23f"><span class="kn">Definition</span> <span class="nf">ispullback_pasting_outer</span>
    : IsPullback H -&gt; IsPullback (comm_square_comp&#39; H K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback H -&gt; IsPullback (comm_square_comp&#39; H K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk240"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback H -&gt; IsPullback (comm_square_comp&#39; H K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk241"><span class="nb">intro</span> e2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsPullback (comm_square_comp&#39; H K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk242"><span class="nb">apply</span> ispullback_isequiv_functor_hfiber.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : X,
IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk243"><span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk244"><span class="nb">pose</span> (e1&#39; := isequiv_functor_hfiber_ispullback _ e1 (i b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk245"><span class="nb">pose</span> (e2&#39; := isequiv_functor_hfiber_ispullback _ e2 b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber (comm_square_comp&#39; H K) b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk246">snapply isequiv_commsq&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk247" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk247"><hr></label><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk248" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk248"><hr></label><div class="goal-conclusion"><span class="nl">?C</span> -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk249" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk249"><hr></label><div class="goal-conclusion">hfiber f b -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk24a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk24a"><hr></label><div class="goal-conclusion">hfiber h (j (i b)) -&gt; <span class="nl">?D</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk24b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk24b"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?h</span> ==
<span class="nl">?k</span> o functor_hfiber (comm_square_comp&#39; H K) b</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk24c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk24c"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk24d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk24d"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?h</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk24e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk24e"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?k</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk24f"><span class="mi">9</span>: <span class="nb">apply</span> isequiv_idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk250" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk250"><hr></label><div class="goal-conclusion"><span class="nl">?C</span> -&gt; hfiber h (j (i b))</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk251" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk251"><hr></label><div class="goal-conclusion">hfiber f b -&gt; <span class="nl">?C</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk252" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk252"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?h</span> ==
idmap o functor_hfiber (comm_square_comp&#39; H K) b</div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk253" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk253"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?g</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pullback-v-chk254" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk254"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?h</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pullback-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="pullback-v-chk255"><span class="mi">4</span>: <span class="nb">symmetry</span>; <span class="bp">exact</span> (functor_hfiber_compose H K b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_hfiber K (i b))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pullback-v-chk256" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C, X, Y, Z</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; X</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; Y</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>C -&gt; Z</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>X -&gt; Y</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Y -&gt; Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i o f == g o k</span></span></span><br><span><var>K</var><span class="hyp-type"><b>: </b><span>j o g == h o l</span></span></span><br><span><var>e1</var><span class="hyp-type"><b>: </b><span>IsPullback K</span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>IsPullback H</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>e1'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback K e1 (i b)</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber K (i b))</span></span></span></span><br><span><var>e2'</var><span><span class="hyp-body"><b>:= </b><span>isequiv_functor_hfiber_ispullback H e2 b</span></span><span class="hyp-type"><b>: </b><span>IsEquiv (functor_hfiber H b)</span></span></span></span><br></div><label class="goal-separator" for="pullback-v-chk256"><hr></label><div class="goal-conclusion">IsEquiv (functor_hfiber H b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Pasting</span>.</span></span></pre>
</div>
</div></body>
</html>
