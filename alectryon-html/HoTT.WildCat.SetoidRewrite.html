<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>SetoidRewrite.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** * Typeclass instances to allow rewriting in wild categories *)</span>

<span class="sd">(** This file uses the setoid rewriting machinery from the Coq standard library to allow rewriting in wild-categories.  Examples are given in test/WildCat/SetoidRewrite.v. *)</span>

<span class="sd">(** Init.Tactics contains the definition of the Coq stdlib typeclass_inferences database.  With Coq 8.x, it must be imported before Basics.Overture.  Otherwise, the typeclasses hintdb is cleared, breaking typeclass inference.  Because of this, this file also needs to be the first file Require&#39;d in any file that uses it.  Moreover, if Foo Requires this file, then Foo must also be the first file Require&#39;d in any file that Requires Foo, and so on.  Once we assume Rocq 9.0 as our minimum, these comments can be removed. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input">#[warnings=<span class="s2">&quot;-deprecated-from-Coq&quot;</span>]
<span class="kn">From</span> Coq <span class="kn">Require</span> Init.Tactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk0"><span class="kn">From</span> HoTT <span class="kn">Require Import</span> Basics.Overture Basics.Tactics.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1">#[warnings=<span class="s2">&quot;-deprecated-from-Coq&quot;</span>]
<span class="kn">From</span> Coq <span class="kn">Require</span> Setoids.Setoid.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file tauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file cc_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file firstorder_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> CMorphisms.ProperNotations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> HoTT <span class="kn">Require Import</span> WildCat.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">reflexive_proper_proxy</span> {<span class="nv">A</span> : <span class="kt">Type</span>}
  {<span class="nv">R</span> : Relation A} `(Reflexive A R) (x : A)
  : CMorphisms.ProperProxy R x := <span class="bp">reflexivity</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** forall (x y : A), x $== y -&gt; forall (a b : A), a $== b -&gt; y $== b -&gt; x $==a *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk2">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_GpdHom_from</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  : CMorphisms.Proper
      (GpdHom ==&gt;
         GpdHom ==&gt;
         CRelationClasses.flip CRelationClasses.arrow) GpdHom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt;
   GpdHom ==&gt;
   CRelationClasses.flip CRelationClasses.arrow)
  GpdHom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt;
   GpdHom ==&gt;
   CRelationClasses.flip CRelationClasses.arrow)
  GpdHom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* Add the next line to the start of any proof to see what it means: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk4"><span class="nb">unfold</span> <span class="s2">&quot;==&gt;&quot;</span>, CMorphisms.Proper, CRelationClasses.arrow, CRelationClasses.flip <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A,
x $== y -&gt;
<span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : A, x0 $== y0 -&gt; y $== y0 -&gt; x $== x0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk5"><span class="nb">intros</span> x y eq_xy a b eq_ab eq_yb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $== b</span></span></span><br><span><var>eq_yb</var><span class="hyp-type"><b>: </b><span>y $== b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x $== a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="nb">transitivity</span> eq_xy (<span class="nb">transitivity</span> eq_yb
                              (<span class="nb">symmetry</span> _ _ eq_ab))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* We could also just write:</span>
<span class="c">    exact (eq_xy $@ eq_yb $@ eq_ab^$).</span>
<span class="c">  The advantage of the above proof is that it works for other transitive and symmetric relations. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** forall (x y : A), x $== y -&gt; forall (a b : A), a $== b -&gt; x $== a -&gt; y $== b *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk6">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_GpdHom_to</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  : CMorphisms.Proper
      (GpdHom ==&gt;
         GpdHom ==&gt;
         CRelationClasses.arrow) GpdHom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt; GpdHom ==&gt; CRelationClasses.arrow)
  GpdHom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt; GpdHom ==&gt; CRelationClasses.arrow)
  GpdHom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk8"><span class="nb">intros</span> x y eq_xy a b eq_ab eq_xa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $== b</span></span></span><br><span><var>eq_xa</var><span class="hyp-type"><b>: </b><span>x $== a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $== b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk9"><span class="nb">refine</span> (<span class="nb">transitivity</span> _ eq_ab).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $== b</span></span></span><br><span><var>eq_xa</var><span class="hyp-type"><b>: </b><span>x $== a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $== a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chka"><span class="nb">refine</span> (<span class="nb">transitivity</span> _ eq_xa).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $== b</span></span></span><br><span><var>eq_xa</var><span class="hyp-type"><b>: </b><span>x $== a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $== x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="nb">symmetry</span> _ _ eq_xy).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** forall a x y : A, x $== y -&gt; a $== x -&gt; a $== y *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chkb">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_GpdHom_to_a</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  {a : A}
  : CMorphisms.Proper
      (GpdHom ==&gt;
         CRelationClasses.arrow) (GpdHom a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (GpdHom ==&gt; CRelationClasses.arrow)
  (GpdHom a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (GpdHom ==&gt; CRelationClasses.arrow)
  (GpdHom a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chkd"><span class="nb">intros</span> x y eq_xy eq_ax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a, x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>eq_ax</var><span class="hyp-type"><b>: </b><span>a $== x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a $== y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">transitivity</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** forall a x y : A, x $== y -&gt; a $== y -&gt; a $== x *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chke">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_GpdHom_from_a</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  {a : A}
  : CMorphisms.Proper
      (GpdHom ==&gt;
         CRelationClasses.flip CRelationClasses.arrow) (GpdHom a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt;
   CRelationClasses.flip CRelationClasses.arrow)
  (GpdHom a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (GpdHom ==&gt;
   CRelationClasses.flip CRelationClasses.arrow)
  (GpdHom a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk10"><span class="nb">intros</span> x y eq_xy eq_ay.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>a, x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $== y</span></span></span><br><span><var>eq_ay</var><span class="hyp-type"><b>: </b><span>a $== y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a $== x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="nb">transitivity</span> eq_ay (<span class="nb">symmetry</span> _ _ eq_xy)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> signatureT_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [R] is symmetric and [R x y -&gt; R&#39; (f x) (f y)], then [R y x -&gt; R&#39; (f x) (f y)]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk11">#[export] <span class="kn">Instance</span> <span class="nf">symmetry_flip</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">f</span> : A -&gt; B}
  {<span class="nv">R</span> : Relation A} {<span class="nv">R&#39;</span> : Relation B} `{Symmetric _ R}
  (H0 : CMorphisms.Proper (R ++&gt; R&#39;) f)
  : CMorphisms.Proper (R --&gt; R&#39;) f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39;) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (R --&gt; R&#39;) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39;) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (R --&gt; R&#39;) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk13"><span class="nb">intros</span> a b Rba; <span class="nb">unfold</span> CRelationClasses.flip <span class="kr">in</span> Rba.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39;) f</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Rba</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R&#39; (f a) (f b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk14"><span class="nb">apply</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39;) f</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Rba</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R a b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk15"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39;) f</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Rba</var><span class="hyp-type"><b>: </b><span>R b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R b a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Rba.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [R&#39;] is symmetric and [R x y -&gt; R&#39; x&#39; y&#39; -&gt; R&#39;&#39; (f x x&#39;) (f y y&#39;)], then [R x y -&gt; R&#39; y&#39; x&#39; -&gt; R&#39;&#39; (f x x&#39;) (f y y&#39;)]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk16">#[export] <span class="kn">Instance</span> <span class="nf">symmetric_flip_snd</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} {<span class="nv">R</span> : Relation A}
  {<span class="nv">R&#39;</span> : Relation B} {<span class="nv">R&#39;&#39;</span> : Relation C} `{Symmetric _ R&#39;}
  (f : A -&gt; B -&gt; C) (H1 : CMorphisms.Proper (R ++&gt; R&#39; ++&gt; R&#39;&#39;) f)
  : CMorphisms.Proper (R ++&gt; R&#39; --&gt; R&#39;&#39;) f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>R''</var><span class="hyp-type"><b>: </b><span>Relation C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39; ==&gt; R&#39;&#39;) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (R ==&gt; R&#39; --&gt; R&#39;&#39;) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>R''</var><span class="hyp-type"><b>: </b><span>Relation C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39; ==&gt; R&#39;&#39;) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (R ==&gt; R&#39; --&gt; R&#39;&#39;) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk18"><span class="nb">intros</span> a b Rab x y R&#39;yx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation A</span></span></span><br><span><var>R'</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>R''</var><span class="hyp-type"><b>: </b><span>Relation C</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Symmetric R&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (R ==&gt; R&#39; ==&gt; R&#39;&#39;) f</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Rab</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>R'yx</var><span class="hyp-type"><b>: </b><span>CRelationClasses.flip R&#39; x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R&#39;&#39; (f a x) (f b y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H1; [ <span class="bp">assumption</span> | <span class="nb">symmetry</span>; <span class="bp">assumption</span> ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_fmap</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>}
  (<span class="nv">F</span> : A -&gt; B) `{Is1Functor _ _ F} (a b : A)
  : CMorphisms.Proper (GpdHom ==&gt; GpdHom) (@fmap _ _ _ _ F _ a b)
  := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; fmap2 F.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_catcomp_g</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  {a b c : A} (g : b $-&gt; c)
  : CMorphisms.Proper (GpdHom ==&gt; GpdHom) (@cat_comp _ _ _ a b c g)
  := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; cat_postwhisker g.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk19">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_catcomp</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  {a b c : A}
  : CMorphisms.Proper (GpdHom ==&gt; GpdHom ==&gt; GpdHom)
      (@cat_comp _ _ _ a b c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (GpdHom ==&gt; GpdHom ==&gt; GpdHom)
  cat_comp</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (GpdHom ==&gt; GpdHom ==&gt; GpdHom)
  cat_comp</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1b"><span class="nb">intros</span> g1 g2 eq_g f1 f2 eq_f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>g1, g2</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br><span><var>eq_g</var><span class="hyp-type"><b>: </b><span>g1 $== g2</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br><span><var>eq_f</var><span class="hyp-type"><b>: </b><span>f1 $== f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g1 $o f1 $== g2 $o f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_comp2 eq_f eq_g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1c">#[export] <span class="kn">Instance</span> <span class="nf">gpd_hom_to_hom_proper</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  {R : Relation B} (F : A -&gt; B)
  {H2 : CMorphisms.Proper (GpdHom ==&gt; R) F}
  : CMorphisms.Proper (Hom ==&gt; R) F.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (GpdHom ==&gt; R) F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (Hom ==&gt; R) F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Relation B</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>CMorphisms.Proper (GpdHom ==&gt; R) F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper (Hom ==&gt; R) F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a b eq_ab; <span class="nb">apply</span> H2; <span class="bp">exact</span> eq_ab.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1e">#[export] <span class="kn">Instance</span> <span class="nf">IsProper_Hom</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is0Gpd A}
  : CMorphisms.Proper
      (Hom ==&gt; Hom ==&gt; CRelationClasses.arrow) Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (Hom ==&gt; Hom ==&gt; CRelationClasses.arrow) Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk1f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CMorphisms.Proper
  (Hom ==&gt; Hom ==&gt; CRelationClasses.arrow) Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk20"><span class="nb">intros</span> x y eq_xy a b eq_ab f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $-&gt; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk21"><span class="nb">refine</span> (<span class="nb">transitivity</span> _ eq_ab).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $-&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="setoidrewrite-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="setoidrewrite-v-chk22"><span class="nb">refine</span> (<span class="nb">transitivity</span> _ f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Is0Gpd A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_xy</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>eq_ab</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y $-&gt; x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="bp">exact</span> eq_xy.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">transitive_hom</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} {x : A}
  : CMorphisms.Proper
      (Hom ==&gt; CRelationClasses.arrow) (Hom x)
  := <span class="kr">fun</span> <span class="nv">y</span> <span class="nv">z</span> =&gt; cat_comp.</span></span></pre>
</div>
</div></body>
</html>
