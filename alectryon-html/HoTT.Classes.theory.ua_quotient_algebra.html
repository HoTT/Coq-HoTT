<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>ua_quotient_algebra.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Basics.Notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk0"><span class="kn">Require Export</span> HoTT.Classes.interfaces.ua_congruence.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span>
  HSet
  Colimits.Quotient
  Spaces.List.Core
  Classes.interfaces.canonical_names
  Classes.theory.ua_homomorphism.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> list_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> algebra_notations ne_list.notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">quotient_algebra</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Funext} {œÉ : Signature} (A : Algebra œÉ)
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The quotient algebra carriers is the family of set-quotients</span>
<span class="sd">    induced by [Œ¶]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">carriers_quotient_algebra</span> : Carriers œÉ
    := <span class="kr">Œª</span> <span class="nv">s</span>, Quotient (Œ¶ s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Specialization of [quotient_ind_prop]. Suppose</span>
<span class="sd">    [P : FamilyProd carriers_quotient_algebra w ‚Üí Type] and</span>
<span class="sd">    [‚àÄ a, IsHProp (P a)]. To show that [P a] holds for all [a :</span>
<span class="sd">    FamilyProd carriers_quotient_algebra w], it is sufficient to show</span>
<span class="sd">    that [P (class_of _ x1, ..., class_of _ xn, tt)] holds for all</span>
<span class="sd">    [(x1, ..., xn, tt) : FamilyProd A w]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">quotient_ind_prop_family_prod</span> {<span class="nv">w</span> : list (Sort œÉ)}
    : <span class="kr">‚àÄ</span> (<span class="nv">P</span> : FamilyProd carriers_quotient_algebra w ‚Üí <span class="kt">Type</span>)
        `{!<span class="kr">‚àÄ</span> <span class="nv">a</span>, IsHProp (P a)}
        (dclass : <span class="kr">‚àÄ</span> <span class="nv">x</span>, P (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span>, class_of (Œ¶ s)) x))
        (a : FamilyProd carriers_quotient_algebra w), P a
    := <span class="kr">match</span> w <span class="kr">with</span>
       | nil =&gt; <span class="kr">Œª</span> <span class="nv">P</span> <span class="nv">_</span> <span class="nv">dclass</span> <span class="nv">&#39;tt</span>, dclass tt
       | s :: w&#39; =&gt; <span class="kr">Œª</span> <span class="nv">P</span> <span class="nv">_</span> <span class="nv">dclass</span> <span class="nv">a</span>,
         Quotient_ind_hprop (Œ¶ s) (<span class="kr">Œª</span> <span class="nv">a</span>, <span class="kr">‚àÄ</span> <span class="nv">b</span>, P (a,b))
           (<span class="kr">Œª</span> <span class="nv">a</span>, quotient_ind_prop_family_prod
                  (<span class="kr">Œª</span> <span class="nv">c</span>, P (class_of (Œ¶ s) a, c)) (<span class="kr">Œª</span> <span class="nv">c</span>, dclass (a, c)))
           (fst a) (snd a)
       <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Let [f : Operation A w], [g : Operation carriers_quotient_algebra w].</span>
<span class="sd">    If [g] is the quotient algebra operation induced by [f], then we want</span>
<span class="sd">    [ComputeOpQuotient f g] to hold, since then</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      Œ≤ (class_of _ a1, class_of _ a2, ..., class_of _ an)</span>
<span class="sd">      = class_of _ (Œ± (a1, a2, ..., an)),</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">    where [Œ±] is the uncurried [f] operation and [Œ≤] is the uncurried</span>
<span class="sd">    [g] operation. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ComputeOpQuotient</span> {<span class="nv">w</span> : SymbolType œÉ}
    (<span class="nv">f</span> : Operation A w) (<span class="nv">g</span> : Operation carriers_quotient_algebra w)
    := <span class="kr">‚àÄ</span> (<span class="nv">a</span> : FamilyProd A (dom_symboltype w)),
         ap_operation g (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span>, class_of (Œ¶ s)) a)
         = class_of (Œ¶ (cod_symboltype w)) (ap_operation f a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">QuotOp</span> w :=
    (<span class="kr">‚àÄ</span> (<span class="nv">f</span> : Operation A w),
     OpCompatible A Œ¶ f ‚Üí
     <span class="kr">‚àÉ</span> <span class="nv">g</span> : Operation carriers_quotient_algebra w,
     ComputeOpQuotient f g) (<span class="kn">only parsing</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">op_qalg_cons</span> q f P x :=
    (q _ (f x) (op_compatible_cons Œ¶ _ _ f x P)).<span class="mi">1</span> (<span class="kn">only parsing</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1"><span class="kn">Lemma</span> <span class="nf">op_quotient_algebra_well_def</span>
    (<span class="nv">q</span> : <span class="kr">‚àÄ</span> (<span class="nv">w</span> : SymbolType œÉ), QuotOp w)
    (<span class="nv">s</span> : Sort œÉ) (<span class="nv">w</span> : SymbolType œÉ) (<span class="nv">f</span> : Operation A (s ::: w))
    (<span class="nv">P</span> : OpCompatible A Œ¶ f) (<span class="nv">x</span> <span class="nv">y</span> : A s) (<span class="nv">C</span> : Œ¶ s x y)
    : op_qalg_cons q f P x = op_qalg_cons q f P y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q w (f x) (op_compatible_cons Œ¶ s w f x P)).<span class="mi">1</span> =
(q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q w (f x) (op_compatible_cons Œ¶ s w f x P)).<span class="mi">1</span> =
(q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3"><span class="nb">apply</span> (@path_forall_ap_operation _ œÉ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">a</span> : FamilyProd carriers_quotient_algebra
      (dom_symboltype w),
ap_operation
  (q w (f x) (op_compatible_cons Œ¶ s w f x P)).<span class="mi">1</span> a =
ap_operation
  (q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span> a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4"><span class="nb">apply</span> quotient_ind_prop_family_prod; <span class="kp">try</span> <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : FamilyProd A (dom_symboltype w),
ap_operation
  (q w (f x) (op_compatible_cons Œ¶ s w f x P)).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) x0) =
ap_operation
  (q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk5"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation
  (q w (f x) (op_compatible_cons Œ¶ s w f x P)).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
ap_operation
  (q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk6"><span class="nb">destruct</span> (q _ _ (op_compatible_cons Œ¶ s w f x P)) <span class="kr">as</span> [g1 P1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P1</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f x) g1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (g1; P1).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
ap_operation
  (q w (f y) (op_compatible_cons Œ¶ s w f y P)).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk7"><span class="nb">destruct</span> (q _ _ (op_compatible_cons Œ¶ s w f y P)) <span class="kr">as</span> [g2 P2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P1</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f x) g1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P2</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f y) g2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (g1; P1).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
ap_operation (g2; P2).<span class="mi">1</span>
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk8"><span class="nb">refine</span> ((P1 a) @ _ @ (P2 a)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P1</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f x) g1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P2</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f y) g2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (Œ¶ (cod_symboltype w)) (ap_operation (f x) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (f y) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk9"><span class="nb">apply</span> qglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ) 
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Operation A (s ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P1</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f x) g1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>Operation carriers_quotient_algebra w</span></span></span><br><span><var>P2</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient (f y) g2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ (cod_symboltype w) (ap_operation (f x) a)
  (ap_operation (f y) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (P (x,a) (y,a) (C, reflexive_for_all_2_family_prod A Œ¶ a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Given an operation [f : A s1 ‚Üí A s2 ‚Üí ... A sn ‚Üí A t] and a witness</span>
<span class="c">   [C : OpCompatible A Œ¶ f], then [op_quotient_algebra f C] is a</span>
<span class="c">   dependent pair with first component an operation [g : Q s1 ‚Üí Q s2</span>
<span class="c">   ‚Üí ... Q sn ‚Üí Q t], where [Q := carriers_quotient_algebra], and</span>
<span class="c">   second component a proof of [ComputeOpQuotient f g]. The first</span>
<span class="c">   component [g] is the quotient algebra operation corresponding to [f].</span>
<span class="c">   The second component proof of [ComputeOpQuotient f g] is passed to</span>
<span class="c">   the [op_quotient_algebra_well_def] lemma, which is used to show that</span>
<span class="c">   the quotient algebra operation [g] is well defined, i.e. that</span>

<span class="c">&lt;&lt;</span>
<span class="c">    Œ¶ s1 x1 y1 ‚àß Œ¶ s2 x2 y2 ‚àß ... ‚àß Œ¶ sn xn yn</span>
<span class="c">&gt;&gt;</span>

<span class="c">   implies</span>

<span class="c">&lt;&lt;</span>
<span class="c">    g (class_of _ x1) (class_of _ x2) ... (class_of _ xn)</span>
<span class="c">    = g (class_of _ y1) (class_of _ y2) ... (class_of _ yn).</span>
<span class="c">&gt;&gt;</span>
<span class="c">*)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chka"><span class="kn">Fixpoint</span> <span class="nf">op_quotient_algebra</span> {<span class="nv">w</span> : SymbolType œÉ} : QuotOp w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>op_quotient_algebra</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ)
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g
: Operation
    carriers_quotient_algebra w
&amp; ComputeOpQuotient f g}</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : Operation A w,
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>op_quotient_algebra</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ)
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g
: Operation
    carriers_quotient_algebra w
&amp; ComputeOpQuotient f g}</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">f</span> : Operation A w,
OpCompatible A Œ¶ f -&gt;
{g : Operation carriers_quotient_algebra w &amp;
ComputeOpQuotient f g}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chkc"><span class="nb">refine</span> (
      <span class="kr">match</span> w <span class="kr">return</span> QuotOp w <span class="kr">with</span>
      | [:s:] =&gt; <span class="kr">Œª</span> (<span class="nv">f</span> : A s) <span class="nv">P</span>, (class_of (Œ¶ s) f; <span class="kr">Œª</span> <span class="nv">a</span>, idpath)
      | s ::: w&#39; =&gt; <span class="kr">Œª</span> (<span class="nv">f</span> : A s ‚Üí Operation A w&#39;) <span class="nv">P</span>,
        (Quotient_rec (Œ¶ s) _
          (<span class="kr">Œª</span> (<span class="nv">x</span> : A s), op_qalg_cons op_quotient_algebra f P x)
          (op_quotient_algebra_well_def op_quotient_algebra s w&#39; f P)
        ; _)
      <span class="kr">end</span>
    ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>op_quotient_algebra</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ)
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g
: Operation
    carriers_quotient_algebra w
&amp; ComputeOpQuotient f g}</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A s -&gt; Operation A w&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient f
  (Quotient_rec (Œ¶ s)
     (Operation carriers_quotient_algebra w&#39;)
     (<span class="kr">Œª</span> <span class="nv">x</span> : A s,
      (op_quotient_algebra w&#39; (f x)
         (op_compatible_cons Œ¶ s w&#39; f x P)).<span class="mi">1</span>)
     (op_quotient_algebra_well_def op_quotient_algebra
        s w&#39; f P))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chkd"><span class="nb">intros</span> [x a].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>op_quotient_algebra</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">w</span> : SymbolType œÉ)
(<span class="nv">f</span> : Operation A w),
OpCompatible A Œ¶ f -&gt;
{g
: Operation
    carriers_quotient_algebra w
&amp; ComputeOpQuotient f g}</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w'</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A s -&gt; Operation A w&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpCompatible A Œ¶ f</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>fold_right (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), A i * A0)
  Unit (dom_symboltype w&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation
  (Quotient_rec (Œ¶ s)
     (Operation carriers_quotient_algebra w&#39;)
     (<span class="kr">Œª</span> <span class="nv">x</span> : A s,
      (op_quotient_algebra w&#39; (f x)
         (op_compatible_cons Œ¶ s w&#39; f x P)).<span class="mi">1</span>)
     (op_quotient_algebra_well_def op_quotient_algebra
        s w&#39; f P))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (x, a)) =
class_of (Œ¶ (cod_symboltype (s ::: w&#39;)))
  (ap_operation f (x, a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (op_quotient_algebra w&#39; (f x) (op_compatible_cons Œ¶ s w&#39; f x P)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ops_quotient_algebra</span> (<span class="nv">u</span> : Symbol œÉ)
    : Operation carriers_quotient_algebra (œÉ u)
    := (op_quotient_algebra u.#A (ops_compatible_cong A Œ¶ u)).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Definition of quotient algebra. See Lemma [compute_op_quotient]</span>
<span class="sd">    below for the computation rule of quotient algebra operations. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">QuotientAlgebra</span> : Algebra œÉ
    := BuildAlgebra carriers_quotient_algebra ops_quotient_algebra.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The quotient algebra carriers are always sets. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chke">#[export] <span class="kn">Instance</span> <span class="nf">hset_quotient_algebra</span>
    : IsHSetAlgebra QuotientAlgebra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSetAlgebra QuotientAlgebra</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSetAlgebra QuotientAlgebra</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk10"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSet (QuotientAlgebra s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following lemma gives the computation rule for the quotient</span>
<span class="sd">    algebra operations. It says that for</span>
<span class="sd">    [(a1, a2, ..., an) : A s1 * A s2 * ... * A sn],</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      Œ≤ (class_of _ a1, class_of _ a2, ..., class_of _ an)</span>
<span class="sd">      = class_of _ (Œ± (a1, a2, ..., an))</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">    where [Œ±] is the uncurried [u.#A] operation and [Œ≤] is the</span>
<span class="sd">    uncurried [u.#QuotientAlgebra] operation. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk11"><span class="kn">Lemma</span> <span class="nf">compute_op_quotient</span> (<span class="nv">u</span> : Symbol œÉ)
    : ComputeOpQuotient u.#A u.#QuotientAlgebra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient u.#A u.#QuotientAlgebra</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient u.#A u.#QuotientAlgebra</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> op_quotient_algebra.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">quotient_algebra</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">quotient_algebra_notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Notation</span> <span class="s2">&quot;A / Œ¶&quot;</span> := (QuotientAlgebra A Œ¶) : Algebra_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">quotient_algebra_notations</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> quotient_algebra_notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The next section shows that A/Œ¶ = A/Œ® whenever</span>
<span class="sd">    [Œ¶ s x y &lt;-&gt; Œ® s x y] for all [s], [x], [y]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">path_quotient_algebra</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">œÉ</span> : Signature} (<span class="nv">A</span> : Algebra œÉ)
    (<span class="nv">Œ¶</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) {<span class="nv">CŒ¶</span> : IsCongruence A Œ¶}
    (<span class="nv">Œ®</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) {<span class="nv">CŒ®</span> : IsCongruence A Œ®}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk13"><span class="kn">Lemma</span> <span class="nf">path_quotient_algebra</span> `{Funext} (p : Œ¶ = Œ®) : A/Œ¶ = A/Œ®.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œ¶ = Œ®</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A / Œ¶ = A / Œ®</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk14"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œ¶ = Œ®</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A / Œ¶ = A / Œ®</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p, (path_ishprop CŒ¶ CŒ®).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk15"><span class="kn">Lemma</span> <span class="nf">path_quotient_algebra_iff</span> `{Univalence}
    (R : <span class="kr">‚àÄ</span> <span class="nv">s</span> <span class="nv">x</span> <span class="nv">y</span>, Œ¶ s x y &lt;-&gt; Œ® s x y)
    : A/Œ¶ = A/Œ®.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y &lt;-&gt; Œ® s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A / Œ¶ = A / Œ®</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk16"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y &lt;-&gt; Œ® s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A / Œ¶ = A / Œ®</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk17"><span class="nb">apply</span> path_quotient_algebra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y &lt;-&gt; Œ® s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ = Œ®</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk18">funext s x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y &lt;-&gt; Œ® s x y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ s x y = Œ® s x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk19"><span class="nb">refine</span> (path_universe_uncurried _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ¶</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>Œ®</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>CŒ®</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ®</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y &lt;-&gt; Œ® s x y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ¶ s x y &lt;~&gt; Œ® s x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_iff_hprop; <span class="nb">apply</span> R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">path_quotient_algebra</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following section defines the quotient homomorphism</span>
<span class="sd">    [hom_quotient : Homomorphism A (A/Œ¶)]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">hom_quotient</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Funext} {œÉ} {A : Algebra œÉ}
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">def_hom_quotient</span> : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), A s ‚Üí (A/Œ¶) s :=
    <span class="kr">Œª</span> <span class="nv">s</span> <span class="nv">x</span>, class_of (Œ¶ s) x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1a"><span class="kn">Lemma</span> <span class="nf">oppreserving_quotient</span> `{Funext} (w : SymbolType œÉ)
      (g : Operation (A/Œ¶) w) (Œ± : Operation A w)
      (G : ComputeOpQuotient A Œ¶ Œ± g)
      : OpPreserving def_hom_quotient Œ± g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient Œ± g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient Œ± g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1c"><span class="nb">unfold</span> ComputeOpQuotient <span class="kr">in</span> G.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation g
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation Œ± a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient Œ± g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1d"><span class="nb">induction</span> w; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Unit -&gt; g = class_of (Œ¶ t) Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">def_hom_quotient t Œ± = g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-quotient-algebra-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving def_hom_quotient Œ± g</span></span></span><br></div><label class="goal-separator" for="ua-quotient-algebra-v-chk1e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving def_hom_quotient 
  (Œ± x) (g (def_hom_quotient t x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Unit -&gt; g = class_of (Œ¶ t) Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">def_hom_quotient t Œ± = g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (G tt)^.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk20">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving def_hom_quotient Œ± g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving def_hom_quotient (Œ± x)
  (g (def_hom_quotient t x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk21"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving def_hom_quotient Œ± g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient (Œ± x)
  (g (def_hom_quotient t x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk22"><span class="nb">apply</span> IHw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving def_hom_quotient Œ± g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation (g (def_hom_quotient t x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (Œ± x) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk23"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving def_hom_quotient Œ± g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (g (def_hom_quotient t x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (Œ± x) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (G (x,a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk24">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_quotient</span> `{Funext}
    : IsHomomorphism def_hom_quotient.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_hom_quotient</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_hom_quotient</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk26"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient u.#A u.#(A / Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> oppreserving_quotient, compute_op_quotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_quotient</span> : Homomorphism A (A/Œ¶)
    := BuildHomomorphism def_hom_quotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk27">#[export] <span class="kn">Instance</span> <span class="nf">surjection_quotient</span>
    : <span class="kr">‚àÄ</span> <span class="nv">s</span>, IsSurjection (hom_quotient s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ,
ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (hom_quotient s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ,
ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (hom_quotient s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk29"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (hom_quotient s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> issurj_class_of.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">hom_quotient</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [Œ¶ s x y] implies [x = y], then homomorphism [hom_quotient Œ¶]</span>
<span class="sd">    is an isomorphism. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2a">#[export] <span class="kn">Instance</span> <span class="nf">is_isomorphism_quotient</span> `{Univalence}
  {œÉ : Signature} {A : Algebra œÉ} (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s))
  `{!IsCongruence A Œ¶} (P : <span class="kr">‚àÄ</span> <span class="nv">s</span> <span class="nv">x</span> <span class="nv">y</span>, Œ¶ s x y ‚Üí x = y)
  : IsIsomorphism (hom_quotient Œ¶).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (hom_quotient Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (hom_quotient Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2c"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (hom_quotient Œ¶ s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2d"><span class="nb">apply</span> isequiv_surj_emb; [<span class="bp">exact</span> _ |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEmbedding (hom_quotient Œ¶ s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2e"><span class="nb">apply</span> isembedding_isinj_hset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInjective (hom_quotient Œ¶ s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk2f"><span class="nb">intros</span> x y p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; x = y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>hom_quotient Œ¶ s x = hom_quotient Œ¶ s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> P, (related_quotient_paths (Œ¶ s)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This section develops the universal mapping property</span>
<span class="sd">    [ump_quotient_algebra] of the quotient algebra. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">ump_quotient_algebra</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    `{Univalence} {œÉ} {A B : Algebra œÉ} `{!IsHSetAlgebra B}
    (Œ¶ : <span class="kr">‚àÄ</span> <span class="nv">s</span>, Relation (A s)) `{!IsCongruence A Œ¶}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** In the nested section below we show that if [f : Homomorphism A B]</span>
<span class="sd">    maps elements related by [Œ¶] to equal elements, there is a</span>
<span class="sd">    [Homomorphism (A/Œ¶) B] out of the quotient algebra satisfying</span>
<span class="sd">    [compute_quotient_algebra_mapout] below. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">quotient_algebra_mapout</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
      (<span class="nv">f</span> : Homomorphism A B)
      (<span class="nv">R</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span> (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y ‚Üí f s x = f s y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">def_hom_quotient_algebra_mapout</span>
      : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), (A/Œ¶) s ‚Üí B s
      := <span class="kr">Œª</span> <span class="nv">s</span>, (equiv_quotient_ump (Œ¶ s) (Build_HSet (B s)))^-<span class="mi">1</span> (f s; R s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk30"><span class="kn">Lemma</span> <span class="nf">oppreserving_quotient_algebra_mapout</span> {<span class="nv">w</span> : SymbolType œÉ}
      (<span class="nv">g</span> : Operation (A/Œ¶) w) (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w)
      (<span class="nv">G</span> : ComputeOpQuotient A Œ¶ Œ± g) (<span class="nv">P</span> : OpPreserving f Œ± Œ≤)
      : OpPreserving def_hom_quotient_algebra_mapout g Œ≤.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± g</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient_algebra_mapout g Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>ComputeOpQuotient A Œ¶ Œ± g</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient_algebra_mapout g Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk32"><span class="nb">unfold</span> ComputeOpQuotient <span class="kr">in</span> G.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Operation (A / Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation g
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation Œ± a)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient_algebra_mapout g Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk33"><span class="nb">induction</span> w; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Unit -&gt; g = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient_rec (Œ¶ t) (B t) (f t) (R t) g = Œ≤</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-quotient-algebra-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br></div><label class="goal-separator" for="ua-quotient-algebra-v-chk34"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
OpPreserving def_hom_quotient_algebra_mapout 
  (g x) (Œ≤ (Quotient_rec (Œ¶ t) (B t) (f t) (R t) x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Unit -&gt; g = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient_rec (Œ¶ t) (B t) (f t) (R t) g = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk36"><span class="nb">destruct</span> (G tt)^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Unit -&gt; class_of (Œ¶ t) Œ± = class_of (Œ¶ t) Œ±</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient_rec (Œ¶ t) (B t) (f t) (R t)
  (class_of (Œ¶ t) Œ±) = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> P.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : carriers_quotient_algebra A Œ¶ t,
OpPreserving def_hom_quotient_algebra_mapout (g x)
  (Œ≤ (Quotient_rec (Œ¶ t) (B t) (f t) (R t) x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk38"><span class="nb">refine</span> (Quotient_ind_hprop (Œ¶ t) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A t,
OpPreserving def_hom_quotient_algebra_mapout
  (g (class_of (Œ¶ t) a))
  (Œ≤
     (Quotient_rec (Œ¶ t) (B t) (f t) (R t)
        (class_of (Œ¶ t) a)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk39"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient_algebra_mapout
  (g (class_of (Œ¶ t) x))
  (Œ≤
     (Quotient_rec (Œ¶ t) (B t) (f t) (R t)
        (class_of (Œ¶ t) x)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3a"><span class="nb">apply</span> (IHw (g (class_of (Œ¶ t) x)) (Œ± x) (Œ≤ (f t x))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (Œ± x) a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-quotient-algebra-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><label class="goal-separator" for="ua-quotient-algebra-v-chk3b"><hr></label><div class="goal-conclusion">OpPreserving f (Œ± x) (Œ≤ (f t x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (Œ± x) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3d"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap_operation (g (class_of (Œ¶ t) x))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
class_of (Œ¶ (cod_symboltype w)) (ap_operation (Œ± x) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (G (x,a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>carriers_quotient_algebra A Œ¶ t -&gt;
Operation (carriers_quotient_algebra A Œ¶) w</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A t * FamilyProd A (dom_symboltype w),
ap_operation (g (class_of (Œ¶ t) (fst a)))
  (map_family_prod (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s))
     (snd a)) =
class_of (Œ¶ (cod_symboltype w))
  (ap_operation (Œ± (fst a)) (snd a))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">g</span> : Operation (carriers_quotient_algebra A Œ¶) w)
(<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w),
(<span class="kr">forall</span> <span class="nv">a</span> : FamilyProd A (dom_symboltype w),
 ap_operation g
   (map_family_prod
      (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, class_of (Œ¶ s)) a) =
 class_of (Œ¶ (cod_symboltype w))
   (ap_operation Œ± a)) -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving def_hom_quotient_algebra_mapout g Œ≤</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving f (Œ± x) (Œ≤ (f t x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> P.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk3f">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_quotient_algebra_mapout</span>
      : IsHomomorphism def_hom_quotient_algebra_mapout.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_hom_quotient_algebra_mapout</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism def_hom_quotient_algebra_mapout</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk41"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving def_hom_quotient_algebra_mapout
  u.#(A / Œ¶) u.#B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk42"><span class="nb">eapply</span> oppreserving_quotient_algebra_mapout.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-quotient-algebra-v-chk43" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><label class="goal-separator" for="ua-quotient-algebra-v-chk43"><hr></label><div class="goal-conclusion">OpPreserving f <span class="nl">?Œ±</span> u.#B</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk44">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ComputeOpQuotient A Œ¶ <span class="nl">?Œ±</span> u.#(A / Œ¶)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> compute_op_quotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk45">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving f u.#A u.#B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_quotient_algebra_mapout</span>
      : Homomorphism (A/Œ¶) B
      := BuildHomomorphism def_hom_quotient_algebra_mapout.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The computation rule for [hom_quotient_algebra_mapout] is</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      hom_quotient_algebra_mapout s (class_of (Œ¶ s) x) = f s x.</span>
<span class="sd">&gt;&gt;</span>
<span class="sd">*)</span>

</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk46"><span class="kn">Lemma</span> <span class="nf">compute_quotient_algebra_mapout</span>
      : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s),
        hom_quotient_algebra_mapout s (class_of (Œ¶ s) x) = f s x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s),
hom_quotient_algebra_mapout s (class_of (Œ¶ s) x) =
f s x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk47"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s),
hom_quotient_algebra_mapout s (class_of (Œ¶ s) x) =
f s x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">quotient_algebra_mapout</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_quotient_algebra_mapin</span> (<span class="nv">g</span> : Homomorphism (A/Œ¶) B)
    : Homomorphism A B
    := hom_compose g (hom_quotient Œ¶).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk48"><span class="kn">Lemma</span> <span class="nf">ump_quotient_algebra_lr</span> :
    {f : Homomorphism A B | <span class="kr">‚àÄ</span> <span class="nv">s</span> (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y ‚Üí f s x = f s y}
    ‚Üí Homomorphism (A/Œ¶) B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y} -&gt; Homomorphism (A / Œ¶) B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y} -&gt; Homomorphism (A / Œ¶) B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4a"><span class="nb">intros</span> [f P].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Homomorphism (A / Œ¶) B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4b"><span class="kr">exists</span> (<span class="nv">hom_quotient_algebra_mapout</span> <span class="nv">f</span> <span class="nv">P</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (hom_quotient_algebra_mapout f P)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4c"><span class="kn">Lemma</span> <span class="nf">ump_quotient_algebra_rl</span> :
    Homomorphism (A/Œ¶) B ‚Üí
    {f : Homomorphism A B | <span class="kr">‚àÄ</span> <span class="nv">s</span> (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y ‚Üí f s x = f s y}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Homomorphism (A / Œ¶) B -&gt;
{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Homomorphism (A / Œ¶) B -&gt;
{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4e"><span class="nb">intro</span> g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk4f"><span class="kr">exists</span> (<span class="nv">hom_quotient_algebra_mapin</span> <span class="nv">g</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt;
hom_quotient_algebra_mapin g s x =
hom_quotient_algebra_mapin g s y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk50"><span class="nb">intros</span> s x y E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A s</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Œ¶ s x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hom_quotient_algebra_mapin g s x =
hom_quotient_algebra_mapin g s y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport (<span class="kr">Œª</span> <span class="nv">z</span>, g s (class_of (Œ¶ s) x) = g s z)
            (qglue E) idpath).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The universal mapping property of the quotient algebra. For each</span>
<span class="sd">    homomorphism [f : Homomorphism A B], mapping elements related by</span>
<span class="sd">    [Œ¶] to equal elements, there is a unique homomorphism</span>
<span class="sd">    [g : Homomorphism (A/Œ¶) B] satisfying</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      f = hom_compose g (hom_quotient Œ¶).</span>
<span class="sd">&gt;&gt;</span>
<span class="sd">*)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk51"><span class="kn">Lemma</span> <span class="nf">ump_quotient_algebra</span>
    : {f : Homomorphism A B | <span class="kr">‚àÄ</span> <span class="nv">s</span> (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y ‚Üí f s x = f s y}
     &lt;~&gt;
      Homomorphism (A/Œ¶) B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y} &lt;~&gt; Homomorphism (A / Œ¶) B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk52"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
Œ¶ s x y -&gt; f s x = f s y} &lt;~&gt; Homomorphism (A / Œ¶) B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk53"><span class="nb">apply</span> (equiv_adjointify
             ump_quotient_algebra_lr ump_quotient_algebra_rl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">x</span> : Homomorphism (A / Œ¶) B,
 ump_quotient_algebra_lr (ump_quotient_algebra_rl x)) ==
idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-quotient-algebra-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><label class="goal-separator" for="ua-quotient-algebra-v-chk54"><hr></label><div class="goal-conclusion">(<span class="kr">Œª</span>
 <span class="nv">x</span> : {f : Homomorphism A B &amp;
     <span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
     (<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y},
 ump_quotient_algebra_rl (ump_quotient_algebra_lr x)) ==
idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">x</span> : Homomorphism (A / Œ¶) B,
 ump_quotient_algebra_lr (ump_quotient_algebra_rl x)) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk56"><span class="nb">intro</span> G.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ump_quotient_algebra_lr (ump_quotient_algebra_rl G) =
G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk57"><span class="nb">apply</span> path_hset_homomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ump_quotient_algebra_lr (ump_quotient_algebra_rl G) =
G</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk58">funext s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>Homomorphism (A / Œ¶) B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ump_quotient_algebra_lr (ump_quotient_algebra_rl G) s =
G s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (eissect (equiv_quotient_ump (Œ¶ s) _) (G s)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span>
 <span class="nv">x</span> : {f : Homomorphism A B &amp;
     <span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> <span class="nv">y</span> : A s),
     Œ¶ s x y -&gt; f s x = f s y},
 ump_quotient_algebra_rl (ump_quotient_algebra_lr x)) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk5a"><span class="nb">intro</span> F.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ump_quotient_algebra_rl (ump_quotient_algebra_lr F) =
F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-quotient-algebra-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-quotient-algebra-v-chk5b"><span class="nb">apply</span> path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>Œ¶</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, Relation (A s)</span></span></span><br><span><var>IsCongruence0</var><span class="hyp-type"><b>: </b><span>IsCongruence A Œ¶</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>{f : Homomorphism A B &amp;
<span class="kr">forall</span> (<span class="nv">s</span> : Sort œÉ) 
(<span class="nv">x</span> <span class="nv">y</span> : A s), Œ¶ s x y -&gt; f s x = f s y}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ump_quotient_algebra_rl (ump_quotient_algebra_lr F)).<span class="mi">1</span> =
F.<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> path_hset_homomorphism.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">ump_quotient_algebra</span>.</span></span></pre>
</div>
</div></body>
</html>
