<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Choice.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk0"><span class="kn">Require Import</span>
  HoTT.Basics
  HoTT.Types
  HoTT.Universes.HSet
  HoTT.Truncations.Core
  HoTT.Colimits.Quotient
  HoTT.Projective.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following is an alternative (0,-1)-projectivity predicate on [A]. Given a family of quotient equivalence classes [f : forall x : A, B x / R x], for [R : forall x : A, Relation (B x)], we merely have a choice function [g : forall x, B x], factoring [f] as [f x = class_of (g x)]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">HasQuotientChoice</span> (<span class="nv">A</span> : <span class="kt">Type</span>) :=
  <span class="kr">forall</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>), (<span class="kr">forall</span> <span class="nv">x</span>, IsHSet (B x)) -&gt;
  <span class="kr">forall</span> (<span class="nv">R</span> : <span class="kr">forall</span> <span class="nv">x</span>, Relation (B x))
         (<span class="nv">pR</span> : <span class="kr">forall</span> <span class="nv">x</span>, is_mere_relation (B x) (R x)),
         (<span class="kr">forall</span> <span class="nv">x</span>, Reflexive (R x)) -&gt;
         (<span class="kr">forall</span> <span class="nv">x</span>, Symmetric (R x)) -&gt;
         (<span class="kr">forall</span> <span class="nv">x</span>, Transitive (R x)) -&gt;
  <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x),
  hexists (<span class="kr">fun</span> <span class="nv">g</span> : (<span class="kr">forall</span> <span class="nv">x</span> : A, B x) =&gt;
                   <span class="kr">forall</span> <span class="nv">x</span>, class_of (R x) (g x) = f x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">choose_has_quotient_choice</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}
    {A : <span class="kt">Type</span>} {B : A -&gt; <span class="kt">Type</span>} `{!<span class="kr">forall</span> <span class="nv">x</span>, IsHSet (B x)}
    (P : <span class="kr">forall</span> <span class="nv">x</span>, B x -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">x</span> (<span class="nv">a</span> : B x), IsHProp (P x a)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Definition</span> <span class="nf">RelClassEquiv</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x) (<span class="nv">b</span> : B x) : <span class="kt">Type</span>
    := P x a &lt;~&gt; P x b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1"><span class="kn">Local Instance</span> <span class="nf">reflexive_relclass</span>
    : <span class="kr">forall</span> <span class="nv">x</span>, Reflexive (RelClassEquiv x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelClassEquiv a b b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> equiv_idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4"><span class="kn">Local Instance</span> <span class="nf">symmetric_relclass</span>
    : <span class="kr">forall</span> <span class="nv">x</span>, Symmetric (RelClassEquiv x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6"><span class="nb">intros</span> a b1 b2 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>RelClassEquiv a b1 b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelClassEquiv a b2 b1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_inverse p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7"><span class="kn">Local Instance</span> <span class="nf">transitive_relclass</span>
    : <span class="kr">forall</span> <span class="nv">x</span>, Transitive (RelClassEquiv x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (RelClassEquiv x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk9"><span class="nb">intros</span> a b1 b2 b3 p q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2, b3</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>RelClassEquiv a b1 b2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>RelClassEquiv a b2 b3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelClassEquiv a b1 b3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_compose q p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chka"><span class="kn">Local Instance</span> <span class="nf">hprop_choose_cod</span> (<span class="nv">a</span> : A)
    : IsHProp {c : B a / RelClassEquiv a
                 | <span class="kr">forall</span> <span class="nv">b</span>, in_class (RelClassEquiv a) c b &lt;~&gt; P a b}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp
  {c : B a / RelClassEquiv a &amp;
  <span class="kr">forall</span> <span class="nv">b</span> : B a,
  in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp
  {c : B a / RelClassEquiv a &amp;
  <span class="kr">forall</span> <span class="nv">b</span> : B a,
  in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chkc"><span class="nb">apply</span> ishprop_sigma_disjoint.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : B a / RelClassEquiv a,
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a) x b &lt;~&gt; P a b) -&gt;
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a) y b &lt;~&gt; P a b) -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chkd"><span class="nb">refine</span> (Quotient_ind_hprop _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> : B a) (<span class="nv">y</span> : B a / RelClassEquiv a),
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a)
   (class_of (RelClassEquiv a) a0) b &lt;~&gt; P a b) -&gt;
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a) y b &lt;~&gt; P a b) -&gt;
class_of (RelClassEquiv a) a0 = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chke"><span class="nb">intro</span> b1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : B a / RelClassEquiv a,
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a)
   (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b) -&gt;
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a) y b &lt;~&gt; P a b) -&gt;
class_of (RelClassEquiv a) b1 = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chkf"><span class="nb">refine</span> (Quotient_ind_hprop _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : B a,
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a)
   (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b) -&gt;
(<span class="kr">forall</span> <span class="nv">b</span> : B a,
 in_class (RelClassEquiv a)
   (class_of (RelClassEquiv a) a0) b &lt;~&gt; P a b) -&gt;
class_of (RelClassEquiv a) b1 =
class_of (RelClassEquiv a) a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk10"><span class="nb">intros</span> b2 f g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b2) b &lt;~&gt; P a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (RelClassEquiv a) b1 =
class_of (RelClassEquiv a) b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk11"><span class="nb">apply</span> qglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b2) b &lt;~&gt; P a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelClassEquiv a b1 b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk12"><span class="nb">apply</span> (f b2)^-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b2) b &lt;~&gt; P a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk13"><span class="nb">apply</span> g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1, b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b2) b &lt;~&gt; P a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b2) b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> reflexive_relclass.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk14"><span class="kn">Local Definition</span> <span class="nf">prechoose</span> (<span class="nv">i</span> : <span class="kr">forall</span> <span class="nv">x</span>, hexists (P x)) (<span class="nv">a</span> : A)
    : {c : B a / RelClassEquiv a
         | <span class="kr">forall</span> <span class="nv">b</span> : B a, in_class (RelClassEquiv a) c b &lt;~&gt; P a b}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, hexists (P x)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B a / RelClassEquiv a &amp;
<span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, hexists (P x)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B a / RelClassEquiv a &amp;
<span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk16"><span class="nb">specialize</span> (i a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>hexists (P a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B a / RelClassEquiv a &amp;
<span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk17">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; P a x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B a / RelClassEquiv a &amp;
<span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk18"><span class="nb">destruct</span> i <span class="kr">as</span> [b1 h].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{c : B a / RelClassEquiv a &amp;
<span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a) c b &lt;~&gt; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk19"><span class="kr">exists</span> (<span class="nv">class_of</span> <span class="nv">_</span> <span class="nv">b1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B a,
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b &lt;~&gt; P a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1a"><span class="nb">intro</span> b2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2 &lt;~&gt; P a b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1b"><span class="nb">apply</span> equiv_iff_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2 -&gt; P a b2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="choice-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><label class="goal-separator" for="choice-v-chk1c"><hr></label><div class="goal-conclusion">P a b2 -&gt;
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2 -&gt; P a b2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1e"><span class="nb">intro</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a b2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (f h).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a b2 -&gt;
in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk20"><span class="nb">intro</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">a</span> : B x), IsHProp (P x a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>P a b1</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>P a b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_class (RelClassEquiv a)
  (class_of (RelClassEquiv a) b1) b2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equiv_iff_hprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Definition</span> <span class="nf">choose</span> (<span class="nv">i</span> : <span class="kr">forall</span> <span class="nv">x</span>, hexists (P x)) (<span class="nv">a</span> : A)
    : B a / RelClassEquiv a
    := (prechoose i a).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">choose_has_quotient_choice</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following section derives [HasTrChoice 0 A] from [HasQuotientChoice A]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">has_tr0_choice_quotientchoice</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Funext} (A : <span class="kt">Type</span>) (qch : HasQuotientChoice A).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Definition</span> <span class="nf">RelUnit</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">a</span> : A) (<span class="nv">b1</span> <span class="nv">b2</span> : B a) : HProp
    := Build_HProp Unit.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk21"><span class="kn">Local Instance</span> <span class="nf">reflexive_relunit</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">a</span> : A)
    : Reflexive (RelUnit B a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk23"><span class="kn">Local Instance</span> <span class="nf">symmetric_relunit</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">a</span> : A)
    : Symmetric (RelUnit B a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk25"><span class="kn">Local Instance</span> <span class="nf">transitive_relunit</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">a</span> : A)
    : Transitive (RelUnit B a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk27"><span class="kn">Local Instance</span> <span class="nf">ishprop_quotient_relunit</span> (<span class="nv">B</span> : A -&gt; <span class="kt">Type</span>) (<span class="nv">a</span> : A)
    : IsHProp (B a / RelUnit B a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk29"><span class="nb">apply</span> hprop_allpath.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">x</span> <span class="nv">y</span> : B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2),
x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2a"><span class="nb">refine</span> (Quotient_ind_hprop _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> : B a)
(<span class="nv">y</span> : B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)),
class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) a0 = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2b"><span class="nb">intro</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">y</span> : B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2),
class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) r = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2c"><span class="nb">refine</span> (Quotient_ind_hprop _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : B a,
class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) r =
class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2d"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) r =
class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2e"><span class="kn">Lemma</span> <span class="nf">has_tr0_choice_quotientchoice</span> : HasTrChoice <span class="mi">0</span> A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasTrChoice <span class="mi">0</span> A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasTrChoice <span class="mi">0</span> A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk30"><span class="nb">intros</span> B sB f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk31">transparent <span class="nb">assert</span> (g : (<span class="kr">forall</span> <span class="nv">a</span>, B a / RelUnit B a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="choice-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="nl">?Goal</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</span></span></span></span><br></div><label class="goal-separator" for="choice-v-chk32"><hr></label><div class="goal-conclusion">merely (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk33">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk34"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk35"><span class="nb">specialize</span> (f a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>merely (B a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk36">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (class_of _ f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>HasQuotientChoice A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
<span class="kr">let</span> <span class="nv">f</span> := f a <span class="kr">in</span>
Trunc_ind
  (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (B a) =&gt;
   B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))
  (<span class="kr">fun</span> <span class="nv">f0</span> : B a =&gt;
   class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)
     f0) f</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk38"><span class="nb">specialize</span> (qch B _ (RelUnit B) _ _ _ _ g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
<span class="kr">let</span> <span class="nv">f</span> := f a <span class="kr">in</span>
Trunc_ind
  (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (B a) =&gt;
   B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))
  (<span class="kr">fun</span> <span class="nv">f0</span> : B a =&gt;
   class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)
     f0) f</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</span></span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>hexists
(<span class="kr">fun</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
<span class="kr">forall</span> <span class="nv">x</span> : A,
class_of
((<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b1</span> <span class="nv">b2</span> : B a) =&gt; trunctype_type (RelUnit B a b1 b2)) x)
(g0 x) = g x)</span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk39">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
<span class="kr">let</span> <span class="nv">f</span> := f a <span class="kr">in</span>
Trunc_ind
  (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (B a) =&gt;
   B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))
  (<span class="kr">fun</span> <span class="nv">f0</span> : B a =&gt;
   class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)
     f0) f</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>{g0 : <span class="kr">forall</span> <span class="nv">x</span> : A, B x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B x =&gt; RelUnit B x b1 b2) (g0 x) = g x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (<span class="kr">forall</span> <span class="nv">x</span> : A, B x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3a"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, merely (B x)</span></span></span><br><span><var>g</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
<span class="kr">let</span> <span class="nv">f</span> := f a <span class="kr">in</span>
Trunc_ind
  (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (B a) =&gt;
   B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2))
  (<span class="kr">fun</span> <span class="nv">f0</span> : B a =&gt;
   class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)
     f0) f</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
B a / (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B a =&gt; RelUnit B a b1 b2)</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A,
ReflectiveSubuniverse.In (Tr <span class="mi">0</span>) (B x)</span></span></span><br><span><var>qch</var><span class="hyp-type"><b>: </b><span>{g0 : <span class="kr">forall</span> <span class="nv">x</span> : A, B x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, class_of (<span class="kr">fun</span> <span class="nv">b1</span> <span class="nv">b2</span> : B x =&gt; RelUnit B x b1 b2) (g0 x) = g x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, B x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> qch.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">has_tr0_choice_quotientchoice</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3b"><span class="kn">Lemma</span> <span class="nf">has_quotient_choice_tr0choice</span> (<span class="nv">A</span> : <span class="kt">Type</span>)
  : HasTrChoice <span class="mi">0</span> A -&gt; HasQuotientChoice A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasTrChoice <span class="mi">0</span> A -&gt; HasQuotientChoice A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasTrChoice <span class="mi">0</span> A -&gt; HasQuotientChoice A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3d"><span class="nb">intros</span> ch B sB R pR rR sR tR f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3e"><span class="nb">set</span> (P := <span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt; class_of (R a) b = f a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk3f"><span class="nb">assert</span> (<span class="kr">forall</span> <span class="nv">a</span>, merely ((<span class="kr">fun</span> <span class="nv">x</span> =&gt; {b | P x b}) a)) <span class="kr">as</span> g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, merely {b : B a &amp; P a b}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="choice-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br></div><label class="goal-separator" for="choice-v-chk40"><hr></label><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk41">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, merely {b : B a &amp; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk42"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely {b : B a &amp; P a b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk43"><span class="nb">refine</span> (Quotient_ind_hprop _
              (<span class="kr">fun</span> <span class="nv">c</span> =&gt; merely {b | class_of (R a) b = c}) _ (f a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : B a,
merely
  {b : B a &amp; class_of (R a) b = class_of (R a) a0}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk44"><span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {b0 : B a &amp; class_of (R a) b0 = class_of (R a) b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk45"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{b0 : B a &amp; class_of (R a) b0 = class_of (R a) b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">b</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk46">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk47"><span class="nb">pose proof</span> (ch (<span class="kr">fun</span> <span class="nv">a</span> =&gt; {b | P a b}) _ g) <span class="kr">as</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>merely
  (<span class="kr">forall</span> <span class="nv">x</span> : A,
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; {b : B a &amp; P a b}) x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk48">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, {b : B x &amp; P x b}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hexists
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, B x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk49"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, {b : B x &amp; P x b}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{g : <span class="kr">forall</span> <span class="nv">x</span> : A, B x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (g x) = f x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4a"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">x</span> =&gt; (h x).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, {b : B x &amp; P x b}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, class_of (R x) (h x).<span class="mi">1</span> = f x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4b"><span class="nb">intro</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>ch</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>sB</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, IsHSet (B x)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Relation (B x)</span></span></span><br><span><var>pR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : A) (<span class="nv">x0</span> <span class="nv">y</span> : B x), IsHProp (R x x0 y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Reflexive (R x)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Symmetric (R x)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Transitive (R x)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, B x / R x</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">b</span> : B a) =&gt; class_of (R a) b = f a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, B a -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
merely ((<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; {b : B x &amp; P x b}) a)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, {b : B x &amp; P x b}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (R a) (h a).<span class="mi">1</span> = f a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> h.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4c"><span class="kn">Instance</span> <span class="nf">isequiv_has_tr0_choice_to_has_quotient_choice</span>
  `{Funext} (A : <span class="kt">Type</span>)
  : IsEquiv (has_quotient_choice_tr0choice A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (has_quotient_choice_tr0choice A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (has_quotient_choice_tr0choice A)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk4e">srapply isequiv_iff_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (HasTrChoice <span class="mi">0</span> A)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="choice-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="choice-v-chk4f"><hr></label><div class="goal-conclusion">HasQuotientChoice A -&gt; HasTrChoice <span class="mi">0</span> A</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk50">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (HasTrChoice <span class="mi">0</span> A)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> istrunc_forall.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk51">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasQuotientChoice A -&gt; HasTrChoice <span class="mi">0</span> A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> has_tr0_choice_quotientchoice.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_has_tr0_choice_has_quotient_choice</span>
  `{Funext} (A : <span class="kt">Type</span>)
  : HasTrChoice <span class="mi">0</span> A &lt;~&gt; HasQuotientChoice A
  := Build_Equiv _ _ (has_quotient_choice_tr0choice A) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The next section uses [has_quotient_choice_tr0choice] to generalize [quotient_rec2], see [choose_quotient_ind] below. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">choose_quotient_ind</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}
    {I : <span class="kt">Type</span>} `{!HasTrChoice <span class="mi">0</span> I}
    {A : I -&gt; <span class="kt">Type</span>} `{!<span class="kr">forall</span> <span class="nv">i</span>, IsHSet (A i)}
    (R : <span class="kr">forall</span> <span class="nv">i</span>, Relation (A i))
    `{!<span class="kr">forall</span> <span class="nv">i</span>, is_mere_relation (A i) (R i)}
    {rR : <span class="kr">forall</span> <span class="nv">i</span>, Reflexive (R i)}
    {sR : <span class="kr">forall</span> <span class="nv">i</span>, Symmetric (R i)}
    {tR : <span class="kr">forall</span> <span class="nv">i</span>, Transitive (R i)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** First generalize the [qglue] constructor. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk52"><span class="kn">Lemma</span> <span class="nf">qglue_forall</span>
    (<span class="nv">f</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i) (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (g i))
    : (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)) = (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (g i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (g i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) =
(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (g i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (g i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) =
(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (g i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk54">funext s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (g i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of (R s) (f s) = class_of (R s) (g s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Given suitable preconditions, we will show that [ChooseProp P a g] is inhabited, rather than directly giving an inhabitant of [P g]. This turns out to be beneficial because [ChooseProp P a g] is a proposition. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Definition</span> <span class="nf">ChooseProp</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHSet (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : <span class="kt">Type</span>
    := {b : P g
       | merely (<span class="kr">exists</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i)
                        (<span class="nv">q</span> : g = <span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)),
                 <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i)
                        (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)),
                 qglue_forall f f&#39; r # q # b = a f&#39;)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk55"><span class="kn">Local Instance</span> <span class="nf">ishprop_choose_quotient_ind_chooseprop</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHSet (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : IsHProp (ChooseProp P a g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ChooseProp P a g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ChooseProp P a g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk57"><span class="nb">apply</span> ishprop_sigma_disjoint.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : P g,
merely
  {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
  {q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
  <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
  (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
  transport P (qglue_forall f f&#39; r) (transport P q x) =
  a f&#39;}} -&gt;
merely
  {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
  {q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
  <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
  (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
  transport P (qglue_forall f f&#39; r) (transport P q y) =
  a f&#39;}} -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk58"><span class="nb">intros</span> x y h1 h2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>merely
  {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
  {q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
  <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
  (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
  transport P (qglue_forall f f&#39; r)
    (transport P q x) = 
  a f&#39;}}</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>merely
  {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
  {q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
  <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
  (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
  transport P (qglue_forall f f&#39; r)
    (transport P q y) = 
  a f&#39;}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk59">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>{f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
{q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
<span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r)
  (transport P q y) = 
a f&#39;}}</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>{f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
{q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
<span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r)
  (transport P q x) = 
a f&#39;}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5a"><span class="nb">destruct</span> h1 <span class="kr">as</span> [f1 [q1 p1]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>{f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
{q : g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
<span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r)
  (transport P q y) = 
a f&#39;}}</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f1 i) (f&#39; i)),
transport P (qglue_forall f1 f&#39; r)
  (transport P q1 x) = 
a f&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5b"><span class="nb">destruct</span> h2 <span class="kr">as</span> [f2 [q2 p2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f&#39; i)),
transport P (qglue_forall f2 f&#39; r)
  (transport P q2 y) = 
a f&#39;</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f1 i) (f&#39; i)),
transport P (qglue_forall f1 f&#39; r)
  (transport P q1 x) = 
a f&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5c"><span class="nb">specialize</span> (p1 f1 (<span class="kr">fun</span> <span class="nv">i</span> =&gt; rR i (f1 i))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f&#39; i)),
transport P (qglue_forall f2 f&#39; r)
  (transport P q2 y) = 
a f&#39;</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))
  (transport P q1 x) = 
a f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5d"><span class="nb">set</span> (pR := <span class="kr">fun</span> <span class="nv">i</span> =&gt;
                related_quotient_paths (R i) _ _ (ap (<span class="kr">fun</span> <span class="nv">h</span> =&gt; h i) q2^
                @ ap (<span class="kr">fun</span> <span class="nv">h</span> =&gt; h i) q1)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f&#39; i)),
transport P (qglue_forall f2 f&#39; r)
  (transport P q2 y) = 
a f&#39;</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))
  (transport P q1 x) = 
a f1</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5e"><span class="nb">specialize</span> (p2 f1 pR).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>transport P (qglue_forall f2 f1 pR)
  (transport P q2 y) = 
a f1</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))
  (transport P q1 x) = 
a f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk5f"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">apply</span> moveL_transport_V <span class="kr">in</span> p1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>transport P (qglue_forall f2 f1 pR)
  (transport P q2 y) = 
a f1</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk60"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">apply</span> moveL_transport_V <span class="kr">in</span> p2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk61"><span class="nb">refine</span> (p1 @ _ @ p2^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P q1^
  (transport P
     (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^
     (a f1)) =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk62"><span class="nb">apply</span> moveR_transport_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^
  (a f1) =
transport P (q1^)^
  (transport P q2^
     (transport P (qglue_forall f2 f1 pR)^ (a f1)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk63"><span class="nb">rewrite</span> inv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^
  (a f1) =
transport P q1
  (transport P q2^
     (transport P (qglue_forall f2 f1 pR)^ (a f1)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk64"><span class="nb">rewrite</span> &lt;- transport_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^
  (a f1) =
transport P (q2^ @ q1)
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk65"><span class="nb">apply</span> moveR_transport_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a f1 =
transport P
  ((qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^)^
  (transport P (q2^ @ q1)
     (transport P (qglue_forall f2 f1 pR)^ (a f1)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk66"><span class="nb">rewrite</span> inv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a f1 =
transport P
  (qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))
  (transport P (q2^ @ q1)
     (transport P (qglue_forall f2 f1 pR)^ (a f1)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk67"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">rewrite</span> &lt;- transport_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a f1 =
transport P
  ((qglue_forall f2 f1 pR)^ @
   ((q2^ @ q1) @
    qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i))))
  (a f1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk68"><span class="nb">set</span> (pa := (qglue_forall f2 f1 pR)^
               @ (q2^ @ q1 @ qglue_forall f1 f1 _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>P g</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f2 i))</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>g = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span><br><span><var>pR</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">i</span> : I =&gt;
related_quotient_paths 
  (R i) (f2 i) (f1 i)
  (ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q2^ @
   ap (<span class="kr">fun</span> <span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">x0</span> : I, A x0 / R x0 =&gt; h i)
     q1)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f2 i) (f1 i)</span></span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>y =
transport P q2^
  (transport P (qglue_forall f2 f1 pR)^ (a f1))</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>x =
transport P q1^
  (transport P
     (qglue_forall f1 f1
        (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))^ 
     (a f1))</span></span></span><br><span><var>pa</var><span><span class="hyp-body"><b>:= </b><span>(qglue_forall f2 f1 pR)^ @
((q2^ @ q1) @
 qglue_forall f1 f1 (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; rR i (f1 i)))</span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i)) =
(<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f1 i))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a f1 = transport P pa (a f1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> (hset_path2 idpath pa).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Since [ChooseProp P a g] is a proposition, we can apply [has_quotient_choice_tr0choice] and strip its truncation in order to derive [ChooseProp P a g]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk69"><span class="kn">Lemma</span> <span class="nf">chooseprop_quotient_ind</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHSet (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (E : <span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i) (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)),
         qglue_forall f f&#39; r # a f = a f&#39;)
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : ChooseProp P a g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6b"><span class="nb">pose proof</span>
      (has_quotient_choice_tr0choice I _ A _ R _ _ _ _ g) <span class="kr">as</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>hexists
  (<span class="kr">fun</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x =&gt;
   <span class="kr">forall</span> <span class="nv">x</span> : I, class_of (R x) (g0 x) = g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6c">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>{g0 : <span class="kr">forall</span> <span class="nv">x</span> : I, A x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : I, class_of (R x) (g0 x) = g x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6d"><span class="nb">destruct</span> h <span class="kr">as</span> [h p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, class_of (R x) (h x) = g x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6e"><span class="nb">apply</span> path_forall <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk6f"><span class="nb">refine</span> (transport _ p _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ChooseProp P a (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk70"><span class="kr">exists</span> (<span class="nv">a</span> <span class="nv">h</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
  {q
  : (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) =
    (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
  <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
  (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
  transport P (qglue_forall f f&#39; r)
    (transport P q (a h)) = a f&#39;}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk71"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
{q
: (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) =
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
<span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r)
  (transport P q (a h)) = a f&#39;}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk72"><span class="kr">exists</span> <span class="nv">h</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{q
: (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) =
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (h i)) &amp;
<span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (h i) (f&#39; i)),
transport P (qglue_forall h f&#39; r)
  (transport P q (a h)) = a f&#39;}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk73"><span class="kr">exists</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h x)) = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (h i) (f&#39; i)),
transport P (qglue_forall h f&#39; r)
  (transport P <span class="mi">1</span> (a h)) = a f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** By projecting out of [chooseprop_quotient_ind] we obtain a generalization of [quotient_rec2]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk74"><span class="kn">Lemma</span> <span class="nf">choose_quotient_ind</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHSet (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (E : <span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i) (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)),
         qglue_forall f f&#39; r # a f = a f&#39;)
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : P g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk75"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (chooseprop_quotient_ind P a E g).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A specialization of [choose_quotient_ind] to the case where [P g] is a proposition. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk76"><span class="kn">Lemma</span> <span class="nf">choose_quotient_ind_prop</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHProp (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : P g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHProp (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk77"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHProp (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk78"><span class="nb">refine</span> (choose_quotient_ind P a _ g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHProp (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk79"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHProp (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_ishprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The recursion principle derived from [choose_quotient_ind]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">choose_quotient_rec</span>
    {<span class="nv">B</span> : <span class="kt">Type</span>} `{!IsHSet B} (a : (<span class="kr">forall</span> <span class="nv">i</span>, A i) -&gt; B)
    (E : <span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i),
         (<span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)) -&gt; a f = a f&#39;)
    (g : <span class="kr">forall</span> <span class="nv">i</span>, A i / R i)
    : B
    := choose_quotient_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; B) a
        (<span class="kr">fun</span> <span class="nv">f</span> <span class="nv">f&#39;</span> <span class="nv">r</span> =&gt; transport_const _ _ @ E f f&#39; r) g.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The &quot;beta-rule&quot; of [choose_quotient_ind]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7a"><span class="kn">Lemma</span> <span class="nf">choose_quotient_ind_compute</span>
    (<span class="nv">P</span> : (<span class="kr">forall</span> <span class="nv">i</span>, A i / R i) -&gt; <span class="kt">Type</span>) `{!<span class="kr">forall</span> <span class="nv">g</span>, IsHSet (P g)}
    (a : <span class="kr">forall</span> (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i), P (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)))
    (E : <span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i) (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)),
         qglue_forall f f&#39; r # a f = a f&#39;)
    (f : <span class="kr">forall</span> <span class="nv">i</span>, A i)
    : choose_quotient_ind P a E (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)) = a f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">choose_quotient_ind P a E
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">choose_quotient_ind P a E
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7c"><span class="nb">refine</span> (Trunc_ind (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (_ a).<span class="mi">1</span> = _) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">a0</span> : {g : <span class="kr">forall</span> <span class="nv">x</span> : I, A x &amp;
     <span class="kr">forall</span> <span class="nv">x</span> : I,
     class_of (R x) (g x) = class_of (R x) (f x)},
(Trunc_ind
   (<span class="kr">fun</span>
      <span class="nv">_</span> : Trunc (-<span class="mi">1</span>)
            {g : <span class="kr">forall</span> <span class="nv">x</span> : I, A x &amp;
            <span class="kr">forall</span> <span class="nv">x</span> : I,
            class_of (R x) (g x) =
            class_of (R x) (f x)} =&gt;
    ChooseProp P a (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)))
   (<span class="kr">fun</span>
      <span class="nv">h</span> : {g : <span class="kr">forall</span> <span class="nv">x</span> : I, A x &amp;
          <span class="kr">forall</span> <span class="nv">x</span> : I,
          class_of (R x) (g x) = class_of (R x) (f x)}
    =&gt;
    transport (ChooseProp P a)
      (path_forall
         (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (h.<span class="mi">1</span> x))
         (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) h.<span class="mi">2</span>)
      (a h.<span class="mi">1</span>; tr (h.<span class="mi">1</span>; <span class="mi">1</span>; E h.<span class="mi">1</span>))) (tr a0)).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7d"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">a0</span> : {g : <span class="kr">forall</span> <span class="nv">x</span> : I, A x &amp;
     <span class="kr">forall</span> <span class="nv">x</span> : I,
     class_of (R x) (g x) = class_of (R x) (f x)},
(transport (ChooseProp P a)
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (a0.<span class="mi">1</span> x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) a0.<span class="mi">2</span>)
   (a a0.<span class="mi">1</span>; tr (a0.<span class="mi">1</span>; <span class="mi">1</span>; E a0.<span class="mi">1</span>))).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7e"><span class="nb">intros</span> [f&#39; p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport (ChooseProp P a)
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;))).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk7f"><span class="nb">rewrite</span> transport_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport P
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>;
transportD P
  (<span class="kr">fun</span> (<span class="nv">x</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x / R x) (<span class="nv">y</span> : P x) =&gt;
   merely
     {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
     {q : x = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
     <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
     (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
     transport P (qglue_forall f f&#39; r)
       (transport P q y) = a f&#39;}})
  (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">2</span>).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk80"><span class="nb">set</span> (p&#39; := <span class="kr">fun</span> <span class="nv">x</span> =&gt; related_quotient_paths (R x) _ _ (p x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport P
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>;
transportD P
  (<span class="kr">fun</span> (<span class="nv">x</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x / R x) (<span class="nv">y</span> : P x) =&gt;
   merely
     {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
     {q : x = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
     <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
     (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
     transport P (qglue_forall f f&#39; r)
       (transport P q y) = a f&#39;}})
  (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">2</span>).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk81"><span class="nb">assert</span> (p = (<span class="kr">fun</span> <span class="nv">i</span> =&gt; qglue (p&#39; i))) <span class="kr">as</span> pE.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="choice-v-chk82" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br><span><var>pE</var><span class="hyp-type"><b>: </b><span>p = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i))</span></span></span><br></div><label class="goal-separator" for="choice-v-chk82"><hr></label><div class="goal-conclusion">(transport P
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>;
transportD P
  (<span class="kr">fun</span> (<span class="nv">x</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x / R x) (<span class="nv">y</span> : P x) =&gt;
   merely
     {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
     {q : x = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
     <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
     (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
     transport P (qglue_forall f f&#39; r)
       (transport P q y) = 
     a f&#39;}})
  (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">2</span>).<span class="mi">1</span> = 
a f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk83">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk84">funext x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p x = qglue (p&#39; x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> hset_path2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk85">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br><span><var>pE</var><span class="hyp-type"><b>: </b><span>p = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport P
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>;
transportD P
  (<span class="kr">fun</span> (<span class="nv">x</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x / R x) (<span class="nv">y</span> : P x) =&gt;
   merely
     {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
     {q : x = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
     <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
     (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
     transport P (qglue_forall f f&#39; r)
       (transport P q y) = a f&#39;}})
  (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) p)
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">2</span>).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk86"><span class="nb">rewrite</span> pE.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i) -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i / R i, IsHSet (P g)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
P (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
(<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
transport P (qglue_forall f f&#39; r) (a f) = a f&#39;</span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, A x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I,
class_of (R x) (f&#39; x) = class_of (R x) (f x)</span></span></span><br><span><var>p'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : I =&gt;
related_quotient_paths (R x) (f&#39; x) (f x) (p x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : I, R x (f&#39; x) (f x)</span></span></span></span><br><span><var>pE</var><span class="hyp-type"><b>: </b><span>p = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport P
   (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))
      (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i)))
   (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>;
transportD P
  (<span class="kr">fun</span> (<span class="nv">x</span> : <span class="kr">forall</span> <span class="nv">x</span> : I, A x / R x) (<span class="nv">y</span> : P x) =&gt;
   merely
     {f : <span class="kr">forall</span> <span class="nv">i</span> : I, A i &amp;
     {q : x = (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) &amp;
     <span class="kr">forall</span> (<span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i)
     (<span class="nv">r</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)),
     transport P (qglue_forall f f&#39; r)
       (transport P q y) = a f&#39;}})
  (path_forall (<span class="kr">fun</span> <span class="nv">x</span> : I =&gt; class_of (R x) (f&#39; x))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i))
     (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; qglue (p&#39; i)))
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">1</span>
  (a f&#39;; tr (f&#39;; <span class="mi">1</span>; E f&#39;)).<span class="mi">2</span>).<span class="mi">1</span> = a f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The &quot;beta-rule&quot; of [choose_quotient_rec]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk87"><span class="kn">Lemma</span> <span class="nf">choose_quotient_rec_compute</span>
    {<span class="nv">B</span> : <span class="kt">Type</span>} `{!IsHSet B} (a : (<span class="kr">forall</span> <span class="nv">i</span>, A i) -&gt; B)
    (E : <span class="kr">forall</span> (<span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span>, A i),
         (<span class="kr">forall</span> <span class="nv">i</span>, R i (f i) (f&#39; i)) -&gt; a f = a f&#39;)
    (f : <span class="kr">forall</span> <span class="nv">i</span>, A i)
    : choose_quotient_rec a E (<span class="kr">fun</span> <span class="nv">i</span> =&gt; class_of (R i) (f i)) = a f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i) -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
(<span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)) -&gt; a f = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">choose_quotient_rec a E
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="choice-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="choice-v-chk88"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>HasTrChoice0</var><span class="hyp-type"><b>: </b><span>HasTrChoice <span class="mi">0</span> I</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>I -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsHSet (A i)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Relation (A i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : I) (<span class="nv">x</span> <span class="nv">y</span> : A i), IsHProp (R i x y)</span></span></span><br><span><var>rR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Reflexive (R i)</span></span></span><br><span><var>sR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Symmetric (R i)</span></span></span><br><span><var>tR</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, Transitive (R i)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsHSet0</var><span class="hyp-type"><b>: </b><span>IsHSet B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">i</span> : I, A i) -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">f</span> <span class="nv">f&#39;</span> : <span class="kr">forall</span> <span class="nv">i</span> : I, A i,
(<span class="kr">forall</span> <span class="nv">i</span> : I, R i (f i) (f&#39; i)) -&gt; a f = a f&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, A i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">choose_quotient_rec a E
  (<span class="kr">fun</span> <span class="nv">i</span> : I =&gt; class_of (R i) (f i)) = a f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (choose_quotient_ind_compute (<span class="kr">fun</span> <span class="nv">_</span> =&gt; B)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">choose_quotient_ind</span>.</span></span></pre>
</div>
</div></body>
</html>
