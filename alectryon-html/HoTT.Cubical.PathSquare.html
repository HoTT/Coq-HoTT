<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>PathSquare.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk0"><span class="kn">From</span> HoTT <span class="kn">Require Import</span> Basics.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Types.Paths Types.Prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> DPath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> square_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> square_scope <span class="kr">with</span> square.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Unset Elimination Schemes</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Homogeneous squares *)</span>

<span class="c">(* </span>
<span class="c">        x00 ----pi0---- x01</span>
<span class="c">         |               |</span>
<span class="c">         |               |</span>
<span class="c">        p0i     ==&gt;     p1i</span>
<span class="c">         |               |</span>
<span class="c">         |               |</span>
<span class="c">        x01-----pi1-----x11</span>
<span class="c"> *)</span>

<span class="sd">(** Contents:</span>

<span class="sd">  * Definition of [PathSquare]</span>
<span class="sd">  * Degenerate [PathSquare]s as paths between paths</span>
<span class="sd">  * Flipping squares horizontally and vertically</span>
<span class="sd">  * [PathSquare] transpose</span>
<span class="sd">  * [PathSquare] inverse</span>
<span class="sd">  * [PathSquare] rotations</span>
<span class="sd">  * Edge rewriting</span>
<span class="sd">  * Concatenation</span>
<span class="sd">  * Kan fillers</span>
<span class="sd">  * natural squares from [ap]</span>

<span class="sd">*)</span>

<span class="sd">(** Definition of [PathSquare] *)</span>
<span class="sd">(** [PathSquare] left right up down *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Cumulative</span> <span class="kn">Inductive</span> <span class="nf">PathSquare</span> {<span class="nv">A</span>} : <span class="kr">forall</span> <span class="nv">a00</span> {<span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A},
  a00 = a10 -&gt; a01 = a11 -&gt; a00 = a01 -&gt; a10 = a11 -&gt; <span class="kt">Type</span>
  := sq_id : <span class="kr">forall</span> {<span class="nv">x</span> : A},
    PathSquare x <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> sq_id {A x}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> PathSquare {A _ _ _ _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;1&quot;</span> := sq_id : square_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* TODO: &quot;: rename&quot; is needed because the default names changed in Rocq 9.2.0.  When the minimum supported version is &gt;= 9.2.0, the &quot;: rename&quot; can be removed. *)</span>
<span class="c">(* register=no: otherwise the scheme confuses the make_equiv tactic. When the minimum supported version is &gt;= 9.2.0, the warning can be re-enabled. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input">#[warnings=<span class="s2">&quot;-unsupported-attributes&quot;</span>,register=no] <span class="kn">Scheme</span> <span class="nf">PathSquare_ind</span> := <span class="kn">Induction for</span> PathSquare <span class="kn">Sort</span> <span class="kt">Type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> PathSquare_ind {A} P f {_ _ _ _ _ _ _ _} _ : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[warnings=<span class="s2">&quot;-unsupported-attributes&quot;</span>,register=no] <span class="kn">Scheme</span> <span class="nf">PathSquare_rec</span> := <span class="kn">Minimality for</span> PathSquare <span class="kn">Sort</span> <span class="kt">Type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> PathSquare_rec {A} P f {_ _ _ _ _ _ _ _} _ : <span class="nb">rename</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare_ind] is an equivalence, similar to how [paths_ind] is *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1"><span class="kn">Instance</span> <span class="nf">isequiv_PathSquare_ind</span> `{Funext} {A}
  (P : <span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10) (<span class="nv">p0</span> : a01 = a11)
    (<span class="nv">p1</span> : a00 = a01) (<span class="nv">p2</span> : a10 = a11),
    PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span>) : IsEquiv (PathSquare_ind P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (PathSquare_ind P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (PathSquare_ind P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3">srapply isequiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
 (<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01) (<span class="nv">p2</span> : a10 = a11)
 (<span class="nv">p3</span> : PathSquare p p0 p1 p2),
 P a00 a10 a01 a11 p p0 p1 p2 p3) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : A, P x x x x <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk4"><hr></label><div class="goal-conclusion">PathSquare_ind P o <span class="nl">?g</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk5"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o PathSquare_ind P == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6"><span class="mi">1</span>: <span class="nb">intros</span> X ?; <span class="nb">apply</span> X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare_ind P
o (<span class="kr">fun</span>
     (<span class="nv">X</span> : <span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
          (<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
          (<span class="nv">p2</span> : a10 = a11)
          (<span class="nv">p3</span> : PathSquare p p0 p1 p2),
          P a00 a10 a01 a11 p p0 p1 p2 p3) (<span class="nv">x</span> : A) =&gt;
   X x x x x <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) == idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk7"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span>
   (<span class="nv">X</span> : <span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
        (<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
        (<span class="nv">p2</span> : a10 = a11) (<span class="nv">p3</span> : PathSquare p p0 p1 p2),
        P a00 a10 a01 a11 p p0 p1 p2 p3) (<span class="nv">x</span> : A) =&gt;
 X x x x x <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) o PathSquare_ind P ==
idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8"><span class="mi">2</span>: <span class="nb">intro</span>; <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare_ind P
o (<span class="kr">fun</span>
     (<span class="nv">X</span> : <span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
          (<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
          (<span class="nv">p2</span> : a10 = a11)
          (<span class="nv">p3</span> : PathSquare p p0 p1 p2),
          P a00 a10 a01 a11 p p0 p1 p2 p3) (<span class="nv">x</span> : A) =&gt;
   X x x x x <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01) (<span class="nv">p2</span> : a10 = a11)
(<span class="nv">p3</span> : PathSquare p p0 p1 p2),
P a00 a10 a01 a11 p p0 p1 p2 p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">@PathSquare_ind A P
  (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; x x0 x0 x0 x0 <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka"><span class="kp">do</span> <span class="mi">8</span> (<span class="nb">apply</span> path_forall; <span class="nb">intro</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01) (<span class="nv">p2</span> : a10 = a11)
(<span class="nv">p3</span> : PathSquare p p0 p1 p2),
P a00 a10 a01 a11 p p0 p1 p2 p3</span></span></span><br><span><var>x0, x1, x2, x3</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x4</var><span class="hyp-type"><b>: </b><span>x0 = x1</span></span></span><br><span><var>x5</var><span class="hyp-type"><b>: </b><span>x2 = x3</span></span></span><br><span><var>x6</var><span class="hyp-type"><b>: </b><span>x0 = x2</span></span></span><br><span><var>x7</var><span class="hyp-type"><b>: </b><span>x1 = x3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare_ind P
  (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; x x0 x0 x0 x0 <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) =
x x0 x1 x2 x3 x4 x5 x6 x7</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb"><span class="nb">apply</span> path_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01)
(<span class="nv">p2</span> : a10 = a11), PathSquare p p0 p1 p2 -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A) (<span class="nv">p</span> : a00 = a10)
(<span class="nv">p0</span> : a01 = a11) (<span class="nv">p1</span> : a00 = a01) (<span class="nv">p2</span> : a10 = a11)
(<span class="nv">p3</span> : PathSquare p p0 p1 p2),
P a00 a10 a01 a11 p p0 p1 p2 p3</span></span></span><br><span><var>x0, x1, x2, x3</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x4</var><span class="hyp-type"><b>: </b><span>x0 = x1</span></span></span><br><span><var>x5</var><span class="hyp-type"><b>: </b><span>x2 = x3</span></span></span><br><span><var>x6</var><span class="hyp-type"><b>: </b><span>x0 = x2</span></span></span><br><span><var>x7</var><span class="hyp-type"><b>: </b><span>x1 = x3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare_ind P
  (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; x x0 x0 x0 x0 <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>%square) ==
x x0 x1 x2 x3 x4 x5 x6 x7</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare]s can be given by 2-dimensional paths *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkc"><span class="kn">Definition</span> <span class="nf">equiv_sq_path</span> {<span class="nv">A</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11}
  {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : px0 @ p1x = p0x @ px1 &lt;~&gt; PathSquare px0 px1 p0x p1x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ p1x = p0x @ px1 &lt;~&gt; PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ p1x = p0x @ px1 &lt;~&gt; PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chke">snapply Build_Equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ p1x = p0x @ px1 -&gt; PathSquare px0 px1 p0x p1x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chkf"><hr></label><div class="goal-conclusion">IsEquiv <span class="nl">?equiv_fun</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk10">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ p1x = p0x @ px1 -&gt; PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk11"><span class="nb">destruct</span> p0x, p1x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1 -&gt; PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk12"><span class="nb">intro</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk13"><span class="nb">generalize</span> (e @ concat_1p _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ <span class="mi">1</span> = px1 -&gt; PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk14"><span class="nb">intro</span> e&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk15"><span class="nb">destruct</span> e&#39;, px0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare <span class="mi">1</span> (<span class="mi">1</span> @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_id.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk16">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv
  (<span class="kr">match</span>
     p0x <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
     <span class="kr">return</span>
       (<span class="kr">forall</span> <span class="nv">px1</span> : a = a11,
        px0 @ p1x = p @ px1 -&gt;
        PathSquare px0 px1 p p1x)
   <span class="kr">with</span>
   | <span class="mi">1</span> =&gt;
       <span class="kr">fun</span> <span class="nv">px1</span> : a00 = a11 =&gt;
       <span class="kr">match</span>
         p1x <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
         <span class="kr">return</span>
           (<span class="kr">forall</span> <span class="nv">px2</span> : a00 = a,
            px0 @ p = <span class="mi">1</span> @ px2 -&gt;
            PathSquare px0 px2 <span class="mi">1</span> p)
       <span class="kr">with</span>
       | <span class="mi">1</span> =&gt;
           <span class="kr">fun</span> (<span class="nv">px2</span> : a00 = a10)
             (<span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px2) =&gt;
           (<span class="kr">fun</span> <span class="nv">e&#39;</span> : px0 @ <span class="mi">1</span> = px2 =&gt;
            <span class="kr">match</span>
              e&#39; <span class="kr">in</span> (_ = p)
              <span class="kr">return</span>
                (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt;
                 PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
            <span class="kr">with</span>
            | <span class="mi">1</span> =&gt;
                <span class="kr">fun</span> <span class="nv">e0</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
                <span class="kr">match</span>
                  px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
                  <span class="kr">return</span>
                    (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (...) -&gt;
                     PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
                <span class="kr">with</span>
                | <span class="mi">1</span> =&gt;
                    <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt;
                    <span class="mi">1</span>%square
                <span class="kr">end</span> e0
            <span class="kr">end</span> e) (e @ concat_1p px2)
       <span class="kr">end</span> px1
   <span class="kr">end</span> px1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk17">srapply isequiv_adjointify; <span class="kp">try</span> <span class="bp">by</span> <span class="nb">intros</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">X</span> : PathSquare px0 px1 p0x p1x =&gt;
 <span class="kr">match</span>
   X <span class="kr">in</span> (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
   <span class="kr">return</span> (p @ p2 = p1 @ p0)
 <span class="kr">with</span>
 | @sq_id _ x =&gt; (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; <span class="mi">1</span>) x
 <span class="kr">end</span>)
o <span class="kr">match</span>
    p0x <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
    <span class="kr">return</span>
      (<span class="kr">forall</span> <span class="nv">px1</span> : a = a11,
       px0 @ p1x = p @ px1 -&gt; PathSquare px0 px1 p p1x)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt;
      <span class="kr">fun</span> <span class="nv">px1</span> : a00 = a11 =&gt;
      <span class="kr">match</span>
        p1x <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
        <span class="kr">return</span>
          (<span class="kr">forall</span> <span class="nv">px2</span> : a00 = a,
           px0 @ p = <span class="mi">1</span> @ px2 -&gt; PathSquare px0 px2 <span class="mi">1</span> p)
      <span class="kr">with</span>
      | <span class="mi">1</span> =&gt;
          <span class="kr">fun</span> (<span class="nv">px2</span> : a00 = a10)
            (<span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px2) =&gt;
          (<span class="kr">fun</span> <span class="nv">e&#39;</span> : px0 @ <span class="mi">1</span> = px2 =&gt;
           <span class="kr">match</span>
             e&#39; <span class="kr">in</span> (_ = p)
             <span class="kr">return</span>
               (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt;
                PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
           <span class="kr">with</span>
           | <span class="mi">1</span> =&gt;
               <span class="kr">fun</span> <span class="nv">e0</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
               <span class="kr">match</span>
                 px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
                 <span class="kr">return</span>
                   (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (...) -&gt;
                    PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
               <span class="kr">with</span>
               | <span class="mi">1</span> =&gt;
                   <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt;
                   <span class="mi">1</span>%square
               <span class="kr">end</span> e0
           <span class="kr">end</span> e) (e @ concat_1p px2)
      <span class="kr">end</span> px1
  <span class="kr">end</span> px1 == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk18"><span class="nb">destruct</span> p0x, p1x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1 =&gt;
 <span class="kr">match</span>
   <span class="kr">match</span>
     x @ concat_1p px1 <span class="kr">in</span> (_ = p)
     <span class="kr">return</span> (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
   <span class="kr">with</span>
   | <span class="mi">1</span> =&gt;
       <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
       <span class="kr">match</span>
         px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
         <span class="kr">return</span>
           (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (p @ <span class="mi">1</span>) -&gt;
            PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
       <span class="kr">with</span>
       | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
       <span class="kr">end</span> e
   <span class="kr">end</span> x <span class="kr">in</span> (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
   <span class="kr">return</span> (p @ p2 = p1 @ p0)
 <span class="kr">with</span>
 | @sq_id _ x0 =&gt; <span class="mi">1</span>
 <span class="kr">end</span>) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk19"><span class="nb">intros</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  <span class="kr">match</span>
    e @ concat_1p px1 <span class="kr">in</span> (_ = p)
    <span class="kr">return</span> (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt;
      <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
      <span class="kr">match</span>
        px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
        <span class="kr">return</span>
          (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (p @ <span class="mi">1</span>) -&gt;
           PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
      <span class="kr">with</span>
      | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
      <span class="kr">end</span> e
  <span class="kr">end</span> e <span class="kr">in</span> (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
  <span class="kr">return</span> (p @ p2 = p1 @ p0)
<span class="kr">with</span>
| @sq_id _ x =&gt; <span class="mi">1</span>
<span class="kr">end</span> = e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1a"><span class="nb">pattern</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">p</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1 =&gt;
 <span class="kr">match</span>
   <span class="kr">match</span>
     p @ concat_1p px1 <span class="kr">in</span> (_ = p0)
     <span class="kr">return</span>
       (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p0 -&gt; PathSquare px0 p0 <span class="mi">1</span> <span class="mi">1</span>)
   <span class="kr">with</span>
   | <span class="mi">1</span> =&gt;
       <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
       <span class="kr">match</span>
         px0 <span class="kr">as</span> p0 <span class="kr">in</span> (_ = a)
         <span class="kr">return</span>
           (p0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (p0 @ <span class="mi">1</span>) -&gt;
            PathSquare p0 (p0 @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
       <span class="kr">with</span>
       | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
       <span class="kr">end</span> e
   <span class="kr">end</span> p <span class="kr">in</span>
   (@PathSquare _ a00 a10 a01 a11 p0 p1 p2 p3)
   <span class="kr">return</span> (p0 @ p3 = p2 @ p1)
 <span class="kr">with</span>
 | @sq_id _ x =&gt; <span class="mi">1</span>
 <span class="kr">end</span> = p) e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1b"><span class="nb">pose</span> (e&#39; := e @ concat_1p _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">p</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1 =&gt;
 <span class="kr">match</span>
   <span class="kr">match</span>
     p @ concat_1p px1 <span class="kr">in</span> (_ = p0)
     <span class="kr">return</span>
       (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p0 -&gt; PathSquare px0 p0 <span class="mi">1</span> <span class="mi">1</span>)
   <span class="kr">with</span>
   | <span class="mi">1</span> =&gt;
       <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
       <span class="kr">match</span>
         px0 <span class="kr">as</span> p0 <span class="kr">in</span> (_ = a)
         <span class="kr">return</span>
           (p0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (p0 @ <span class="mi">1</span>) -&gt;
            PathSquare p0 (p0 @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
       <span class="kr">with</span>
       | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
       <span class="kr">end</span> e
   <span class="kr">end</span> p <span class="kr">in</span>
   (@PathSquare _ a00 a10 a01 a11 p0 p1 p2 p3)
   <span class="kr">return</span> (p0 @ p3 = p2 @ p1)
 <span class="kr">with</span>
 | @sq_id _ x =&gt; <span class="mi">1</span>
 <span class="kr">end</span> = p) e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1c"><span class="nb">pose</span> (e&#39;&#39; := e&#39; @ (concat_1p _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">p</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1 =&gt;
 <span class="kr">match</span>
   <span class="kr">match</span>
     p @ concat_1p px1 <span class="kr">in</span> (_ = p0)
     <span class="kr">return</span>
       (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p0 -&gt; PathSquare px0 p0 <span class="mi">1</span> <span class="mi">1</span>)
   <span class="kr">with</span>
   | <span class="mi">1</span> =&gt;
       <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
       <span class="kr">match</span>
         px0 <span class="kr">as</span> p0 <span class="kr">in</span> (_ = a)
         <span class="kr">return</span>
           (p0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (p0 @ <span class="mi">1</span>) -&gt;
            PathSquare p0 (p0 @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
       <span class="kr">with</span>
       | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
       <span class="kr">end</span> e
   <span class="kr">end</span> p <span class="kr">in</span>
   (@PathSquare _ a00 a10 a01 a11 p0 p1 p2 p3)
   <span class="kr">return</span> (p0 @ p3 = p2 @ p1)
 <span class="kr">with</span>
 | @sq_id _ x =&gt; <span class="mi">1</span>
 <span class="kr">end</span> = p) e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1d"><span class="nb">refine</span> (@transport _ _ e&#39;&#39; e _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e&#39;&#39; = e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk1e"><hr></label><div class="goal-conclusion"><span class="kr">match</span>
  <span class="kr">match</span>
    e&#39;&#39; @ concat_1p px1 <span class="kr">in</span> (_ = p)
    <span class="kr">return</span> (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt;
      <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
      <span class="kr">match</span>
        px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
        <span class="kr">return</span>
          (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (p @ <span class="mi">1</span>) -&gt;
           PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
      <span class="kr">with</span>
      | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
      <span class="kr">end</span> e
  <span class="kr">end</span> e&#39;&#39; <span class="kr">in</span>
  (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
  <span class="kr">return</span> (p @ p2 = p1 @ p0)
<span class="kr">with</span>
| @sq_id _ x =&gt; <span class="mi">1</span>
<span class="kr">end</span> = e&#39;&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e&#39;&#39; = e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">subst</span> e&#39; e&#39;&#39;; hott_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk20">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span><br><span><var>e'</var><span><span class="hyp-body"><b>:= </b><span>e @ concat_1p px1</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  <span class="kr">match</span>
    e&#39;&#39; @ concat_1p px1 <span class="kr">in</span> (_ = p)
    <span class="kr">return</span> (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt;
      <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
      <span class="kr">match</span>
        px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
        <span class="kr">return</span>
          (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (p @ <span class="mi">1</span>) -&gt;
           PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
      <span class="kr">with</span>
      | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
      <span class="kr">end</span> e
  <span class="kr">end</span> e&#39;&#39; <span class="kr">in</span>
  (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
  <span class="kr">return</span> (p @ p2 = p1 @ p0)
<span class="kr">with</span>
| @sq_id _ x =&gt; <span class="mi">1</span>
<span class="kr">end</span> = e&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk21"><span class="nb">clearbody</span> e&#39;; <span class="nb">clear</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = px1</span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span>e&#39; @ (concat_1p px1)^</span></span><span class="hyp-type"><b>: </b><span>px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ px1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  <span class="kr">match</span>
    e&#39;&#39; @ concat_1p px1 <span class="kr">in</span> (_ = p)
    <span class="kr">return</span> (px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare px0 p <span class="mi">1</span> <span class="mi">1</span>)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt;
      <span class="kr">fun</span> <span class="nv">e</span> : px0 @ <span class="mi">1</span> = <span class="mi">1</span> @ (px0 @ <span class="mi">1</span>) =&gt;
      <span class="kr">match</span>
        px0 <span class="kr">as</span> p <span class="kr">in</span> (_ = a)
        <span class="kr">return</span>
          (p @ <span class="mi">1</span> = <span class="mi">1</span> @ (p @ <span class="mi">1</span>) -&gt;
           PathSquare p (p @ <span class="mi">1</span>) <span class="mi">1</span> <span class="mi">1</span>)
      <span class="kr">with</span>
      | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
      <span class="kr">end</span> e
  <span class="kr">end</span> e&#39;&#39; <span class="kr">in</span>
  (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
  <span class="kr">return</span> (p @ p2 = p1 @ p0)
<span class="kr">with</span>
| @sq_id _ x =&gt; <span class="mi">1</span>
<span class="kr">end</span> = e&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk22"><span class="nb">destruct</span> e&#39;, px0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e''</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">1</span> @ (concat_1p (<span class="mi">1</span> @ <span class="mi">1</span>))^</span></span><span class="hyp-type"><b>: </b><span><span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  <span class="kr">match</span>
    e&#39;&#39; @ concat_1p (<span class="mi">1</span> @ <span class="mi">1</span>) <span class="kr">in</span> (_ = p)
    <span class="kr">return</span> (<span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ p -&gt; PathSquare <span class="mi">1</span> p <span class="mi">1</span> <span class="mi">1</span>)
  <span class="kr">with</span>
  | <span class="mi">1</span> =&gt; <span class="kr">fun</span> <span class="nv">_</span> : <span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ (<span class="mi">1</span> @ <span class="mi">1</span>) =&gt; <span class="mi">1</span>%square
  <span class="kr">end</span> e&#39;&#39; <span class="kr">in</span>
  (@PathSquare _ a00 a10 a01 a11 p p0 p1 p2)
  <span class="kr">return</span> (p @ p2 = p1 @ p0)
<span class="kr">with</span>
| @sq_id _ x =&gt; <span class="mi">1</span>
<span class="kr">end</span> = e&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_path</span> := equiv_sq_path.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Squares in (n+2)-truncated types are n-truncated *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk23"><span class="kn">Instance</span> <span class="nf">istrunc_sq</span> <span class="nv">n</span>
  {<span class="nv">A</span>} `{!IsTrunc n.+<span class="mi">2</span> A} {a00 a10 a01 a11 : A}
  {px0 : a00 = a10} {px1 : a01 = a11}
  {p0x : a00 = a01} {p1x : a10 = a11}
  : IsTrunc n (PathSquare px0 px1 p0x p1x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsTrunc0</var><span class="hyp-type"><b>: </b><span>IsTrunc n.+<span class="mi">2</span> A</span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (PathSquare px0 px1 p0x p1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsTrunc0</var><span class="hyp-type"><b>: </b><span>IsTrunc n.+<span class="mi">2</span> A</span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (PathSquare px0 px1 p0x p1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (istrunc_equiv_istrunc _ sq_path).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* We can give degenerate squares *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">PathSquaresFromPaths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> : A}
    {<span class="nv">p</span> <span class="nv">p&#39;</span> : a00 = a10} {<span class="nv">q</span> <span class="nv">q&#39;</span> : a00 = a01}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_G1</span>  : p = p&#39; &lt;~&gt; PathSquare p p&#39; <span class="mi">1</span> <span class="mi">1</span>
    := sq_path oE equiv_p1_1q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_1G</span> : q = q&#39; &lt;~&gt; PathSquare <span class="mi">1</span> <span class="mi">1</span> q q&#39;
    := sq_path oE equiv_1p_q1 oE equiv_path_inverse _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">PathSquaresFromPaths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_G1</span> := equiv_sq_G1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_1G</span> := equiv_sq_1G.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> equiv_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare] horizontal reflexivity *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sq_refl_h</span> {<span class="nv">A</span>} {<span class="nv">a0</span> <span class="nv">a1</span> : A} (<span class="nv">p</span> : a0 = a1)
  : PathSquare p p <span class="mi">1</span> <span class="mi">1</span> := sq_G1 <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare] vertical reflexivity *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sq_refl_v</span> {<span class="nv">A</span>} {<span class="nv">a0</span> <span class="nv">a1</span> : A} (<span class="nv">p</span> : a0 = a1)
  : PathSquare <span class="mi">1</span> <span class="mi">1</span> p p := sq_1G <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Horizontal flip *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk25"><span class="kn">Definition</span> <span class="nf">equiv_sq_flip_h</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare px1 px0 p0x^ p1x^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px1 px0 p0x^ p1x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px1 px0 p0x^ p1x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk27"><span class="nb">destruct</span> p0x, p1x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span> &lt;~&gt; PathSquare px1 px0 <span class="mi">1</span>^ <span class="mi">1</span>^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk28"><span class="nb">refine</span> (sq_G1 oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span> &lt;~&gt; px1 = px0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk29"><span class="nb">refine</span> (equiv_path_inverse _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0, px1</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 <span class="mi">1</span> <span class="mi">1</span> &lt;~&gt; px0 = px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_G1^-<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_flip_h</span> := equiv_sq_flip_h.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Vertical flip *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2a"><span class="kn">Definition</span> <span class="nf">equiv_sq_flip_v</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare px0^ px1^ p1x p0x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px0^ px1^ p1x p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px0^ px1^ p1x p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2c"><span class="nb">destruct</span> px0, px1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x, p1x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare <span class="mi">1</span> <span class="mi">1</span> p0x p1x &lt;~&gt; PathSquare <span class="mi">1</span>^ <span class="mi">1</span>^ p1x p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2d"><span class="nb">refine</span> (sq_1G oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x, p1x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare <span class="mi">1</span> <span class="mi">1</span> p0x p1x &lt;~&gt; p1x = p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2e"><span class="nb">refine</span> (equiv_path_inverse _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x, p1x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare <span class="mi">1</span> <span class="mi">1</span> p0x p1x &lt;~&gt; p0x = p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_1G^-<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_flip_v</span> := equiv_sq_flip_v.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Transpose of a square *)</span>

<span class="sd">(** We make a local definition that will never get unfolded *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk2f"><span class="kn">Local Definition</span> <span class="nf">tr</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare p0x p1x px0 px1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare p0x p1x px0 px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare p0x p1x px0 px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> tr : <span class="nb">simpl</span> never.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk31"><span class="kn">Definition</span> <span class="nf">equiv_sq_tr</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare p0x p1x px0 px1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare p0x p1x px0 px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk32"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare p0x p1x px0 px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk33">srapply (equiv_adjointify tr tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr o tr == idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk34"><hr></label><div class="goal-conclusion">tr o tr == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_tr</span> := equiv_sq_tr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* NOTE: sq_tr ought to be some sort of involution but it obviously isn&#39;t</span>
<span class="c">   since it is not of the form A -&gt; A. Perhaps there is a more general</span>
<span class="c">   &quot;involution&quot; but between equivalent types? But then that very equivalence</span>
<span class="c">   is given by sq_tr so it seems a bit circular... *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk35"><span class="kn">Definition</span> <span class="nf">sq_tr_refl_h</span> {<span class="nv">A</span>} {<span class="nv">a</span> <span class="nv">b</span> : A} {<span class="nv">p</span> : a = b}
  : sq_tr (sq_refl_h p) = sq_refl_v p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_tr (sq_refl_h p) = sq_refl_v p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_tr (sq_refl_h p) = sq_refl_v p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk37"><span class="kn">Definition</span> <span class="nf">sq_tr_refl_v</span> {<span class="nv">A</span>} {<span class="nv">a</span> <span class="nv">b</span> : A} {<span class="nv">p</span> : a = b}
  : sq_tr (sq_refl_v p) = sq_refl_h p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_tr (sq_refl_v p) = sq_refl_h p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk38"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_tr (sq_refl_v p) = sq_refl_h p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Operations on squares *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">PathSquareOps</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">A</span> : <span class="kt">Type</span>}
    {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
    {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11}
    {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Inverse square *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk39"><span class="kn">Definition</span> <span class="nf">equiv_sq_V</span> : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare px1^ px0^ p1x^ p0x^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px1^ px0^ p1x^ p0x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px1^ px0^ p1x^ p0x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3b"><span class="nb">refine</span> (sq_path oE _ ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
px1^ @ p0x^ = p1x^ @ px0^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3c"><span class="nb">refine</span> (equiv_concat_lr (inv_pp _ _)^ (inv_pp _ _) oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
(p0x @ px1)^ = (px0 @ p1x)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3d"><span class="nb">refine</span> (equiv_ap _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt; p0x @ px1 = px0 @ p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3e"><span class="nb">refine</span> (sq_path^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare p0x p1x px0 px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_tr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Left rotation : left right top bottom  -&gt;  top bottom right left *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk3f"><span class="kn">Definition</span> <span class="nf">equiv_sq_rot_l</span> : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare p0x^ p1x^ px1 px0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare p0x^ p1x^ px1 px0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare p0x^ p1x^ px1 px0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk41"><span class="nb">refine</span> (sq_path oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt; p0x^ @ px0 = px1 @ p1x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk42"><span class="nb">refine</span> (equiv_moveR_Vp _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
px0 = p0x @ (px1 @ p1x^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk43"><span class="nb">refine</span> (equiv_concat_r (concat_pp_p _ _ _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
px0 = (p0x @ px1) @ p1x^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk44"><span class="nb">refine</span> (equiv_moveL_pV _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt; px0 @ p1x = p0x @ px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_path^-<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Right rotation : left right top bottom -&gt; bottom top left right *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk45"><span class="kn">Definition</span> <span class="nf">equiv_sq_rot_r</span> : PathSquare px0 px1 p0x p1x -&gt; PathSquare p1x p0x px0^ px1^.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare p1x p0x px0^ px1^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare p1x p0x px0^ px1^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk47"><span class="nb">refine</span> (sq_path oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt; p1x @ px1^ = px0^ @ p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk48"><span class="nb">refine</span> (equiv_moveL_Vp _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
px0 @ (p1x @ px1^) = p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk49"><span class="nb">refine</span> (equiv_concat_l (concat_p_pp _ _ _) _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
(px0 @ p1x) @ px1^ = p0x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4a"><span class="nb">refine</span> (equiv_moveR_pV _ _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt; px0 @ p1x = p0x @ px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_path^-<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">PathSquareOps</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_V</span> := equiv_sq_V.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_rot_l</span>:= equiv_sq_rot_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_rot_r</span> := equiv_sq_rot_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Lemmas for rewriting sides of squares *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">PathSquareRewriting</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>}
    {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
    {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11}
    {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* These are all special cases of the following &quot;rewrite all sides&quot;</span>
<span class="c">     lemma which we prove is an equivalence giving us all special cases</span>
<span class="c">     as equivalences too *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4b"><span class="kn">Definition</span> <span class="nf">equiv_sq_GGGG</span> {<span class="nv">px0&#39;</span> <span class="nv">px1&#39;</span> <span class="nv">p0x&#39;</span> <span class="nv">p1x&#39;</span>} (<span class="nv">qx0</span> : px0 = px0&#39;)
    (<span class="nv">qx1</span> : px1 = px1&#39;) (<span class="nv">q0x</span> : p0x = p0x&#39;) (<span class="nv">q1x</span> : p1x = p1x&#39;)
    : PathSquare px0 px1 p0x p1x &lt;~&gt; PathSquare px0&#39; px1&#39; p0x&#39; p1x&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x'</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x'</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>px0 = px0&#39;</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>px1 = px1&#39;</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>p0x = p0x&#39;</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>p1x = p1x&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px0&#39; px1&#39; p0x&#39; p1x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x'</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x'</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>px0 = px0&#39;</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>px1 = px1&#39;</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>p0x = p0x&#39;</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>p1x = p1x&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x &lt;~&gt;
PathSquare px0&#39; px1&#39; p0x&#39; p1x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> qx0, qx1, q0x, q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">px0&#39;</span> <span class="nv">px1&#39;</span> <span class="nv">p0x&#39;</span> <span class="nv">p1x&#39;</span>}
    (<span class="nv">qx0</span> : px0 = px0&#39;) (<span class="nv">qx1</span> : px1 = px1&#39;)
    (<span class="nv">q0x</span> : p0x = p0x&#39;) (<span class="nv">q1x</span> : p1x = p1x&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_Gccc</span> := equiv_sq_GGGG qx0 <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_cGcc</span> := equiv_sq_GGGG <span class="mi">1</span> qx1 <span class="mi">1</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_ccGc</span> := equiv_sq_GGGG <span class="mi">1</span> <span class="mi">1</span> q0x <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_cccG</span> := equiv_sq_GGGG <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_GGcc</span> := equiv_sq_GGGG qx0 qx1 <span class="mi">1</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_GcGc</span> := equiv_sq_GGGG qx0 <span class="mi">1</span> q0x <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_GccG</span> := equiv_sq_GGGG qx0 <span class="mi">1</span> <span class="mi">1</span> q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_cGGc</span> := equiv_sq_GGGG <span class="mi">1</span> qx1 q0x <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_cGcG</span> := equiv_sq_GGGG <span class="mi">1</span> qx1 <span class="mi">1</span> q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_ccGG</span> := equiv_sq_GGGG <span class="mi">1</span> <span class="mi">1</span> q0x q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_GGGc</span> := equiv_sq_GGGG qx0 qx1 q0x <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_sq_cGGG</span> := equiv_sq_GGGG <span class="mi">1</span> qx1 q0x q1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">PathSquareRewriting</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_GGGG</span> := equiv_sq_GGGG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_Gccc</span> := equiv_sq_Gccc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_cGcc</span> := equiv_sq_cGcc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_ccGc</span> := equiv_sq_ccGc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_cccG</span> := equiv_sq_cccG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_GGcc</span> := equiv_sq_GGcc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_GcGc</span> := equiv_sq_GcGc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_GccG</span> := equiv_sq_GccG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_cGGc</span> := equiv_sq_cGGc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_cGcG</span> := equiv_sq_cGcG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_ccGG</span> := equiv_sq_ccGG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_GGGc</span> := equiv_sq_GGGc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_cGGG</span> := equiv_sq_cGGG.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">MovePaths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">x</span> <span class="nv">x00</span> <span class="nv">x20</span> <span class="nv">x02</span> <span class="nv">x22</span> : A}
  {<span class="nv">f10</span> : x00 = x20} {<span class="nv">f12</span> : x02 = x22} {<span class="nv">f01</span> : x00 = x02} {<span class="nv">f21</span> : x20 = x22}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Operations to move paths around a square. We define all these operations immediately as equivalences. The naming first number indicates in which argument the path that moves is on the left of the equivalence, and the second number where it is on the right. The equivalences are all set up so that on the right, there is no path inversion. For the [24] and [13] equivalences there is a path inverse on the left. The corresponding equivalences [42] and [31] are the symmetric versions of these, but the path inverse is in another place. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4d"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_23</span> {<span class="nv">f12&#39;&#39;</span> : x02 = x} {<span class="nv">f12&#39;</span> : x = x22} 
    : PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21 &lt;~&gt; PathSquare f10 f12&#39; (f01 @ f12&#39;&#39;) f21.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39; (f01 @ f12&#39;&#39;) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39; (f01 @ f12&#39;&#39;) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk4f"><span class="nb">clear</span> f12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39; (f01 @ f12&#39;&#39;) f21</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk50"><span class="nb">destruct</span> f12&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (<span class="mi">1</span> @ f12&#39;) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39; (f01 @ <span class="mi">1</span>) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk51"><span class="nb">refine</span> (sq_cGcc (concat_1p _) oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (<span class="mi">1</span> @ f12&#39;) f01 f21 &lt;~&gt;
PathSquare f10 (<span class="mi">1</span> @ f12&#39;) (f01 @ <span class="mi">1</span>) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_ccGc (concat_p1 _)^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk52"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_14</span> {<span class="nv">f10&#39;&#39;</span> : x00 = x} {<span class="nv">f10&#39;</span> : x = x20} 
    : PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21 &lt;~&gt; PathSquare f10&#39;&#39; f12 f01 (f10&#39; @ f21).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39;&#39; f12 f01 (f10&#39; @ f21)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39;&#39; f12 f01 (f10&#39; @ f21)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk54"><span class="nb">clear</span> f10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39;&#39; f12 f01 (f10&#39; @ f21)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk55"><span class="nb">destruct</span> f10&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39; @ <span class="mi">1</span>) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39;&#39; f12 f01 (<span class="mi">1</span> @ f21)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk56"><span class="nb">refine</span> (sq_cccG (concat_1p _)^ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39; @ <span class="mi">1</span>) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39;&#39; f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_Gccc (concat_p1 _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk57"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_24</span> {<span class="nv">f12&#39;&#39;</span> : x02 = x} {<span class="nv">f12&#39;</span> : x22 = x} 
    : PathSquare f10 (f12&#39;&#39; @ f12&#39;^) f01 f21 &lt;~&gt; PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x22 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;^) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk58"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x22 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;^) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk59"><span class="nb">clear</span> f12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x22 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ f12&#39;^) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5a"><span class="nb">destruct</span> f12&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ <span class="mi">1</span>^) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 (f21 @ <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5b"><span class="nb">refine</span> (sq_cccG (concat_p1 _)^ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 (f12&#39;&#39; @ <span class="mi">1</span>^) f01 f21 &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_cGcc (concat_p1 _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5c"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_42</span> {<span class="nv">f12&#39;&#39;</span> : x02 = x} {<span class="nv">f12&#39;</span> : x = x22} 
    : PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;^) &lt;~&gt; PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;^) &lt;~&gt;
PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;^) &lt;~&gt;
PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5e"><span class="nb">clear</span> f12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br><span><var>f12'</var><span class="hyp-type"><b>: </b><span>x = x22</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 f12&#39;&#39; f01 (f21 @ f12&#39;^) &lt;~&gt;
PathSquare f10 (f12&#39;&#39; @ f12&#39;) f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk5f"><span class="nb">destruct</span> f12&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 f12&#39;&#39; f01 (f21 @ <span class="mi">1</span>^) &lt;~&gt;
PathSquare f10 (f12&#39;&#39; @ <span class="mi">1</span>) f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk60"><span class="nb">refine</span> (sq_cGcc (concat_p1 _)^ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x</span></span></span><br><span><var>f12''</var><span class="hyp-type"><b>: </b><span>x02 = x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10 f12&#39;&#39; f01 (f21 @ <span class="mi">1</span>^) &lt;~&gt;
PathSquare f10 f12&#39;&#39; f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_cccG (concat_p1 _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk61"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_13</span> {<span class="nv">f10&#39;&#39;</span> : x = x00} {<span class="nv">f10&#39;</span> : x = x20} 
    : PathSquare (f10&#39;&#39;^ @ f10&#39;) f12 f01 f21 &lt;~&gt; PathSquare f10&#39; f12 (f10&#39;&#39; @ f01) f21.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x = x00</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39;^ @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39; f12 (f10&#39;&#39; @ f01) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk62"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x = x00</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39;^ @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39; f12 (f10&#39;&#39; @ f01) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk63"><span class="nb">clear</span> f10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x = x00</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (f10&#39;&#39;^ @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39; f12 (f10&#39;&#39; @ f01) f21</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk64"><span class="nb">destruct</span> f10&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (<span class="mi">1</span>^ @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39; f12 (<span class="mi">1</span> @ f01) f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk65"><span class="nb">refine</span> (sq_ccGc (concat_1p _)^ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (<span class="mi">1</span>^ @ f10&#39;) f12 f01 f21 &lt;~&gt;
PathSquare f10&#39; f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_Gccc (concat_1p _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk66"><span class="kn">Definition</span> <span class="nf">equiv_sq_move_31</span> {<span class="nv">f10&#39;&#39;</span> : x00 = x} {<span class="nv">f10&#39;</span> : x = x20} 
    : PathSquare f10&#39; f12 (f10&#39;&#39;^ @ f01) f21 &lt;~&gt; PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10&#39; f12 (f10&#39;&#39;^ @ f01) f21 &lt;~&gt;
PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk67"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f10</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10&#39; f12 (f10&#39;&#39;^ @ f01) f21 &lt;~&gt;
PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk68"><span class="nb">clear</span> f10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x, x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10''</var><span class="hyp-type"><b>: </b><span>x00 = x</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10&#39; f12 (f10&#39;&#39;^ @ f01) f21 &lt;~&gt;
PathSquare (f10&#39;&#39; @ f10&#39;) f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk69"><span class="nb">destruct</span> f10&#39;&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10&#39; f12 (<span class="mi">1</span>^ @ f01) f21 &lt;~&gt;
PathSquare (<span class="mi">1</span> @ f10&#39;) f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6a"><span class="nb">refine</span> (sq_Gccc (concat_1p _)^ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x00, x20, x02, x22</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f12</var><span class="hyp-type"><b>: </b><span>x02 = x22</span></span></span><br><span><var>f01</var><span class="hyp-type"><b>: </b><span>x00 = x02</span></span></span><br><span><var>f21</var><span class="hyp-type"><b>: </b><span>x20 = x22</span></span></span><br><span><var>f10'</var><span class="hyp-type"><b>: </b><span>x00 = x20</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare f10&#39; f12 (<span class="mi">1</span>^ @ f01) f21 &lt;~&gt;
PathSquare f10&#39; f12 f01 f21</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_ccGc (concat_1p _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">MovePaths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_23</span> := equiv_sq_move_23.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_14</span> := equiv_sq_move_14.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_24</span> := equiv_sq_move_24.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_42</span> := equiv_sq_move_42.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_13</span> := equiv_sq_move_13.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_move_31</span> := equiv_sq_move_31.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Dependent path product definition of [PathSquare] CoqDoc *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6b"><span class="kn">Definition</span> <span class="nf">equiv_sq_dp_prod</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : DPath (<span class="kr">fun</span> <span class="nv">xy</span> =&gt; fst xy = snd xy) (path_prod&#39; p0x p1x) px0 px1
    &lt;~&gt; PathSquare px0 px1 p0x p1x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">xy</span> : A * A =&gt; fst xy = snd xy)
  (path_prod&#39; p0x p1x) px0 px1 &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">xy</span> : A * A =&gt; fst xy = snd xy)
  (path_prod&#39; p0x p1x) px0 px1 &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6d"><span class="nb">refine</span> (_ oE (dp_paths_FlFr _ _ _)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap fst (path_prod&#39; p0x p1x))^ @ px0) @
ap snd (path_prod&#39; p0x p1x) = px1 &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6e"><span class="nb">refine</span> (_ oE (equiv_concat_l (concat_pp_p _ _ _) _)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap fst (path_prod&#39; p0x p1x))^ @
(px0 @ ap snd (path_prod&#39; p0x p1x)) = px1 &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk6f"><span class="nb">refine</span> (_ oE equiv_moveL_Mp _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 @ ap snd (path_prod&#39; p0x p1x) =
ap fst (path_prod&#39; p0x p1x) @ px1 &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk70"><span class="nb">refine</span> (_ oE sq_path).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 (ap fst (path_prod&#39; p0x p1x))
  (ap snd (path_prod&#39; p0x p1x)) &lt;~&gt;
PathSquare px0 px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_ccGG (ap_fst_path_prod _ _) (ap_snd_path_prod _ _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_dp_prod</span> := equiv_sq_dp_prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Concatenation of squares *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">PathSquareConcat</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}
    {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11}
    {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Horizontal concatenation of squares *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk71"><span class="kn">Definition</span> <span class="nf">sq_concat_h</span>  {<span class="nv">a02</span> <span class="nv">a12</span> : A}
    {<span class="nv">p0y</span> : a01 = a02} {<span class="nv">p1y</span> : a11 = a12} {<span class="nv">px2</span> : a02 = a12}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare px1 px2 p0y p1y
      -&gt; PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a02, a12</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare px1 px2 p0y p1y -&gt;
PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk72"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a02, a12</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare px1 px2 p0y p1y -&gt;
PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk73"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a02, a12</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>PathSquare px1 px2 p0y p1y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px2 (p0x @ p0y) (p1x @ p1y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk74"><span class="nb">destruct</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = x</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 <span class="mi">1</span> p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 <span class="mi">1</span> (p0x @ <span class="mi">1</span>) (p1x @ <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk75"><span class="nb">refine</span> (sq_ccGG _ _ a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = x</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 <span class="mi">1</span> p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p0x = p0x @ <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk76" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = x</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 <span class="mi">1</span> p0x p1x</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk76"><hr></label><div class="goal-conclusion">p1x = p1x @ <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="nb">apply</span> inverse, concat_p1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;@@h&quot;</span> := sq_concat_h : square_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Vertical concatenation of squares *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk77"><span class="kn">Definition</span> <span class="nf">sq_concat_v</span> {<span class="nv">a20</span> <span class="nv">a21</span> : A}
    {<span class="nv">py0</span> : a10 = a20} {<span class="nv">py1</span> : a11 = a21} {<span class="nv">p2x</span> : a20 = a21}
    : PathSquare px0 px1 p0x p1x -&gt; PathSquare py0 py1 p1x p2x
      -&gt; PathSquare (px0 @ py0) (px1 @ py1) p0x p2x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a20, a21</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>py0</var><span class="hyp-type"><b>: </b><span>a10 = a20</span></span></span><br><span><var>py1</var><span class="hyp-type"><b>: </b><span>a11 = a21</span></span></span><br><span><var>p2x</var><span class="hyp-type"><b>: </b><span>a20 = a21</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare py0 py1 p1x p2x -&gt;
PathSquare (px0 @ py0) (px1 @ py1) p0x p2x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk78"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a20, a21</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>py0</var><span class="hyp-type"><b>: </b><span>a10 = a20</span></span></span><br><span><var>py1</var><span class="hyp-type"><b>: </b><span>a11 = a21</span></span></span><br><span><var>p2x</var><span class="hyp-type"><b>: </b><span>a20 = a21</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare py0 py1 p1x p2x -&gt;
PathSquare (px0 @ py0) (px1 @ py1) p0x p2x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk79"><span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>a20, a21</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>py0</var><span class="hyp-type"><b>: </b><span>a10 = a20</span></span></span><br><span><var>py1</var><span class="hyp-type"><b>: </b><span>a11 = a21</span></span></span><br><span><var>p2x</var><span class="hyp-type"><b>: </b><span>a20 = a21</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>PathSquare py0 py1 p1x p2x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (px0 @ py0) (px1 @ py1) p0x p2x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk7a"><span class="nb">destruct</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = x</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (px0 @ <span class="mi">1</span>) (px1 @ <span class="mi">1</span>) p0x <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk7b"><span class="nb">refine</span> (sq_GGcc _ _ a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = x</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 = px0 @ <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk7c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a01, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = x</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = x</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk7c"><hr></label><div class="goal-conclusion">px1 = px1 @ <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="nb">apply</span> inverse, concat_p1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;@@v&quot;</span> := sq_concat_v : square_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">PathSquareConcat</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Horizontal groupoid laws for concatenation *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">GroupoidLawsH</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* There are many more laws to write, but it seems we don&#39;t really need them *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">A</span> : <span class="kt">Type</span>}
    {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> <span class="nv">a02</span> <span class="nv">a12</span> <span class="nv">a20</span> <span class="nv">a21</span> <span class="nv">a03</span> <span class="nv">a13</span> : A} {<span class="nv">px0</span> : a00 = a10}
    {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
    {<span class="nv">px2</span> : a02 = a12} {<span class="nv">p0y</span> : a01 = a02} {<span class="nv">p1y</span> : a11 = a12}
    {<span class="nv">px3</span> : a03 = a13} {<span class="nv">p0z</span> : a02 = a03} {<span class="nv">p1z</span> : a12 = a13}
    (<span class="nv">s</span> : PathSquare px0 px1 p0x p1x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> square_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">hr</span> := (sq_refl_h _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk7d"><span class="kn">Definition</span> <span class="nf">sq_concat_h_s1</span> : sq_concat_h s hr = sq_ccGG (concat_p1 _)^ (concat_p1 _)^ s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h s hr =
sq_ccGG (concat_p1 p0x)^ (concat_p1 p1x)^ s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk7e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h s hr =
sq_ccGG (concat_p1 p0x)^ (concat_p1 p1x)^ s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk7f"><span class="kn">Definition</span> <span class="nf">sq_concat_h_1s</span> : sq_concat_h hr s = sq_ccGG (concat_1p _)^ (concat_1p _)^ s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h hr s =
sq_ccGG (concat_1p p0x)^ (concat_1p p1x)^ s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h hr s =
sq_ccGG (concat_1p p0x)^ (concat_1p p1x)^ s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">t</span> : PathSquare px1 px2 p0y p1y) (<span class="nv">u</span> : PathSquare px2 px3 p0z p1z).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk81"><span class="kn">Definition</span> <span class="nf">sq_concat_h_ss_s</span> : sq_concat_h (sq_concat_h s t) u
    = sq_ccGG (concat_p_pp _ _ _) (concat_p_pp _ _ _) (sq_concat_h s (sq_concat_h t u)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>PathSquare px1 px2 p0y p1y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>PathSquare px2 px3 p0z p1z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h (sq_concat_h s t) u =
sq_ccGG (concat_p_pp p0x p0y p0z)
  (concat_p_pp p1x p1y p1z)
  (sq_concat_h s (sq_concat_h t u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk82"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11, a02, a12, a20, a21, a03, a13</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px2</var><span class="hyp-type"><b>: </b><span>a02 = a12</span></span></span><br><span><var>p0y</var><span class="hyp-type"><b>: </b><span>a01 = a02</span></span></span><br><span><var>p1y</var><span class="hyp-type"><b>: </b><span>a11 = a12</span></span></span><br><span><var>px3</var><span class="hyp-type"><b>: </b><span>a03 = a13</span></span></span><br><span><var>p0z</var><span class="hyp-type"><b>: </b><span>a02 = a03</span></span></span><br><span><var>p1z</var><span class="hyp-type"><b>: </b><span>a12 = a13</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>PathSquare px1 px2 p0y p1y</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>PathSquare px2 px3 p0z p1z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_concat_h (sq_concat_h s t) u =
sq_ccGG (concat_p_pp p0x p0y p0z)
  (concat_p_pp p1x p1y p1z)
  (sq_concat_h s (sq_concat_h t u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> s, u, (sq_1G^-<span class="mi">1</span> t), p0y.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">GroupoidLawsH</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare] Kan fillers ~ Every open box has a lid *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Kan</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* These can be used to prove groupoid laws about paths *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk83"><span class="kn">Definition</span> <span class="nf">sq_fill_l</span> (<span class="nv">px1</span> : a01 = a11) (<span class="nv">p0x</span> : a00 = a01) (<span class="nv">p1x</span> : a10 = a11)
    : {px0 : a00 = a10 &amp; PathSquare px0 px1 p0x p1x}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{px0 : a00 = a10 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk84"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{px0 : a00 = a10 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk85"><span class="kr">exists</span> (<span class="nv">p0x</span> @ px1 @ p1x^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare ((p0x @ px1) @ p1x^) px1 p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> px1, p0x, p1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk86"><span class="kn">Definition</span> <span class="nf">sq_fill_l_uniq</span>
             {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
             {<span class="nv">px0</span> : a00 = a10} (<span class="nv">s</span> : PathSquare px0 px1 p0x p1x)
             {<span class="nv">px0&#39;</span> : a00 = a10} (<span class="nv">s&#39;</span> : PathSquare px0&#39; px1 p0x p1x)
    : px0 = px0&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare px0&#39; px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 = px0&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk87"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare px0&#39; px1 p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px0 = px0&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk88"><span class="nb">destruct</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare px0&#39; <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> = px0&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk89"><span class="nb">apply</span> sq_path^-<span class="mi">1</span> <span class="kr">in</span> s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0'</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>px0&#39; @ <span class="mi">1</span> = <span class="mi">1</span> @ <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> = px0&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (s&#39;^ @ concat_p1 _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8a"><span class="kn">Definition</span> <span class="nf">sq_fill_r</span> (<span class="nv">px0</span> : a00 = a10) (<span class="nv">p0x</span> : a00 = a01) (<span class="nv">p1x</span> : a10 = a11)
    : {px1 : a01 = a11 &amp; PathSquare px0 px1 p0x p1x}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{px1 : a01 = a11 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{px1 : a01 = a11 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8c"><span class="kr">exists</span> (<span class="nv">p0x</span>^ @ px0 @ p1x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 ((p0x^ @ px0) @ p1x) p0x p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> px0, p0x, p1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8d"><span class="kn">Definition</span> <span class="nf">sq_fill_r_uniq</span>
             {<span class="nv">px0</span> : a00 = a10} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
             {<span class="nv">px1</span> : a01 = a11} (<span class="nv">s</span> : PathSquare px0 px1 p0x p1x)
             {<span class="nv">px1&#39;</span> : a01 = a11} (<span class="nv">s&#39;</span> : PathSquare px0 px1&#39; p0x p1x)
    : px1 = px1&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1&#39; p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px1 = px1&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1 p0x p1x</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare px0 px1&#39; p0x p1x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">px1 = px1&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk8f"><span class="nb">destruct</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>PathSquare <span class="mi">1</span> px1&#39; <span class="mi">1</span> <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> = px1&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk90"><span class="nb">apply</span> sq_path^-<span class="mi">1</span> <span class="kr">in</span> s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px1'</var><span class="hyp-type"><b>: </b><span>x = x</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> @ <span class="mi">1</span> = <span class="mi">1</span> @ px1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> = px1&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (s&#39; @ concat_1p _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk91"><span class="kn">Definition</span> <span class="nf">equiv_sq_fill_lr</span> (<span class="nv">p0x</span> : a00 = a01) (<span class="nv">p1x</span> : a10 = a11)
    : (a00 = a10) &lt;~&gt; (a01 = a11).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a00 = a10 &lt;~&gt; a01 = a11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk92"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a00 = a10 &lt;~&gt; a01 = a11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk93">srapply equiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a00 = a10 -&gt; a01 = a11</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk94" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk94"><hr></label><div class="goal-conclusion">a01 = a11 -&gt; a00 = a10</div></blockquote><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk95" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk95"><hr></label><div class="goal-conclusion"><span class="nl">?f</span> o <span class="nl">?g</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chk96" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chk96"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?f</span> == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk97">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a00 = a10 -&gt; a01 = a11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> px0; <span class="bp">exact</span> (sq_fill_r px0 p0x p1x).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk98">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a01 = a11 -&gt; a00 = a10</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> px1; <span class="bp">exact</span> (sq_fill_l px1 p0x p1x).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk99">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">px0</span> : a00 = a10 =&gt; (sq_fill_r px0 p0x p1x).<span class="mi">1</span>)
o (<span class="kr">fun</span> <span class="nv">px1</span> : a01 = a11 =&gt; (sq_fill_l px1 p0x p1x).<span class="mi">1</span>) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9a"><span class="nb">intros</span> px1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sq_fill_r (sq_fill_l px1 p0x p1x).<span class="mi">1</span> p0x p1x).<span class="mi">1</span> = px1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_fill_r_uniq (sq_fill_r _ p0x p1x).<span class="mi">2</span>
                            (sq_fill_l px1 p0x p1x).<span class="mi">2</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">px1</span> : a01 = a11 =&gt; (sq_fill_l px1 p0x p1x).<span class="mi">1</span>)
o (<span class="kr">fun</span> <span class="nv">px0</span> : a00 = a10 =&gt; (sq_fill_r px0 p0x p1x).<span class="mi">1</span>) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9c"><span class="nb">intros</span> px0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sq_fill_l (sq_fill_r px0 p0x p1x).<span class="mi">1</span> p0x p1x).<span class="mi">1</span> = px0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (sq_fill_l_uniq (sq_fill_l _ p0x p1x).<span class="mi">2</span>
                            (sq_fill_r px0 p0x p1x).<span class="mi">2</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9d"><span class="kn">Definition</span> <span class="nf">sq_fill_t</span> (<span class="nv">px0</span> : a00 = a10) (<span class="nv">px1</span> : a01 = a11) (<span class="nv">p1x</span> : a10 = a11)
    : {p0x : a00 = a01 &amp; PathSquare px0 px1 p0x p1x}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p0x : a00 = a01 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p0x : a00 = a01 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chk9f"><span class="kr">exists</span> (<span class="nv">px0</span> @ p1x @ px1^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 ((px0 @ p1x) @ px1^) p1x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> px0, px1, p1x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka0"><span class="kn">Definition</span> <span class="nf">sq_fill_b</span> (<span class="nv">px0</span> : a00 = a10) (<span class="nv">px1</span> : a01 = a11) (<span class="nv">p0x</span> : a00 = a01)
    : {p1x : a10 = a11 &amp; PathSquare px0 px1 p0x p1x}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p1x : a10 = a11 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p1x : a10 = a11 &amp; PathSquare px0 px1 p0x p1x}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka2"><span class="kr">exists</span> (<span class="nv">px0</span>^ @ p0x @ px1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x ((px0^ @ p0x) @ px1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> px0, px1, p0x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Kan</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Apply a function to the sides of square *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka3"><span class="kn">Definition</span> <span class="nf">sq_ap</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A} (<span class="nv">f</span> : A -&gt; B)
  {<span class="nv">px0</span> : a00 = a10} {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11}
  : PathSquare px0 px1 p0x p1x -&gt; PathSquare (ap f px0) (ap f px1) (ap f p0x) (ap f p1x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare (ap f px0) (ap f px1) (ap f p0x) (ap f p1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x -&gt;
PathSquare (ap f px0) (ap f px1) (ap f p0x) (ap f p1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This preserves reflexivity *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka5"><span class="kn">Definition</span> <span class="nf">sq_ap_refl_h</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) {<span class="nv">a0</span> <span class="nv">a1</span> : A} (<span class="nv">p</span> : a0 = a1)
  : sq_ap f (sq_refl_h p) = sq_refl_h (ap f p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a0, a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a0 = a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_ap f (sq_refl_h p) = sq_refl_h (ap f p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a0, a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a0 = a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_ap f (sq_refl_h p) = sq_refl_h (ap f p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka7"><span class="kn">Definition</span> <span class="nf">sq_ap_refl_v</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) {<span class="nv">a0</span> <span class="nv">a1</span> : A} (<span class="nv">p</span> : a0 = a1)
  : sq_ap f (sq_refl_v p) = sq_refl_v (ap f p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a0, a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a0 = a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_ap f (sq_refl_v p) = sq_refl_v (ap f p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a0, a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a0 = a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sq_ap f (sq_refl_v p) = sq_refl_v (ap f p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [PathSquare]s respect products *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chka9"><span class="kn">Definition</span> <span class="nf">equiv_sq_prod</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">a00</span> <span class="nv">a10</span> <span class="nv">a01</span> <span class="nv">a11</span> : A} {<span class="nv">px0</span> : a00 = a10}
  {<span class="nv">px1</span> : a01 = a11} {<span class="nv">p0x</span> : a00 = a01} {<span class="nv">p1x</span> : a10 = a11} {<span class="nv">b00</span> <span class="nv">b10</span> <span class="nv">b01</span> <span class="nv">b11</span> : B}
  {<span class="nv">qx0</span> : b00 = b10} {<span class="nv">qx1</span> : b01 = b11} {<span class="nv">q0x</span> : b00 = b01} {<span class="nv">q1x</span> : b10 = b11}
  : (PathSquare px0 px1 p0x p1x) * (PathSquare qx0 qx1 q0x q1x)
    &lt;~&gt; PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
        (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x *
PathSquare qx0 qx1 q0x q1x &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkaa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare px0 px1 p0x p1x *
PathSquare qx0 qx1 q0x q1x &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkab"><span class="nb">refine</span> (_ oE (equiv_functor_prod&#39; sq_path sq_path)^-<span class="mi">1</span>%equiv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(px0 @ p1x = p0x @ px1) * (qx0 @ q1x = q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkac"><span class="nb">refine</span> (_ oE equiv_path_prod (_,_) (_,_)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(px0 @ p1x, qx0 @ q1x) = (p0x @ px1, q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkad">srefine (_ oE equiv_ap&#39; _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?f</span> (px0 @ p1x, qx0 @ q1x) = <span class="nl">?f</span> (p0x @ px1, q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chkae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chkae"><hr></label><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chkaf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chkaf"><hr></label><div class="goal-conclusion">(a00 = a11) * (b00 = b11) &lt;~&gt; <span class="nl">?B</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb0"><span class="mi">3</span>: <span class="bp">exact</span> (equiv_path_prod (_,_) (_,_)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equiv_path_prod (a00, b00) (a11, b11)
  (px0 @ p1x, qx0 @ q1x) =
equiv_path_prod (a00, b00) (a11, b11)
  (p0x @ px1, q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb1"><span class="nb">refine</span> (_ oE equiv_concat_l _^ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> =
equiv_path_prod (a00, b00) (a11, b11)
  (p0x @ px1, q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chkb2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chkb2"><hr></label><div class="goal-conclusion">equiv_path_prod (a00, b00) (a11, b11)
  (px0 @ p1x, qx0 @ q1x) = <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb3"><span class="mi">2</span>: <span class="nb">apply</span> (path_prod_pp (_,_) (_,_) (_,_)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">path_prod (a00, b00) (a10, b10) px0 qx0 @
path_prod (a10, b10) (a11, b11) p1x q1x =
equiv_path_prod (a00, b00) (a11, b11)
  (p0x @ px1, q0x @ qx1) &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb4"><span class="nb">refine</span> (_ oE equiv_concat_r _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">path_prod (a00, b00) (a10, b10) px0 qx0 @
path_prod (a10, b10) (a11, b11) p1x q1x = <span class="nl">?Goal0</span> &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="pathsquare-v-chkb5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><label class="goal-separator" for="pathsquare-v-chkb5"><hr></label><div class="goal-conclusion">equiv_path_prod (a00, b00) (a11, b11)
  (p0x @ px1, q0x @ qx1) = <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb6"><span class="mi">2</span>: <span class="nb">apply</span> (path_prod_pp (_,_) (_,_) (_,_)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a00, a10, a01, a11</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>px0</var><span class="hyp-type"><b>: </b><span>a00 = a10</span></span></span><br><span><var>px1</var><span class="hyp-type"><b>: </b><span>a01 = a11</span></span></span><br><span><var>p0x</var><span class="hyp-type"><b>: </b><span>a00 = a01</span></span></span><br><span><var>p1x</var><span class="hyp-type"><b>: </b><span>a10 = a11</span></span></span><br><span><var>b00, b10, b01, b11</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>qx0</var><span class="hyp-type"><b>: </b><span>b00 = b10</span></span></span><br><span><var>qx1</var><span class="hyp-type"><b>: </b><span>b01 = b11</span></span></span><br><span><var>q0x</var><span class="hyp-type"><b>: </b><span>b00 = b01</span></span></span><br><span><var>q1x</var><span class="hyp-type"><b>: </b><span>b10 = b11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">path_prod (a00, b00) (a10, b10) px0 qx0 @
path_prod (a10, b10) (a11, b11) p1x q1x =
path_prod (a00, b00) (a01, b01) p0x q0x @
path_prod (a01, b01) (a11, b11) px1 qx1 &lt;~&gt;
PathSquare (path_prod&#39; px0 qx0) (path_prod&#39; px1 qx1)
  (path_prod&#39; p0x q0x) (path_prod&#39; p1x q1x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_path.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_prod</span> := equiv_sq_prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The natural square from an [ap] *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb7"><span class="kn">Definition</span> <span class="nf">ap_nat</span> {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">f</span> <span class="nv">f&#39;</span> : A -&gt; B} (<span class="nv">h</span> : f == f&#39;) {<span class="nv">x</span> <span class="nv">y</span> : A} (<span class="nv">p</span> : x = y)
  : PathSquare (ap f p) (ap f&#39; p) (h x) (h y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap f p) (ap f&#39; p) (h x) (h y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap f p) (ap f&#39; p) (h x) (h y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p; <span class="nb">apply</span> sq_1G.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The transpose of the natural square *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkb9"><span class="kn">Definition</span> <span class="nf">ap_nat&#39;</span> {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">f</span> <span class="nv">f&#39;</span> : A -&gt; B} (<span class="nv">h</span> : f == f&#39;) {<span class="nv">x</span> <span class="nv">y</span> : A} (<span class="nv">p</span> : x = y)
  : PathSquare (h x) (h y) (ap f p) (ap f&#39; p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (h x) (h y) (ap f p) (ap f&#39; p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkba"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (h x) (h y) (ap f p) (ap f&#39; p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p; <span class="nb">apply</span> sq_G1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [ap_compose] fits naturally into a square *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ap_compose_sq</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C) {<span class="nv">x</span> <span class="nv">y</span> : A} (<span class="nv">p</span> : x = y)
  : PathSquare (ap (g o f) p) (ap g (ap f p)) <span class="mi">1</span> <span class="mi">1</span> := sq_G1 (ap_compose f g p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ap_idmap_sq</span> {<span class="nv">A</span>} {<span class="nv">x</span> <span class="nv">y</span> : A} (<span class="nv">p</span> : x = y) : PathSquare (ap idmap p) p <span class="mi">1</span> <span class="mi">1</span>
  := sq_G1 (ap_idmap p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A [DPath] of a certain form can be turned into a square *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkbb"><span class="kn">Definition</span> <span class="nf">equiv_sq_dp</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} {<span class="nv">f</span> <span class="nv">g</span> : A -&gt; B} {<span class="nv">a1</span> <span class="nv">a2</span> : A} {<span class="nv">p</span> : a1 = a2}
  {<span class="nv">q1</span> : f a1 = g a1} {<span class="nv">q2</span> : f a2 = g a2}
  : DPath (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x = g x) p q1 q2 &lt;~&gt; PathSquare q1 q2 (ap f p) (ap g p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a1, a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a1 = a2</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>f a1 = g a1</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>f a2 = g a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x = g x) p q1 q2 &lt;~&gt;
PathSquare q1 q2 (ap f p) (ap g p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkbc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a1, a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a1 = a2</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>f a1 = g a1</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>f a2 = g a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x = g x) p q1 q2 &lt;~&gt;
PathSquare q1 q2 (ap f p) (ap g p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkbd"><span class="nb">destruct</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>q1, q2</var><span class="hyp-type"><b>: </b><span>f a1 = g a1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x = g x) <span class="mi">1</span> q1 q2 &lt;~&gt;
PathSquare q1 q2 (ap f <span class="mi">1</span>) (ap g <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> sq_G1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">sq_dp</span> := equiv_sq_dp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** [ap011] fits into a square *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkbe"><span class="kn">Definition</span> <span class="nf">sq_ap011</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span>} (<span class="nv">f</span> : A -&gt; B -&gt; C)
  {<span class="nv">a</span> <span class="nv">a&#39;</span> : A} (<span class="nv">p</span> : a = a&#39;) {<span class="nv">b</span> <span class="nv">b&#39;</span> : B} (<span class="nv">q</span> : b = b&#39;)
  : PathSquare (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x b) p) (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x b&#39;) p)
    (ap (f a) q) (ap (f a&#39;) q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = a&#39;</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>b = b&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b) p)
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b&#39;) p) (ap (f a) q)
  (ap (f a&#39;) q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkbf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = a&#39;</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>b = b&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSquare (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b) p)
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b&#39;) p) (ap (f a) q)
  (ap (f a&#39;) q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="pathsquare-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="pathsquare-v-chkc0"><span class="nb">apply</span> sq_dp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>a, a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>a = a&#39;</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>b = b&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f a x = f a&#39; x) q
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b) p)
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x b&#39;) p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (apD (<span class="kr">fun</span> <span class="nv">y</span> =&gt; ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x y) p) q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span></span></pre>
</div>
</div></body>
</html>
