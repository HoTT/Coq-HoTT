<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>premetric.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk0"><span class="kn">Require Import</span>
  HoTT.Classes.interfaces.abstract_algebra
  HoTT.Classes.interfaces.rationals
  HoTT.Classes.interfaces.orders
  HoTT.Classes.implementations.peano_naturals
  HoTT.Classes.implementations.natpair_integers
  HoTT.Classes.theory.groups
  HoTT.Classes.theory.integers
  HoTT.Classes.theory.dec_fields
  HoTT.Classes.orders.dec_fields
  HoTT.Classes.orders.sum
  HoTT.Classes.theory.rationals
  HoTT.Classes.orders.lattices
  HoTT.Classes.implementations.assume_rationals
  HoTT.Classes.tactics.ring_quote
  HoTT.Classes.tactics.ring_tac.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> NatPair.Instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> Quoting.Instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Generalizable Variables</span> <span class="nf">A</span> B.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Set Universe Minimization ToSet</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Closeness</span>@{i} (A : <span class="kt">Type</span>@{i}) := close : Q+ -&gt; Relation@{i i} A.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">Q_close</span>@{} : Closeness Q := <span class="kr">fun</span> <span class="nv">e</span> <span class="nv">q</span> <span class="nv">r</span> =&gt; - &#39; e &lt; q - r &lt; &#39; e.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Separated</span> <span class="nv">A</span> `{Closeness A}
  := separated : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, (<span class="kr">forall</span> <span class="nv">e</span>, close e x y) -&gt; x = y :&gt; A.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Triangular</span> <span class="nv">A</span> `{Closeness A}
  := triangular : <span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> <span class="nv">w</span> <span class="nv">e</span> <span class="nv">d</span>, close e u v -&gt; close d v w -&gt;
  close (e+d) u w.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Rounded</span>@{i j} (A:<span class="kt">Type</span>@{i}) `{Closeness A}
  := rounded : <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">u</span> <span class="nv">v</span>, iff@{i j j} (close e u v)
    (merely@{j} (sig@{UQ j} (<span class="kr">fun</span> <span class="nv">d</span> =&gt; sig@{UQ j} (<span class="kr">fun</span> <span class="nv">d&#39;</span> =&gt;
      e = d + d&#39; /\ close d u v)))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">PreMetric</span>@{i j} (A:<span class="kt">Type</span>@{i}) {Aclose : Closeness A} :=
  { premetric_prop :: <span class="kr">forall</span> <span class="nv">e</span>, is_mere_relation A (close e)
  ; premetric_refl :: <span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=A) e)
  ; premetric_symm :: <span class="kr">forall</span> <span class="nv">e</span>, Symmetric (close (A:=A) e)
  ; premetric_separated :: Separated A
  ; premetric_triangular :: Triangular A
  ; premetric_rounded :: Rounded@{i j} A }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1"><span class="kn">Instance</span> <span class="nf">premetric_hset</span>@{i j} `{Funext}
  {A:<span class="kt">Type</span>@{i} } `{PreMetric@{i j} A} : IsHSet A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSet A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSet A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3"><span class="nb">apply</span> (@HSet.ishset_hrel_subpaths@{j i j} _ (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; <span class="kr">forall</span> <span class="nv">e</span>, close e x y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : A =&gt; <span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk4"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, IsHProp (<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk5"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, (<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y) -&gt; x = y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Reflexive (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : A =&gt; <span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, IsHProp (<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A, (<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y) -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> separated.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">Approximation</span>@{i} (A:<span class="kt">Type</span>@{i}) {Aclose : Closeness A} :=
  { approximate :&gt; Q+ -&gt; A
  ; approx_equiv : <span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span>, close (d+e) (approximate d) (approximate e) }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9"><span class="kn">Lemma</span> <span class="nf">approx_eq</span> `{Funext} `{Closeness A} `{<span class="kr">forall</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span>, IsHProp (close e x y)}
  : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : Approximation A,
  approximate _ x = approximate _ y -&gt; x = y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : Approximation A, x = y -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : Approximation A, x = y -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb"><span class="nb">intros</span> [x Ex] [y Ey];<span class="nb">simpl</span>;<span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; A</span></span></span><br><span><var>Ex</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span> : Q+, close (d + e) (x d) (x e)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; A</span></span></span><br><span><var>Ey</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span> : Q+, close (d + e) (y d) (y e)</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{| approximate := x; approx_equiv := Ex |} =
{| approximate := y; approx_equiv := Ey |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc"><span class="nb">destruct</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; A</span></span></span><br><span><var>Ex, Ey</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span> : Q+, close (d + e) (x d) (x e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{| approximate := x; approx_equiv := Ex |} =
{| approximate := x; approx_equiv := Ey |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; A</span></span></span><br><span><var>Ex, Ey</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span> : Q+, close (d + e) (x d) (x e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ex = Ey</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_ishprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">IsLimit</span>@{i} {A:<span class="kt">Type</span>@{i} } {Aclose : Closeness A}
  (x : Approximation A) (l : A)
  := <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">d</span> : Q+, close (e+d) (x d) l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Lim</span>@{i} (A:<span class="kt">Type</span>@{i}) {Aclose : Closeness A} := lim : Approximation A -&gt; A.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">CauchyComplete</span>@{i} (A:<span class="kt">Type</span>@{i}) {Aclose : Closeness A} {Alim : Lim A}
  := cauchy_complete : <span class="kr">forall</span> <span class="nv">x</span> : Approximation A, IsLimit x (lim x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">contents</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">funext</span> : Funext} {<span class="nv">univalence</span> : Univalence}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke"><span class="kn">Lemma</span> <span class="nf">rounded_plus</span> `{Rounded A} : <span class="kr">forall</span> <span class="nv">d</span> <span class="nv">d&#39;</span> <span class="nv">u</span> <span class="nv">v</span>, close d u v -&gt;
  close (d+d&#39;) u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">d</span> <span class="nv">d&#39;</span> : Q+) (<span class="nv">u</span> <span class="nv">v</span> : A),
close d u v -&gt; close (d + d&#39;) u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">d</span> <span class="nv">d&#39;</span> : Q+) (<span class="nv">u</span> <span class="nv">v</span> : A),
close d u v -&gt; close (d + d&#39;) u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10"><span class="nb">intros</span> d d&#39; u v xi;<span class="nb">apply</span> rounded.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d0 : Q+ &amp;
  {d&#39;0 : Q+ &amp;
  ((plus d d&#39; = plus d0 d&#39;0) * close d0 u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> tr;<span class="kr">exists</span> <span class="nv">d</span>,d&#39;;<span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11"><span class="kn">Lemma</span> <span class="nf">rounded_le&#39;</span> `{Rounded A}
  : <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">u</span> <span class="nv">v</span>, close e u v -&gt;
  <span class="kr">forall</span> <span class="nv">d</span>, &#39; e &lt;= &#39; d -&gt; close d u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">u</span> <span class="nv">v</span> : A),
close e u v -&gt; <span class="kr">forall</span> <span class="nv">d</span> : Q+, &#39; e ‚â§ &#39; d -&gt; close d u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">u</span> <span class="nv">v</span> : A),
close e u v -&gt; <span class="kr">forall</span> <span class="nv">d</span> : Q+, &#39; e ‚â§ &#39; d -&gt; close d u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13"><span class="nb">intros</span> e u v xi d E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e ‚â§ &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14"><span class="nb">apply</span> le_equiv_lt <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>((&#39; e = &#39; d) + (&#39; e &lt; &#39; d))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15"><span class="nb">destruct</span> E <span class="kr">as</span> [E|E].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e = &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e &lt; &#39; d</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk16"><hr></label><div class="goal-conclusion">close d u v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e = &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18"><span class="nb">apply</span> pos_eq <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>e = d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> &lt;-E;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e &lt; &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a"><span class="nb">pose proof</span> (pos_eq _ (_ + _) (Qpos_diff_pr _ _ E)) <span class="kr">as</span> E&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e &lt; &#39; d</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>d = e + Qpos_diff (&#39; e) (&#39; d) E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b"><span class="nb">rewrite</span> E&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e &lt; &#39; d</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>d = e + Qpos_diff (&#39; e) (&#39; d) E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + Qpos_diff (&#39; e) (&#39; d) E) u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c"><span class="nb">apply</span> rounded_plus.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>&#39; e &lt; &#39; d</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>d = e + Qpos_diff (&#39; e) (&#39; d) E</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Coq pre 8.8 produces phantom universes, see coq/coq#6483 **)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rounded_le</span>@{i j} := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> @rounded_le&#39;@{j i Ularge}|
                                            <span class="bp">exact</span> @rounded_le&#39;@{j i Ularge j}|
                                            <span class="bp">exact</span> @rounded_le&#39;@{i j}]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> rounded_le {A _ _} e u v _ d _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">close_prod</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span> UB i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">A</span>:<span class="kt">Type</span>@{UA}) (<span class="nv">B</span>:<span class="kt">Type</span>@{UB}) `{Closeness A} `{Closeness B}
  `{<span class="kr">forall</span> <span class="nv">e</span>, is_mere_relation A (close e)}
  `{<span class="kr">forall</span> <span class="nv">e</span>, is_mere_relation B (close e)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">close_prod</span>@{} : Closeness@{i} (A /\ B)
  := <span class="kr">fun</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; close e (fst x) (fst y) /\ close e (snd x) (snd y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d">#[export] <span class="kn">Instance</span> <span class="nf">close_prod_refl</span>@{}
  `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=A) e)}
  `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=B) e)}
  : <span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=A /\ B) e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>H3, H4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>H3, H4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e;<span class="nb">split</span>;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f">#[export] <span class="kn">Instance</span> <span class="nf">close_prod_symm</span>@{}
  `{<span class="kr">forall</span> <span class="nv">e</span>, Symmetric (close (A:=A) e)}
  `{<span class="kr">forall</span> <span class="nv">e</span>, Symmetric (close (A:=B) e)}
  : <span class="kr">forall</span> <span class="nv">e</span>, Symmetric (close (A:=A /\ B) e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>H3, H4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>H3, H4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">split</span>;<span class="nb">symmetry</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21">#[export] <span class="kn">Instance</span> <span class="nf">close_prod_separated</span>@{}
  `{!Separated A}
  `{!Separated B}
  : Separated (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Separated0</var><span class="hyp-type"><b>: </b><span>Separated A</span></span></span><br><span><var>Separated1</var><span class="hyp-type"><b>: </b><span>Separated B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Separated0</var><span class="hyp-type"><b>: </b><span>Separated A</span></span></span><br><span><var>Separated1</var><span class="hyp-type"><b>: </b><span>Separated B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23"><span class="nb">intros</span> x y E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Separated0</var><span class="hyp-type"><b>: </b><span>Separated A</span></span></span><br><span><var>Separated1</var><span class="hyp-type"><b>: </b><span>Separated B</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Prod.path_prod;<span class="nb">apply</span> separated;<span class="nb">intros</span>;<span class="nb">apply</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24">#[export] <span class="kn">Instance</span> <span class="nf">close_prod_triangular</span>@{}
  `{!Triangular A}
  `{!Triangular B}
  : Triangular (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular A</span></span></span><br><span><var>Triangular1</var><span class="hyp-type"><b>: </b><span>Triangular B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular A</span></span></span><br><span><var>Triangular1</var><span class="hyp-type"><b>: </b><span>Triangular B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> u v w e d E1 E2;<span class="nb">split</span>;(<span class="nb">eapply</span> triangular;[<span class="nb">apply</span> E1|<span class="nb">apply</span> E2]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26"><span class="kn">Lemma</span> <span class="nf">close_prod_rounded&#39;</span>
  `{!Rounded A} 
  `{!Rounded B}
  : Rounded (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28"><span class="nb">intros</span> e u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v &lt;-&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk29"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk2a"><hr></label><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}} -&gt;
close e u v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2c"><span class="nb">intros</span> [E0 E0&#39;];<span class="nb">apply</span> rounded <span class="kr">in</span> E0;<span class="nb">apply</span> rounded <span class="kr">in</span> E0&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>E0</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp;
  ((e = plus d d&#39;) * close d (fst u) (fst v))%type}}</span></span></span><br><span><var>E0'</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp;
  ((e = plus d d&#39;) * close d (snd u) (snd v))%type}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2d"><span class="nb">revert</span> E0;<span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d1 [d1&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>E0'</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp;
  ((e = plus d d&#39;) * close d (snd u) (snd v))%type}}</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2e"><span class="nb">revert</span> E0&#39;;<span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d2 [d2&#39; [E3 E4]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk2f"><span class="nb">apply</span> tr;<span class="kr">exists</span> (<span class="nv">join</span> <span class="nv">d1</span> <span class="nv">d2</span>), (meet d1&#39; d2&#39;);<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d1 ‚äî d2 + (d1&#39; ‚äì d2&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk30" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk30"><hr></label><div class="goal-conclusion">close (d1 ‚äî d2) u v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk31">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d1 ‚äî d2 + (d1&#39; ‚äì d2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk32"><span class="nb">rewrite</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d1 + d1&#39; = d1 ‚äî d2 + (d1&#39; ‚äì d2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk33"><span class="nb">apply</span> Qpos_sum_eq_join_meet.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d1 + d1&#39; = d2 + d2&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> &lt;-E1;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk34">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äî d2) u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk35"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äî d2) (fst u) (fst v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk36" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk36"><hr></label><div class="goal-conclusion">close (d1 ‚äî d2) (snd u) (snd v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk37">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äî d2) (fst u) (fst v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk38"><span class="nb">apply</span> rounded_le <span class="kr">with</span> d1;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; d1 ‚â§ &#39; (d1 ‚äî d2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> join_ub_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk39">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äî d2) (snd u) (snd v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3a"><span class="nb">apply</span> rounded_le <span class="kr">with</span> d2;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d1 (fst u) (fst v)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d2 + d2&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span>close d2 (snd u) (snd v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; d2 ‚â§ &#39; (d1 ‚äî d2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> join_ub_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}} -&gt;
close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3c"><span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> E1;<span class="nb">split</span>;<span class="nb">apply</span> rounded_plus,E2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Coq pre 8.8 produces phantom universes, see coq/coq#6483 **)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">close_prod_rounded</span>@{j} := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> @close_prod_rounded&#39;@{j j j j j}|
                                                  <span class="bp">exact</span> @close_prod_rounded&#39;@{j j}|
                                                  <span class="bp">exact</span> @close_prod_rounded&#39;@{j j j}]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> close_prod_rounded {_ _} _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Existing Instance</span> <span class="nf">close_prod_rounded</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3d"><span class="kn">Lemma</span> <span class="nf">prod_premetric</span>@{j} `{!PreMetric@{UA j} A} `{!PreMetric@{UB j} B}
  : PreMetric@{i j} (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>;<span class="kp">try</span> <span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Existing Instance</span> <span class="nf">prod_premetric</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Alim</span> : Lim A} {<span class="nv">Blim</span> : Lim B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk3f">#[export] <span class="kn">Instance</span> <span class="nf">prod_lim</span>@{} : Lim (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lim (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lim (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk41"><span class="nb">intros</span> xy.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>xy</var><span class="hyp-type"><b>: </b><span>Approximation (A * B)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A * B)%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>;<span class="nb">apply</span> lim;
[<span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">e</span> =&gt; fst (xy e))|<span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">e</span> =&gt; snd (xy e))];<span class="nb">intros</span>;<span class="nb">apply</span> xy.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk42">#[export] <span class="kn">Instance</span> <span class="nf">prod_cauchy_complete</span> `{!CauchyComplete A} `{!CauchyComplete B}
  : CauchyComplete (A /\ B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CauchyComplete (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk43"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CauchyComplete (A * B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk44"><span class="nb">intros</span> xy e d;<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>xy</var><span class="hyp-type"><b>: </b><span>Approximation (A * B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (fst (xy d)) (fst (lim xy))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk45" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>xy</var><span class="hyp-type"><b>: </b><span>Approximation (A * B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk45"><hr></label><div class="goal-conclusion">close (e + d) (snd (xy d)) (snd (lim xy))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk46">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>xy</var><span class="hyp-type"><b>: </b><span>Approximation (A * B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (fst (xy d)) (fst (lim xy))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (cauchy_complete
    {| approximate := <span class="kr">fun</span> <span class="nv">e0</span> : Q+ =&gt; fst (xy e0); approx_equiv := _ |}).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk47">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), IsHProp (close e x y)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : B), IsHProp (close e x y)</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>CauchyComplete1</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>xy</var><span class="hyp-type"><b>: </b><span>Approximation (A * B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (snd (xy d)) (snd (lim xy))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (cauchy_complete
    {| approximate := <span class="kr">fun</span> <span class="nv">e0</span> : Q+ =&gt; snd (xy e0); approx_equiv := _ |}).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">close_prod</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">close_arrow</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>} `{Bclose : Closeness B} `{!PreMetric B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Using [forall x, close e (f x) (g x)] works for closed balls, not open ones. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">close_arrow</span> : Closeness (A -&gt; B)
  := <span class="kr">fun</span> <span class="nv">e</span> <span class="nv">f</span> <span class="nv">g</span> =&gt; merely (<span class="kr">exists</span> <span class="nv">d</span> <span class="nv">d&#39;</span>, e = d + d&#39; /\ <span class="kr">forall</span> <span class="nv">x</span>, close d (f x) (g x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk48"><span class="kn">Lemma</span> <span class="nf">close_arrow_apply</span> : <span class="kr">forall</span> <span class="nv">e</span> (<span class="nv">f</span> <span class="nv">g</span> : A -&gt; B), close e f g -&gt;
  <span class="kr">forall</span> <span class="nv">x</span>, close e (f x) (g x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">f</span> <span class="nv">g</span> : A -&gt; B),
close e f g -&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">f</span> <span class="nv">g</span> : A -&gt; B),
close e f g -&gt; <span class="kr">forall</span> <span class="nv">x</span> : A, close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk4a"><span class="nb">intros</span> e f g E x;<span class="nb">revert</span> E;<span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> E1;<span class="nb">apply</span> rounded_plus;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk4b">#[export] <span class="kn">Instance</span> <span class="nf">close_arrow_premetric</span> : PreMetric (A -&gt; B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk4d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A -&gt; B), IsHProp (close e x y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk4e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk4f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk50"><hr></label><div class="goal-conclusion">Separated (A -&gt; B)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk51"><hr></label><div class="goal-conclusion">Triangular (A -&gt; B)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk52"><hr></label><div class="goal-conclusion">Rounded (A -&gt; B)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk53">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A -&gt; B), IsHProp (close e x y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk54">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk55"><span class="nb">intros</span> e f;<span class="nb">apply</span> tr; <span class="kr">exists</span> (<span class="nv">e</span>/<span class="mi">2</span>), (e/<span class="mi">2</span>);<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = e / <span class="mi">2</span> + e / <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk56" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk56"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close (e / <span class="mi">2</span>) (f x) (f x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk57">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = e / <span class="mi">2</span> + e / <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (pos_split2 e).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk58">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close (e / <span class="mi">2</span>) (f x) (f x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5a"><span class="nb">intros</span> e f g;<span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5b"><span class="nb">apply</span> tr;<span class="kr">exists</span> <span class="nv">d</span>, d&#39;;<span class="nb">split</span>;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close d (g x) (f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x;<span class="nb">symmetry</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5d"><span class="nb">intros</span> f g E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5e"><span class="nb">apply</span> path_forall;<span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x = g x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk5f"><span class="nb">apply</span> separated.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk60"><span class="nb">intros</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk61"><span class="nb">apply</span> (merely_destruct (E e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d : Q+ &amp;
{d&#39; : Q+ &amp;
((e = plus d d&#39;) * (<span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)))%type}} -&gt;
close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk62"><span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk63"><span class="nb">rewrite</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d + d&#39;) (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk64"><span class="nb">apply</span> rounded_plus.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e f g</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk65">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk66"><span class="nb">intros</span> f g h e d E1 E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) f h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk67"><span class="nb">apply</span> (merely_destruct E1);<span class="nb">intros</span> [d1 [d1&#39; [E3 E4]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) f h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk68"><span class="nb">apply</span> (merely_destruct E2);<span class="nb">intros</span> [d2 [d2&#39; [E5 E6]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) f h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk69"><span class="nb">apply</span> tr;<span class="kr">exists</span> (<span class="nv">d1</span>+d2),(d1&#39;+d2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((plus e d = plus (plus d1 d2) (plus d1&#39; d2&#39;)) *
 (<span class="kr">forall</span> <span class="nv">x</span> : A, close (plus d1 d2) (f x) (h x)))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6a"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = d1 + d2 + (d1&#39; + d2&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk6b"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close (d1 + d2) (f x) (h x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = d1 + d2 + (d1&#39; + d2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6d"><span class="nb">rewrite</span> E3,E5.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d1 + d1&#39; + (d2 + d2&#39;) = d1 + d2 + (d1&#39; + d2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span> (<span class="nb">apply</span> pos_eq; ring_tac.ring_with_nat).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close (d1 + d2) (f x) (h x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk6f"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>f, g, h</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e f g</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d g h</span></span></span><br><span><var>d1, d1'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>e = d1 + d1&#39;</span></span></span><br><span><var>E4</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d1 (f x) (g x)</span></span></span><br><span><var>d2, d2'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E5</var><span class="hyp-type"><b>: </b><span>d = d2 + d2&#39;</span></span></span><br><span><var>E6</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d2 (g x) (h x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 + d2) (f x) (h x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> triangular <span class="kr">with</span> (g x);<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk70">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk71"><span class="nb">intros</span> e f g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e f g &lt;-&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk72"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e f g -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk73"><hr></label><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}} -&gt;
close e f g</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk74">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e f g -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk75"><span class="nb">apply</span> (Trunc_ind _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d : Q+ &amp;
{d&#39; : Q+ &amp;
((e = plus d d&#39;) * (<span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)))%type}} -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk76"><span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk77"><span class="nb">apply</span> tr;<span class="kr">exists</span> (<span class="nv">d</span>+d&#39;/<span class="mi">2</span>),(d&#39;/<span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((e = plus (plus d (d&#39; / <span class="mi">2</span>)) (d&#39; / <span class="mi">2</span>)) *
 close (plus d (d&#39; / <span class="mi">2</span>)) f g)%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk78"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d + d&#39; / <span class="mi">2</span> + d&#39; / <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk79"><hr></label><div class="goal-conclusion">close (d + d&#39; / <span class="mi">2</span>) f g</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d + d&#39; / <span class="mi">2</span> + d&#39; / <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7b"><span class="nb">rewrite</span> &lt;-Qpos_plus_assoc,&lt;-pos_split2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d + d&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> E1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d + d&#39; / <span class="mi">2</span>) f g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7d"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d0 : Q+ &amp;
{d&#39;0 : Q+ &amp;
((plus d (d&#39; / <span class="mi">2</span>) = plus d0 d&#39;0) *
 (<span class="kr">forall</span> <span class="nv">x</span> : A, close d0 (f x) (g x)))%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kr">exists</span> <span class="nv">d</span>, (d&#39;/<span class="mi">2</span>);<span class="nb">split</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d f g)%type}} -&gt;
close e f g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk7f"><span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d [d&#39; [E1 E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e f g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk80"><span class="nb">apply</span> tr;<span class="kr">exists</span> <span class="nv">d</span>,d&#39;;<span class="nb">split</span>;<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, close d (f x) (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk81"><span class="nb">apply</span> close_arrow_apply.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d f g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Blim</span> : Lim B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk82">#[export] <span class="kn">Instance</span> <span class="nf">arrow_lim</span> : Lim (A -&gt; B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lim (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk83"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lim (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk84"><span class="nb">intros</span> f x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk85"><span class="nb">apply</span> lim.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Approximation B</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk86"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">e</span> =&gt; f e x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">e</span> : Q+, close (d + e) (f d x) (f e x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk87"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d + e) (f d x) (f e x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk88"><span class="nb">apply</span> close_arrow_apply.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d + e) (f d) (f e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> approx_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> arrow_lim _ / _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{!CauchyComplete B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk89">#[export] <span class="kn">Instance</span> <span class="nf">arrow_cauchy_complete</span> : CauchyComplete (A -&gt; B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CauchyComplete (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CauchyComplete (A -&gt; B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8b"><span class="nb">intros</span> f e d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (f d) (lim f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8c"><span class="nb">unfold</span> lim;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (f d)
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt;
   lim
     {|
       approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
       approx_equiv :=
         <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
         close_arrow_apply (d + e) (f d) (f e)
           (approx_equiv (A -&gt; B) f d e) x
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8d"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d0 : Q+ &amp;
{d&#39; : Q+ &amp;
((plus e d = plus d0 d&#39;) *
 (<span class="kr">forall</span> <span class="nv">x</span> : A,
  close d0 (f d x)
    (lim
       {|
         approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
         approx_equiv :=
           <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
           close_arrow_apply (plus d e) (f d) (f e)
             (approx_equiv (A -&gt; B) f d e) x
       |})))%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8e"><span class="kr">exists</span> (<span class="nv">e</span>/<span class="mi">2</span> + d), (e/<span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((plus e d = plus (plus (e / <span class="mi">2</span>) d) (e / <span class="mi">2</span>)) *
 (<span class="kr">forall</span> <span class="nv">x</span> : A,
  close (plus (e / <span class="mi">2</span>) d) (f d x)
    (lim
       {|
         approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
         approx_equiv :=
           <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
           close_arrow_apply (plus d e) (f d) (f e)
             (approx_equiv (A -&gt; B) f d e) x
       |})))%type</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk8f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = e / <span class="mi">2</span> + d + e / <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk90"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
close (e / <span class="mi">2</span> + d) (f d x)
  (lim
     {|
       approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
       approx_equiv :=
         <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
         close_arrow_apply 
           (d + e) (f d) 
           (f e) (approx_equiv (A -&gt; B) f d e) x
     |})</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk91">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = e / <span class="mi">2</span> + d + e / <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span> (<span class="nb">set</span> (e&#39; := e/<span class="mi">2</span>);<span class="nb">rewrite</span> (pos_split2 e);<span class="nb">unfold</span> e&#39;;
  <span class="nb">apply</span> pos_eq;ring_tac.ring_with_nat).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk92">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
close (e / <span class="mi">2</span> + d) (f d x)
  (lim
     {|
       approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
       approx_equiv :=
         <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
         close_arrow_apply (d + e) (f d) (f e)
           (approx_equiv (A -&gt; B) f d e) x
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk93"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span> + d) (f d x)
  (lim
     {|
       approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; f e x;
       approx_equiv :=
         <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
         close_arrow_apply (d + e) (f d) (f e)
           (approx_equiv (A -&gt; B) f d e) x
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk94"><span class="nb">set</span> (S := {| approximate := <span class="kr">fun</span> <span class="nv">e0</span> : Q+ =&gt; (f e0) x
            ;  approx_equiv := _ |}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>S</var><span><span class="hyp-body"><b>:= </b><span>{|
  approximate := <span class="kr">fun</span> <span class="nv">e0</span> : Q+ =&gt; f e0 x;
  approx_equiv :=
    <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
    close_arrow_apply (d + e) 
      (f d) (f e) (approx_equiv (A -&gt; B) f d e) x
|}</span></span><span class="hyp-type"><b>: </b><span>Approximation B</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span> + d) (f d x) (lim S)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk95"><span class="nb">pose proof</span> (cauchy_complete S) <span class="kr">as</span> E;<span class="nb">red</span> <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>S</var><span><span class="hyp-body"><b>:= </b><span>{|
  approximate := <span class="kr">fun</span> <span class="nv">e0</span> : Q+ =&gt; f e0 x;
  approx_equiv :=
    <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
    close_arrow_apply (d + e) 
      (f d) (f e) (approx_equiv (A -&gt; B) f d e) x
|}</span></span><span class="hyp-type"><b>: </b><span>Approximation B</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> <span class="nv">d</span> : Q+, close (e + d) (S d) (lim S)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span> + d) (f d x) (lim S)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">close_arrow</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">NonExpanding</span> `{Closeness A} `{Closeness B} (f : A -&gt; B)
  := non_expanding : <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span>, close e x y -&gt; close e (f x) (f y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> non_expanding {A _ B _} f {_ e x y} _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Lipschitz</span> `{Closeness A} `{Closeness B} (f : A -&gt; B) (L : Q+)
  := lipschitz : <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span>, close e x y -&gt; close (L * e) (f x) (f y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> lipschitz {A _ B _} f L {_ e x y} _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Uniform</span> `{Closeness A} `{Closeness B} (f : A -&gt; B) (mu : Q+ -&gt; Q+)
  := uniform : <span class="kr">forall</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span>, close (mu e) x y -&gt; close e (f x) (f y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> uniform {A _ B _} f mu {_} _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Continuous</span>@{UA UB}
  {A:<span class="kt">Type</span>@{UA} } `{Closeness A}
  {B:<span class="kt">Type</span>@{UB} } `{Closeness B} (f : A -&gt; B)
  := continuous : <span class="kr">forall</span> <span class="nv">u</span> <span class="nv">e</span>, merely@{Ularge} (sig@{UQ Ularge}
    (<span class="kr">fun</span> <span class="nv">d</span> =&gt; <span class="kr">forall</span> <span class="nv">v</span>, close d u v -&gt;
    close e (f u) (f v))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> continuous {A _ B _} f {_} _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">BinaryDup</span>@{i} {A : <span class="kt">Type</span>@{i} } : A -&gt; A /\ A := <span class="kr">fun</span> <span class="nv">x</span> =&gt; (x, x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">map2</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span>} (<span class="nv">f</span> : A -&gt; C) (<span class="nv">g</span> : B -&gt; D) : A /\ B -&gt; C /\ D
  := <span class="kr">fun</span> <span class="nv">x</span> =&gt; (f (fst x), g (snd x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">closeness</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk96">#[export] <span class="kn">Instance</span> <span class="nf">id_nonexpanding</span> : NonExpanding (@id A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk97"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">hnf</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk98">#[export] <span class="kn">Instance</span> <span class="nf">BinaryDup_nonexpanding</span>@{} : NonExpanding (@BinaryDup A).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding BinaryDup</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk99"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding BinaryDup</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e x y E;<span class="nb">split</span>;<span class="bp">exact</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B} (f : A -&gt; B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9a"><span class="kn">Lemma</span> <span class="nf">nonexpanding_lipschitz&#39;</span> `{!NonExpanding f}
  : Lipschitz f <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>NonExpanding0</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz f <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>NonExpanding0</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz f <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9c"><span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>NonExpanding0</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A),
close e x y -&gt; close (<span class="mi">1</span> * e) (f x) (f y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intro</span>;<span class="nb">rewrite</span> left_identity;<span class="nb">apply</span> non_expanding,_.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nonexpanding_lipschitz</span>@{} `{!NonExpanding f}
  : Lipschitz f <span class="mi">1</span>
  := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> nonexpanding_lipschitz&#39;@{Ularge}|
                  <span class="bp">exact</span> nonexpanding_lipschitz&#39;@{}]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Existing Instance</span> <span class="nf">nonexpanding_lipschitz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9d"><span class="kn">Lemma</span> <span class="nf">lipschitz_nonexpanding</span>@{} `{!Lipschitz f <span class="mi">1</span>} : NonExpanding f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk9f"><span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A),
close e x y -&gt; close e (f x) (f y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka0"><span class="nb">intros</span> e x y E;<span class="nb">rewrite</span> &lt;-(left_identity e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f <span class="mi">1</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (<span class="mi">1</span> * e) (f x) (f y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lipschitz f <span class="mi">1</span> E).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka1">#[export] <span class="kn">Instance</span> <span class="nf">const_nonexpanding</span>@{} `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=B) e)}
  (b : B) : NonExpanding (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka3"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A), close e x y -&gt; close e b b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka4">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_const</span>@{} `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=B) e)}
  : <span class="kr">forall</span> (<span class="nv">b</span>:B) (<span class="nv">L</span>:Q+), Lipschitz (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b) L.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">L</span> : Q+), Lipschitz (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">L</span> : Q+), Lipschitz (<span class="kr">fun</span> <span class="nv">_</span> : A =&gt; b) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka6"><span class="nb">intros</span>;<span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A),
close e x y -&gt; close (L * e) b b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka7"><span class="nb">intros</span> e _ _ _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>L, e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * e) b b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka8">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_uniform</span>@{} (L:Q+) `{!Lipschitz f L}
  : Uniform f (<span class="kr">fun</span> <span class="nv">e</span> =&gt; e / L) | <span class="mi">5</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform f (<span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; e / L)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chka9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform f (<span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; e / L)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkaa"><span class="nb">intros</span> e u v xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (e / L) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f u) (f v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkab"><span class="nb">rewrite</span> &lt;-(pos_unconjugate L e),&lt;-Qpos_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (e / L) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * (e / L)) (f u) (f v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lipschitz f L),xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkac"><span class="kn">Lemma</span> <span class="nf">uniform_continuous</span>@{} mu `{!Uniform@{UA UB} f mu} : Continuous f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Uniform0</var><span class="hyp-type"><b>: </b><span>Uniform f mu</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkad"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Uniform0</var><span class="hyp-type"><b>: </b><span>Uniform f mu</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkae"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Uniform0</var><span class="hyp-type"><b>: </b><span>Uniform f mu</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> : A) (<span class="nv">e</span> : Q+),
merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A, close d u v -&gt; close e (f u) (f v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkaf"><span class="nb">intros</span> u e;<span class="nb">apply</span> tr;<span class="kr">exists</span> (<span class="nv">mu</span> <span class="nv">e</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Uniform0</var><span class="hyp-type"><b>: </b><span>Uniform f mu</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">v</span> : A, close (mu e) u v -&gt; close e (f u) (f v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (uniform f mu).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">uniform_continuous</span> | <span class="mi">5</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lipschitz_continuous</span>@{} (L:Q+) `{!Lipschitz f L} : Continuous f
  := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">nonexpanding_continuous</span>@{} `{!NonExpanding f} : Continuous f
  := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">closeness</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">compositions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">C</span>:<span class="kt">Type</span>@{UC} } `{Closeness C} (g : B -&gt; C) (f : A -&gt; B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb0">#[export] <span class="kn">Instance</span> <span class="nf">nonexpanding_compose</span>@{}
  {Eg : NonExpanding g} {Ef : NonExpanding f}
  : NonExpanding (Compose g f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (g ‚àò f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (g ‚àò f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb2"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : A),
close e x y -&gt; close e ((g ‚àò f) x) ((g ‚àò f) y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e x y xi;<span class="bp">exact</span> (non_expanding g (non_expanding f xi)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb3">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_compose</span>@{}
  Lg {Eg : Lipschitz g Lg} Lf {Ef : Lipschitz f Lf}
  : Lipschitz (Compose g f) (Lg * Lf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) (Lg * Lf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) (Lg * Lf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb5"><span class="nb">intros</span> ??? He.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lg * Lf * e) ((g ‚àò f) x) ((g ‚àò f) y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb6"><span class="nb">unfold</span> Compose;<span class="nb">apply</span> Ef,Eg <span class="kr">in</span> He.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>close (Lg * (Lf * e)) (g (f x)) (g (f y))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lg * Lf * e) (g (f x)) (g (f y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb7"><span class="nb">pattern</span> (Lg * Lf * e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>close (Lg * (Lf * e)) (g (f x)) (g (f y))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">q</span> : Q+ =&gt; close q (g (f x)) (g (f y)))
  (Lg * Lf * e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb8"><span class="nb">eapply</span> transport;[|<span class="bp">exact</span> He].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>Lf</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>close (Lg * (Lf * e)) (g (f x)) (g (f y))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lg * (Lf * e) = Lg * Lf * e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> associativity.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkb9"><span class="kn">Lemma</span> <span class="nf">lipschitz_compose_nonexpanding_r&#39;</span>
  <span class="nv">L</span> {<span class="nv">Eg</span> : Lipschitz g L} {<span class="nv">Ef</span> : NonExpanding f}
  : Lipschitz (Compose g f) L.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g L</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkba"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g L</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkbb"><span class="nb">rewrite</span> &lt;-(left_identity L),commutativity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Lipschitz g L</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) (L * <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_compose_nonexpanding_r</span>@{}
  L {Eg : Lipschitz g L} {Ef : NonExpanding f}
  : Lipschitz (Compose g f) L
  := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> (lipschitz_compose_nonexpanding_r&#39;@{Ularge} L)|
                  <span class="bp">exact</span> (lipschitz_compose_nonexpanding_r&#39;@{} L)]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkbc"><span class="kn">Lemma</span> <span class="nf">lipschitz_compose_nonexpanding_l&#39;</span>
  <span class="nv">L</span> {<span class="nv">Eg</span> : NonExpanding g} {<span class="nv">Ef</span> : Lipschitz f L}
  : Lipschitz (Compose g f) L.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkbd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkbe"><span class="nb">rewrite</span> &lt;-(left_identity L).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Lipschitz f L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (g ‚àò f) (<span class="mi">1</span> * L)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_compose_nonexpanding_l</span>@{}
  L {Eg : NonExpanding g} {Ef : Lipschitz f L}
  : Lipschitz (Compose g f) L
  := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> (lipschitz_compose_nonexpanding_l&#39;@{Ularge} L)|
                  <span class="bp">exact</span> (lipschitz_compose_nonexpanding_l&#39;@{} L)]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkbf"><span class="kn">Lemma</span> <span class="nf">uniform_compose</span>@{} mu {Eg : Uniform g mu} mu&#39; {Ef : Uniform f mu&#39;}
  : Uniform (Compose g f) (Compose mu&#39; mu).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Uniform g mu</span></span></span><br><span><var>mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Uniform f mu&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform (g ‚àò f) (mu&#39; ‚àò mu)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Uniform g mu</span></span></span><br><span><var>mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Uniform f mu&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform (g ‚àò f) (mu&#39; ‚àò mu)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc1"><span class="nb">intros</span> e u v xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Uniform g mu</span></span></span><br><span><var>mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Uniform f mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close ((mu&#39; ‚àò mu) e) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e ((g ‚àò f) u) ((g ‚àò f) v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc2"><span class="nb">unfold</span> Compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>mu</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Uniform g mu</span></span></span><br><span><var>mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Uniform f mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close ((mu&#39; ‚àò mu) e) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (g (f u)) (g (f v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (uniform g _),(uniform f _),xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">uniform_compose</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc3">#[export] <span class="kn">Instance</span> <span class="nf">continuous_compose</span>@{} {Eg : Continuous g} {Ef : Continuous f}
  : Continuous (Compose g f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous (g ‚àò f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous (g ‚àò f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc5"><span class="nb">intros</span> u e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A,
  close d u v -&gt; close e ((g ‚àò f) u) ((g ‚àò f) v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc6"><span class="nb">apply</span> (merely_destruct (continuous g (f u) e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d : Q+ &amp;
<span class="kr">forall</span> <span class="nv">v</span> : B,
close d (f u) v -&gt; close e (g (f u)) (g v)} -&gt;
merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A,
  close d u v -&gt; close e ((g ‚àò f) u) ((g ‚àò f) v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc7"><span class="nb">intros</span> [d E].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d (f u) v -&gt; close e (g (f u)) (g v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A,
  close d u v -&gt; close e ((g ‚àò f) u) ((g ‚àò f) v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc8"><span class="nb">apply</span> (merely_destruct (continuous f u d)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d (f u) v -&gt; close e (g (f u)) (g v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d0 : Q+ &amp;
<span class="kr">forall</span> <span class="nv">v</span> : A, close d0 u v -&gt; close d (f u) (f v)} -&gt;
merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A,
  close d u v -&gt; close e ((g ‚àò f) u) ((g ‚àò f) v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkc9"><span class="nb">intros</span> [d&#39; E&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d (f u) v -&gt; close e (g (f u)) (g v)</span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A, close d&#39; u v -&gt; close d (f u) (f v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A,
  close d u v -&gt; close e ((g ‚àò f) u) ((g ‚àò f) v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkca"><span class="nb">apply</span> tr;<span class="kr">exists</span> <span class="nv">d&#39;</span>;<span class="nb">intros</span> v xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>Eg</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>Ef</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d (f u) v -&gt; close e (g (f u)) (g v)</span></span></span><br><span><var>d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A, close d&#39; u v -&gt; close d (f u) (f v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d&#39; u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e ((g ‚àò f) u) ((g ‚àò f) v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> E,E&#39;,xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">compositions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">currying</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">C</span>:<span class="kt">Type</span>@{UC} } `{Closeness C} `{!Triangular C}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkcb">#[export] <span class="kn">Instance</span> <span class="nf">uncurry_lipschitz</span> (<span class="nv">f</span> : A -&gt; B -&gt; C) <span class="nv">L1</span> <span class="nv">L2</span>
  `{!<span class="kr">forall</span> <span class="nv">x</span>, Lipschitz (f x) L1}
  `{!<span class="kr">forall</span> <span class="nv">y</span>, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x y) L2}
  : Lipschitz (uncurry f) (L1 + L2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (uncurry f) (L1 + L2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkcc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (uncurry f) (L1 + L2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkcd"><span class="nb">intros</span> e [u1 u2] [v1 v2] [xi1 xi2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e (fst (u1, u2)) (fst (v1, v2))</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e (snd (u1, u2)) (snd (v1, v2))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((L1 + L2) * e) (uncurry f (u1, u2))
  (uncurry f (v1, v2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkce"><span class="nb">simpl</span> <span class="kr">in</span> xi1,xi2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((L1 + L2) * e) (uncurry f (u1, u2))
  (uncurry f (v1, v2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkcf"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((L1 + L2) * e) (f u1 u2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd0"><span class="nb">assert</span> (Hrw : (L1 + L2) * e = L1 * e + L2 * e)
<span class="bp">by</span> <span class="kp">abstract</span> (<span class="nb">apply</span> pos_eq;ring_tac.ring_with_nat);
<span class="nb">rewrite</span> Hrw;<span class="nb">clear</span> Hrw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L1 * e + L2 * e) (f u1 u2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd1"><span class="nb">apply</span> (triangular _ (f u1 v2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L1 * e) (f u1 u2) (f u1 v2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chkd2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><label class="goal-separator" for="premetric-v-chkd2"><hr></label><div class="goal-conclusion">close (L2 * e) (f u1 v2) (f v1 v2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L1 * e) (f u1 u2) (f u1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd4"><span class="nb">apply</span> (lipschitz _ L1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u2 v2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L2 * e) (f u1 v2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd6"><span class="nb">apply</span> (lipschitz (<span class="kr">fun</span> <span class="nv">u</span> =&gt; f u v2) L2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>L1, L2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Lipschitz (f x) L1</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Lipschitz (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) L2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close e u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u1 v1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd7"><span class="kn">Lemma</span> <span class="nf">uncurry_uniform</span>
  `{!Rounded A} `{!Rounded B} (f : A -&gt; B -&gt; C) mu mu&#39;
  `{!<span class="kr">forall</span> <span class="nv">x</span>, Uniform (f x) mu}
  `{!<span class="kr">forall</span> <span class="nv">y</span>, Uniform (<span class="kr">fun</span> <span class="nv">x</span> =&gt; f x y) mu&#39;}
  : Uniform (uncurry f) (<span class="kr">fun</span> <span class="nv">e</span> =&gt; meet (mu (e/<span class="mi">2</span>)) (mu&#39; (e/<span class="mi">2</span>))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform (uncurry f)
  (<span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Uniform (uncurry f)
  (<span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkd9"><span class="nb">intros</span> e [u1 u2] [v1 v2] [xi1 xi2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) 
  (fst (u1, u2)) (fst (v1, v2))</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) 
  (snd (u1, u2)) (snd (v1, v2))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (uncurry f (u1, u2)) (uncurry f (v1, v2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkda"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f u1 u2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkdb"><span class="nb">rewrite</span> (pos_split2 e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span> + e / <span class="mi">2</span>) (f u1 u2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkdc"><span class="nb">apply</span> (triangular _ (f u1 v2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span>) (f u1 u2) (f u1 v2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><label class="goal-separator" for="premetric-v-chkdd"><hr></label><div class="goal-conclusion">close (e / <span class="mi">2</span>) (f u1 v2) (f v1 v2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkde">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span>) (f u1 u2) (f u1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkdf"><span class="nb">apply</span> (uniform (f u1) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (mu (e / <span class="mi">2</span>)) u2 v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke0"><span class="nb">eapply</span> rounded_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> u2 v2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chke1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><label class="goal-separator" for="premetric-v-chke1"><hr></label><div class="goal-conclusion">&#39; <span class="nl">?e</span> ‚â§ &#39; mu (e / <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> u2 v2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) ‚â§ &#39; mu (e / <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> meet_lb_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e / <span class="mi">2</span>) (f u1 v2) (f v1 v2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke5"><span class="nb">apply</span> (uniform (<span class="kr">fun</span> <span class="nv">v</span> =&gt; f v v2) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (mu&#39; (e / <span class="mi">2</span>)) u1 v1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke6"><span class="nb">eapply</span> rounded_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> u1 v1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><label class="goal-separator" for="premetric-v-chke7"><hr></label><div class="goal-conclusion">&#39; <span class="nl">?e</span> ‚â§ &#39; mu&#39; (e / <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> u1 v1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chke9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>Triangular0</var><span class="hyp-type"><b>: </b><span>Triangular C</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B -&gt; C</span></span></span><br><span><var>mu, mu'</var><span class="hyp-type"><b>: </b><span>Q+ -&gt; Q+</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, Uniform (f x) mu</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, Uniform (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f x y) mu&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u1 v1</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) u2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (mu (e / <span class="mi">2</span>) ‚äì mu&#39; (e / <span class="mi">2</span>)) ‚â§ &#39; mu&#39; (e / <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> meet_lb_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">currying</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">pair</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A} `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=A) e)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B} `{<span class="kr">forall</span> <span class="nv">e</span>, Reflexive (close (A:=B) e)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkea">#[export] <span class="kn">Instance</span> <span class="nf">pair_nonexpanding_l</span> : <span class="kr">forall</span> <span class="nv">x</span>, NonExpanding (@pair A B x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, NonExpanding (pair x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkeb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, NonExpanding (pair x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkec"><span class="nb">intros</span> x e u v xi;<span class="nb">split</span>;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e x x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chked" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chked"><hr></label><div class="goal-conclusion">close e u v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkee">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e x x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkef">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf0">#[export] <span class="kn">Instance</span> <span class="nf">pair_nonexpanding_r</span> : <span class="kr">forall</span> <span class="nv">y</span>,
  NonExpanding (<span class="kr">fun</span> <span class="nv">x</span> =&gt; @pair A B x y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : B, NonExpanding (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; (x, y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : B, NonExpanding (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; (x, y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf2"><span class="nb">intros</span> x e u v xi;<span class="nb">split</span>;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chkf3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chkf3"><hr></label><div class="goal-conclusion">close e x x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e x x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf6">#[export] <span class="kn">Instance</span> <span class="nf">fst_nonexpanding</span> : NonExpanding (@fst A B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding fst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding fst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf8">#[export] <span class="kn">Instance</span> <span class="nf">snd_nonexpanding</span> : NonExpanding (@snd A B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding snd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkf9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding snd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">pair</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">prod_equiv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkfa">#[export] <span class="kn">Instance</span> <span class="nf">equiv_prod_symm_nonexpanding</span>
  : NonExpanding (@Prod.equiv_prod_symm A B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_symm A B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkfb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_symm A B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">split</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkfc">#[export] <span class="kn">Instance</span> <span class="nf">equiv_prod_symm_inv_nonexpanding</span>
  : NonExpanding ((@Prod.equiv_prod_symm A B)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_symm A B)^-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkfd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_symm A B)^-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">split</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">C</span>:<span class="kt">Type</span>@{UC} } `{Closeness C}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkfe">#[export] <span class="kn">Instance</span> <span class="nf">equiv_prod_assoc_nonexpanding</span>
  : NonExpanding (@Prod.equiv_prod_assoc A B C).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_assoc A B C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chkff"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_assoc A B C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="kp">repeat</span> <span class="nb">split</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk100">#[export] <span class="kn">Instance</span> <span class="nf">equiv_prod_assoc_inc_nonexpanding</span>
  : NonExpanding ((@Prod.equiv_prod_assoc A B C)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_assoc A B C)^-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk101"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (equiv_prod_assoc A B C)^-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="kp">repeat</span> <span class="nb">split</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">prod_equiv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">map2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UB</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span>:<span class="kt">Type</span>@{UB} } `{Closeness B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UC</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">C</span>:<span class="kt">Type</span>@{UC} } `{Closeness C}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UD</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">D</span>:<span class="kt">Type</span>@{UD} } `{Closeness D}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Variables</span> (<span class="nv">f</span> : A -&gt; C) (<span class="nv">g</span> : B -&gt; D).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk102"><span class="kn">Lemma</span> <span class="nf">map2_nonexpanding&#39;</span>
  `{!NonExpanding f} `{!NonExpanding g}
  : NonExpanding (map2 f g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>NonExpanding0</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br><span><var>NonExpanding1</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (map2 f g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk103"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>NonExpanding0</var><span class="hyp-type"><b>: </b><span>NonExpanding f</span></span></span><br><span><var>NonExpanding1</var><span class="hyp-type"><b>: </b><span>NonExpanding g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (map2 f g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">split</span>;<span class="nb">simpl</span>; <span class="nb">apply</span> (non_expanding _),xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">map2_nonexpanding</span>@{i} := @map2_nonexpanding&#39;@{i i}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_nonexpanding {_ _} e x y xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">map2_nonexpanding</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk104"><span class="kn">Lemma</span> <span class="nf">map2_lipschitz&#39;</span> `{!Rounded C} `{!Rounded D} Lf Lg
  `{!Lipschitz f Lf} `{!Lipschitz g Lg}
  : Lipschitz (map2 f g) (join Lf Lg).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (map2 f g) (Lf ‚äî Lg)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk105"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (map2 f g) (Lf ‚äî Lg)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk106"><span class="nb">intros</span> e u v xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((Lf ‚äî Lg) * e) (map2 f g u) (map2 f g v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk107"><span class="nb">split</span>;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((Lf ‚äî Lg) * e) (f (fst u)) (f (fst v))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk108"><hr></label><div class="goal-conclusion">close ((Lf ‚äî Lg) * e) (g (snd u)) (g (snd v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk109">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((Lf ‚äî Lg) * e) (f (fst u)) (f (fst v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10a"><span class="nb">apply</span> rounded_le <span class="kr">with</span> (Lf * e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lf * e) (f (fst u)) (f (fst v))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk10b"><hr></label><div class="goal-conclusion">&#39; (Lf * e) ‚â§ &#39; ((Lf ‚äî Lg) * e)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lf * e) (f (fst u)) (f (fst v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lipschitz _ _),xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (Lf * e) ‚â§ &#39; ((Lf ‚äî Lg) * e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10e"><span class="nb">apply</span> (order_preserving (.* &#39; e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; Lf ‚â§ &#39; (Lf ‚äî Lg)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> join_ub_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk10f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close ((Lf ‚äî Lg) * e) (g (snd u)) (g (snd v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk110"><span class="nb">apply</span> rounded_le <span class="kr">with</span> (Lg * e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lg * e) (g (snd u)) (g (snd v))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk111"><hr></label><div class="goal-conclusion">&#39; (Lg * e) ‚â§ &#39; ((Lf ‚äî Lg) * e)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk112">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (Lg * e) (g (snd u)) (g (snd v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lipschitz _ _),xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk113">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (Lg * e) ‚â§ &#39; ((Lf ‚äî Lg) * e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk114"><span class="nb">apply</span> (order_preserving (.* &#39; e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded C</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded D</span></span></span><br><span><var>Lf, Lg</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>Lipschitz0</var><span class="hyp-type"><b>: </b><span>Lipschitz f Lf</span></span></span><br><span><var>Lipschitz1</var><span class="hyp-type"><b>: </b><span>Lipschitz g Lg</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; Lg ‚â§ &#39; (Lf ‚äî Lg)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> join_ub_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Coq pre 8.8 produces phantom universes, see coq/coq#6483 **)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">map2_lipschitz</span>@{i} := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> @map2_lipschitz&#39;@{i i i}|<span class="bp">exact</span> @map2_lipschitz&#39;@{i i i i}]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_lipschitz {_ _} Lf Lg {_ _} e x y xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">map2_lipschitz</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk115"><span class="kn">Lemma</span> <span class="nf">map2_continuous&#39;</span> `{!Rounded A} `{!Rounded B}
  `{!Continuous f} `{!Continuous g}
  : Continuous (map2 f g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous (map2 f g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk116"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Continuous (map2 f g)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk117"><span class="nb">intros</span> u e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A * B,
  close d u v -&gt; close e (map2 f g u) (map2 f g v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk118"><span class="nb">apply</span> (merely_destruct (continuous f (fst u) e));<span class="nb">intros</span> [d1 E1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A * B,
  close d u v -&gt; close e (map2 f g u) (map2 f g v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk119"><span class="nb">apply</span> (merely_destruct (continuous g (snd u) e));<span class="nb">intros</span> [d2 E2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  <span class="kr">forall</span> <span class="nv">v</span> : A * B,
  close d u v -&gt; close e (map2 f g u) (map2 f g v)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11a"><span class="nb">apply</span> tr;<span class="kr">exists</span> (<span class="nv">meet</span> <span class="nv">d1</span> <span class="nv">d2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">v</span> : A * B,
close (d1 ‚äì d2) u v -&gt;
close e (map2 f g u) (map2 f g v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11b"><span class="nb">intros</span> v xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (map2 f g u) (map2 f g v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11c"><span class="nb">split</span>;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f (fst u)) (f (fst v))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk11d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk11d"><hr></label><div class="goal-conclusion">close e (g (snd u)) (g (snd v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (f (fst u)) (f (fst v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk11f"><span class="nb">apply</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d1 (fst u) (fst v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk120"><span class="nb">apply</span> rounded_le <span class="kr">with</span> (meet d1 d2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äì d2) (fst u) (fst v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk121" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk121"><hr></label><div class="goal-conclusion">&#39; (d1 ‚äì d2) ‚â§ &#39; d1</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk122">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äì d2) (fst u) (fst v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk123">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (d1 ‚äì d2) ‚â§ &#39; d1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> meet_lb_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk124">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (g (snd u)) (g (snd v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk125"><span class="nb">apply</span> E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d2 (snd u) (snd v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk126"><span class="nb">apply</span> rounded_le <span class="kr">with</span> (meet d1 d2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äì d2) (snd u) (snd v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk127"><hr></label><div class="goal-conclusion">&#39; (d1 ‚äì d2) ‚â§ &#39; d2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk128">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d1 ‚äì d2) (snd u) (snd v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk129">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Closeness C</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Closeness D</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; D</span></span></span><br><span><var>Rounded0</var><span class="hyp-type"><b>: </b><span>Rounded A</span></span></span><br><span><var>Rounded1</var><span class="hyp-type"><b>: </b><span>Rounded B</span></span></span><br><span><var>Continuous0</var><span class="hyp-type"><b>: </b><span>Continuous f</span></span></span><br><span><var>Continuous1</var><span class="hyp-type"><b>: </b><span>Continuous g</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>e, d1</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : A,
close d1 (fst u) v -&gt; close e (f (fst u)) (f v)</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">v</span> : B,
close d2 (snd u) v -&gt; close e (g (snd u)) (g v)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>(A * B)%type</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close (d1 ‚äì d2) u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (d1 ‚äì d2) ‚â§ &#39; d2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> meet_lb_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Coq pre 8.8 produces phantom universes, see coq/coq#6483 **)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">map2_continuous</span>@{i} := <span class="kp">ltac</span>:(<span class="kp">first</span> [<span class="bp">exact</span> @map2_continuous&#39;@{i i i}|<span class="bp">exact</span> @map2_continuous&#39;@{i i i i}]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_continuous {_ _ _ _} u e.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">map2_continuous</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">map2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">interval</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span> UALE.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>@{UA} } {<span class="nv">Ale</span> : Le@{UA UALE} A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Interval</span> <span class="nv">a</span> <span class="nv">b</span> := sig (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; a &lt;= x /\ x &lt;= b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">interval_proj</span> <span class="nv">a</span> <span class="nv">b</span> : Interval a b -&gt; A := pr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Ameet</span> : Meet A} {<span class="nv">Ajoin</span> : Join A}
  `{!LatticeOrder@{UA UALE} Ale}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12a"><span class="kn">Definition</span> <span class="nf">Interval_restrict</span>@{} (a b : A) (E : a &lt;= b) : A -&gt; Interval a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Interval a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; Interval a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12c"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Interval a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12d"><span class="kr">exists</span> (<span class="nv">join</span> <span class="nv">a</span> (meet x b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚â§ a ‚äî (x ‚äì b) ‚â§ b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk12e"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚â§ a ‚äî (x ‚äì b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk12f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk12f"><hr></label><div class="goal-conclusion">a ‚äî (x ‚äì b) ‚â§ b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk130">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚â§ a ‚äî (x ‚äì b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> join_ub_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk131">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚äî (x ‚äì b) ‚â§ b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk132"><span class="nb">apply</span> join_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚â§ b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk133" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk133"><hr></label><div class="goal-conclusion">x ‚äì b ‚â§ b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk134">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚â§ b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk135">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚äì b ‚â§ b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> meet_lb_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk136"><span class="kn">Lemma</span> <span class="nf">Interval_restrict_pr</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">E</span> <span class="nv">x</span> (<span class="nv">E&#39;</span>: a &lt;= x /\ x &lt;= b),
  Interval_restrict a b E x = exist _ x E&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">E</span> : a ‚â§ b) (<span class="nv">x</span> : A) (<span class="nv">E&#39;</span> : a ‚â§ x ‚â§ b),
Interval_restrict a b E x = (x; E&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk137"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">E</span> : a ‚â§ b) (<span class="nv">x</span> : A) (<span class="nv">E&#39;</span> : a ‚â§ x ‚â§ b),
Interval_restrict a b E x = (x; E&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk138"><span class="nb">intros</span> a b E x E&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>a ‚â§ x ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Interval_restrict a b E x = (x; E&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk139"><span class="nb">unfold</span> Interval_restrict.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>a ‚â§ x ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a ‚äî (x ‚äì b);
(join_ub_l a (x ‚äì b),
join_le a (x ‚äì b) b E (meet_lb_r x b))) = (x; E&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13a"><span class="nb">apply</span> Sigma.path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>a ‚â§ x ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a ‚äî (x ‚äì b);
(join_ub_l a (x ‚äì b),
join_le a (x ‚äì b) b E (meet_lb_r x b))).<span class="mi">1</span> = (x; E&#39;).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>a ‚â§ b</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>a ‚â§ x ‚â§ b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚äî (x ‚äì b) = x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> meet_l;[<span class="nb">apply</span> join_r|];<span class="nb">apply</span> E&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Interval_close</span> (<span class="nv">a</span> <span class="nv">b</span> : A) : Closeness (Interval a b)
  := <span class="kr">fun</span> <span class="nv">e</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; close e (interval_proj a b x) (interval_proj a b y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Interval_close _ _ _ _ _ /.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* NB: for some reason this forces UALE &lt;= UA *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13c"><span class="kn">Lemma</span> <span class="nf">Interval_premetric</span>@{i} `{!PreMetric@{UA i} A} a b
  : PreMetric@{UA i} (Interval a b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (Interval a b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric (Interval a b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk13e"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Interval a b),
IsHProp (close e x y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk13f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk13f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk140" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk140"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk141" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk141"><hr></label><div class="goal-conclusion">Separated (Interval a b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk142" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk142"><hr></label><div class="goal-conclusion">Triangular (Interval a b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk143"><hr></label><div class="goal-conclusion">Rounded (Interval a b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk144">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Interval a b),
IsHProp (close e x y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk145"><span class="nb">unfold</span> close;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Interval a b),
IsHProp
  (close e (interval_proj a b x) (interval_proj a b y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk146">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk147"><span class="nb">intros</span> e u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk148"><span class="nb">red</span>;<span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (interval_proj a b u) (interval_proj a b u)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk149">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> e u v xi;<span class="nb">red</span>;<span class="nb">red</span>;<span class="nb">symmetry</span>;<span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated (Interval a b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14b"><span class="nb">intros</span> u v E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14c"><span class="nb">apply</span> Sigma.path_sigma_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">u.<span class="mi">1</span> = v.<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> separated,E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular (Interval a b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14e"><span class="nb">intros</span> u v w e d xi1 xi2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) u w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk14f"><span class="nb">red</span>;<span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (interval_proj a b u)
  (interval_proj a b w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk150"><span class="nb">apply</span> (triangular _ (interval_proj a b v)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (interval_proj a b u) (interval_proj a b v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk151" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk151"><hr></label><div class="goal-conclusion">close d (interval_proj a b v) (interval_proj a b w)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk152">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (interval_proj a b u) (interval_proj a b v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk153">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>xi2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d (interval_proj a b v) (interval_proj a b w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk154">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded (Interval a b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk155"><span class="nb">intros</span> e u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v &lt;-&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk156"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk157" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk157"><hr></label><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}} -&gt;
close e u v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk158">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk159"><span class="nb">intros</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15a"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">red</span> <span class="kr">in</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e (interval_proj a b u)
  (interval_proj a b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15b"><span class="nb">apply</span> (fst (rounded _ _ _)) <span class="kr">in</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp;
  ((e = plus d d&#39;) *
   close d (interval_proj a b u)
     (interval_proj a b v))%type}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}} -&gt;
close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15d"><span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d u v)%type}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15e"><span class="nb">unfold</span> close,Interval_close <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp;
  ((e = plus d d&#39;) *
   close d (interval_proj a b u)
     (interval_proj a b v))%type}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk15f"><span class="nb">apply</span> (snd (rounded _ _ _)) <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Ale</var><span class="hyp-type"><b>: </b><span>Le A</span></span></span><br><span><var>Ameet</var><span class="hyp-type"><b>: </b><span>Meet A</span></span></span><br><span><var>Ajoin</var><span class="hyp-type"><b>: </b><span>Join A</span></span></span><br><span><var>LatticeOrder0</var><span class="hyp-type"><b>: </b><span>LatticeOrder Ale</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span>Interval a b</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>close e (interval_proj a b u)
  (interval_proj a b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e u v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> E.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">Interval_premetric</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">interval_proj_nonexpanding</span> (<span class="nv">a</span> <span class="nv">b</span> : A)
  : NonExpanding (interval_proj a b)
  := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">xi</span> =&gt; xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">interval</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">rationals</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk160"><span class="kn">Lemma</span> <span class="nf">Qclose_alt</span> : <span class="kr">forall</span> <span class="nv">e</span> (<span class="nv">q</span> <span class="nv">r</span> : Q), close e q r &lt;-&gt; abs (q - r) &lt; &#39; e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">q</span> <span class="nv">r</span> : Q),
close e q r &lt;-&gt; abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk161"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">q</span> <span class="nv">r</span> : Q),
close e q r &lt;-&gt; abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk162"><span class="nb">intros</span> e q r;<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r -&gt; abs (q - r) &lt; &#39; e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk163" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk163"><hr></label><div class="goal-conclusion">abs (q - r) &lt; &#39; e -&gt; close e q r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk164">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r -&gt; abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk165"><span class="nb">intros</span> [E1 E2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk166"><span class="nb">destruct</span> (total le <span class="mi">0</span> (q - r)) <span class="kr">as</span> [E|E].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ q - r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk167" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r ‚â§ <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="premetric-v-chk167"><hr></label><div class="goal-conclusion">abs (q - r) &lt; &#39; e</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk168">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ q - r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk169"><span class="nb">rewrite</span> (Qabs_of_nonneg _ E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ q - r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q - r &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16b"><span class="nb">rewrite</span> (Qabs_of_nonpos _ E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (q - r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16c"><span class="nb">apply</span> flip_lt_negate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; - - (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16d"><span class="nb">rewrite</span> involutive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; q - r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; e -&gt; close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk16f"><span class="nb">intros</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk170"><span class="nb">split</span>;[<span class="nb">apply</span> flip_lt_negate;<span class="nb">rewrite</span> involutive|];
  <span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (abs (q - r));<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (q - r) ‚â§ abs (q - r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk171" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk171"><hr></label><div class="goal-conclusion">q - r ‚â§ abs (q - r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk172">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (q - r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_le_neg_raw.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk173">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q - r ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_le_raw.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk174"><span class="kn">Lemma</span> <span class="nf">Qclose_neg</span>@{} : <span class="kr">forall</span> <span class="nv">e</span> (<span class="nv">x</span> <span class="nv">y</span> : Q), close e x y &lt;-&gt; close e (- x) (- y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
close e x y &lt;-&gt; close e (- x) (- y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk175"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
close e x y &lt;-&gt; close e (- x) (- y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk176"><span class="nb">intros</span> e x y;<span class="nb">split</span>;<span class="nb">intros</span> E;<span class="nb">apply</span> Qclose_alt <span class="kr">in</span> E;<span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (x - y) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (- x - - y) &lt; &#39; e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk177" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (- x - - y) &lt; &#39; e</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk177"><hr></label><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk178">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (x - y) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (- x - - y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk179"><span class="nb">rewrite</span> &lt;-(negate_plus_distr),Qabs_neg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (x - y) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (- x - - y) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17b"><span class="nb">rewrite</span> &lt;-(negate_plus_distr),Qabs_neg <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (x - y) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17c"><span class="kn">Instance</span> <span class="nf">Q_close_symm</span>@{} : <span class="kr">forall</span> <span class="nv">e</span>, Symmetric (@close Q _ e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Symmetric (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17e"><span class="nb">red</span>;<span class="nb">unfold</span> close;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
Q_close e x y -&gt; Q_close e y x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk17f"><span class="nb">intros</span> e x y [E1 E2];<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; y - x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk180" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk180"><hr></label><div class="goal-conclusion">y - x &lt; &#39; e</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk181">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; y - x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk182"><span class="nb">apply</span> flip_lt_negate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (y - x) &lt; - - &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk183"><span class="nb">rewrite</span> &lt;-negate_swap_r,involutive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - y &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk184">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y - x &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk185"><span class="nb">apply</span> flip_lt_negate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; - (y - x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk186"><span class="nb">rewrite</span> negate_swap_r,involutive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; x - y</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>x - y &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; x - y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk187"><span class="kn">Lemma</span> <span class="nf">Q_triangular_one</span>@{} : <span class="kr">forall</span> (<span class="nv">q</span> <span class="nv">r</span> : Q)
(<span class="nv">e</span> : Q+) (<span class="nv">Hqr</span> : close e q r)
(<span class="nv">q0</span> : Q) (<span class="nv">n</span> : Q+),
  (close n q q0 -&gt; close (e + n) r q0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">q</span> <span class="nv">r</span> : Q) (<span class="nv">e</span> : Q+),
close e q r -&gt;
<span class="kr">forall</span> (<span class="nv">q0</span> : Q) (<span class="nv">n</span> : Q+),
close n q q0 -&gt; close (e + n) r q0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk188"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">q</span> <span class="nv">r</span> : Q) (<span class="nv">e</span> : Q+),
close e q r -&gt;
<span class="kr">forall</span> (<span class="nv">q0</span> : Q) (<span class="nv">n</span> : Q+),
close n q q0 -&gt; close (e + n) r q0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk189"><span class="nb">unfold</span> close;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">q</span> <span class="nv">r</span> : Q) (<span class="nv">e</span> : Q+),
Q_close e q r -&gt;
<span class="kr">forall</span> (<span class="nv">q0</span> : Q) (<span class="nv">n</span> : Q+),
Q_close n q q0 -&gt; Q_close (e + n) r q0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18a"><span class="nb">intros</span> q r e [E1 E1&#39;] s n [E2 E2&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Q_close (e + n) r s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18b"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; (e + n) &lt; r - s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk18c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk18c"><hr></label><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; (e + n) &lt; r - s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18e"><span class="nb">apply</span> flip_lt_negate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (r - s) &lt; - - &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk18f"><span class="nb">rewrite</span> negate_swap_r,!involutive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk190"><span class="nb">apply</span> flip_lt_negate <span class="kr">in</span> E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- (q - s) &lt; - - &#39; n</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk191"><span class="nb">rewrite</span> negate_swap_r,!involutive <span class="kr">in</span> E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s - q &lt; &#39; n</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk192"><span class="nb">pose proof</span> (plus_lt_compat _ _ _ _ E1&#39; E2) <span class="kr">as</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s - q &lt; &#39; n</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r + (s - q) &lt; &#39; e + &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk193"><span class="nb">assert</span> (Hrw : s - r = q - r + (s - q))
    <span class="bp">by</span> <span class="kp">abstract</span> ring_tac.ring_with_integers (NatPair.Z nat).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s - q &lt; &#39; n</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>q - r + (s - q) &lt; &#39; e + &#39; n</span></span></span><br><span><var>Hrw</var><span class="hyp-type"><b>: </b><span>s - r = q - r + (s - q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Hrw;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk194">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk195"><span class="nb">apply</span> flip_lt_negate <span class="kr">in</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>- (q - r) &lt; - - &#39; e</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk196"><span class="nb">rewrite</span> negate_swap_r,!involutive <span class="kr">in</span> E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>r - q &lt; &#39; e</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk197"><span class="nb">pose proof</span> (plus_lt_compat _ _ _ _ E1 E2&#39;) <span class="kr">as</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>r - q &lt; &#39; e</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>r - q + (q - s) &lt; &#39; e + &#39; n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk198"><span class="nb">assert</span> (Hrw : r - s = r - q + (q - s))
    <span class="bp">by</span> <span class="kp">abstract</span> ring_tac.ring_with_integers (NatPair.Z nat).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>r - q &lt; &#39; e</span></span></span><br><span><var>E1'</var><span class="hyp-type"><b>: </b><span>q - r &lt; &#39; e</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>- &#39; n &lt; q - s</span></span></span><br><span><var>E2'</var><span class="hyp-type"><b>: </b><span>q - s &lt; &#39; n</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>r - q + (q - s) &lt; &#39; e + &#39; n</span></span></span><br><span><var>Hrw</var><span class="hyp-type"><b>: </b><span>r - s = r - q + (q - s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s &lt; &#39; (e + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Hrw;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk199"><span class="kn">Instance</span> <span class="nf">Q_triangular</span>@{} : Triangular Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Triangular Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19b"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> <span class="nv">v</span> <span class="nv">w</span> : Q) (<span class="nv">e</span> <span class="nv">d</span> : Q+),
close e u v -&gt; close d v w -&gt; close (e + d) u w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19c"><span class="nb">intros</span> u v w e d E1 E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) u w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19d"><span class="nb">apply</span> Q_triangular_one <span class="kr">with</span> v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e v u</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk19e"><hr></label><div class="goal-conclusion">close d v w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk19f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e v u</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>u, v, w</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>close e u v</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d v w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d v w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a1"><span class="kn">Lemma</span> <span class="nf">Qclose_separating_not_lt</span> : <span class="kr">forall</span> <span class="nv">q</span> <span class="nv">r</span> : Q, (<span class="kr">forall</span> <span class="nv">e</span>, close e q r) -&gt;
  ~ (q &lt; r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> <span class="nv">r</span> : Q,
(<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r) -&gt; ~ (q &lt; r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> <span class="nv">r</span> : Q,
(<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r) -&gt; ~ (q &lt; r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a3"><span class="nb">intros</span> q r E1 E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a4"><span class="nb">pose proof</span> (E1 (Qpos_diff _ _ E2)) <span class="kr">as</span> E3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>close (Qpos_diff q r E2) q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a5"><span class="nb">apply</span> <span class="nb">symmetry in</span> E3;<span class="nb">apply</span> Qclose_alt <span class="kr">in</span> E3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>abs (r - q) &lt; &#39; Qpos_diff q r E2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a6"><span class="nb">unfold</span> cast <span class="kr">in</span> E3;<span class="nb">simpl</span> <span class="kr">in</span> E3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>abs (r - q) &lt; r - q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a7"><span class="nb">apply</span> (irreflexivity lt (r - q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>abs (r - q) &lt; r - q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - q &lt; r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a8"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (abs (r - q));<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>abs (r - q) &lt; r - q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - q ‚â§ abs (r - q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_le_raw.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1a9"><span class="kn">Instance</span> <span class="nf">Qclose_separating</span> : Separated Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1aa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Separated Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ab"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : Q, (<span class="kr">forall</span> <span class="nv">e</span> : Q+, close e x y) -&gt; x = y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ac"><span class="nb">intros</span> q r E1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ad"><span class="nb">apply</span> tight_apart.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">~ (q ‚â∂ r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ae"><span class="nb">intros</span> E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q ‚â∂ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1af"><span class="nb">apply</span> apart_iff_total_lt <span class="kr">in</span> E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>((q &lt; r) + (r &lt; q))%type</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b0"><span class="nb">destruct</span> E2 <span class="kr">as</span> [E2|E2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1b1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r &lt; q</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1b1"><hr></label><div class="goal-conclusion">Empty</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>q &lt; r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Qclose_separating_not_lt _ _ E1 E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r &lt; q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Empty</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b4"><span class="nb">refine</span> (Qclose_separating_not_lt _ _ _ E2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e q r</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r &lt; q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e r q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>;<span class="nb">symmetry</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b5"><span class="kn">Instance</span> <span class="nf">Qclose_rounded</span>@{} : Rounded Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Rounded Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b7"><span class="nb">intros</span> e q r;<span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1b8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1b8"><hr></label><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}} -&gt;
close e q r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1b9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r -&gt;
merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ba"><span class="nb">intros</span> E;<span class="nb">apply</span> Qclose_alt <span class="kr">in</span> E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1bb"><span class="nb">pose proof</span> (Q_average_between _ _ E) <span class="kr">as</span> [E1 E2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1bc"><span class="nb">apply</span> tr;<span class="nb">simple refine</span> (exist _ (mkQpos ((abs (q - r) + &#39; e) / <span class="mi">2</span>) _) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1bd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1bd"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">d</span> : Q+ =&gt;
 {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type})
  {|
    pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>; is_pos := <span class="nl">?is_pos</span>
  |}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1be">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1bf"><span class="nb">apply</span> pos_mult_compat;[|solve_propholds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PropHolds (<span class="mi">0</span> &lt; abs (q - r) + &#39; e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c0"><span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; abs (q - r) + &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pos_plus_le_lt_compat_r;[solve_propholds|<span class="nb">apply</span> Qabs_nonneg].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c1">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">d</span> : Q+ =&gt;
 {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type})
  {|
    pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
    is_pos :=
      pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
        (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r)) (&#39; e)
           (pos_is_pos e) (Qabs_nonneg (q - r))
         :
         PropHolds (<span class="mi">0</span> &lt; abs (q - r) + &#39; e))
        (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c2"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d&#39; : Q+ &amp;
((e =
  plus
    {|
      pos := plus (abs (q - r)) (&#39; e) / <span class="mi">2</span>;
      is_pos :=
        pos_mult_compat (plus (abs (q - r)) (&#39; e))
          (/ <span class="mi">2</span>)
          (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r))
             (&#39; e) (pos_is_pos e)
             (Qabs_nonneg (q - r)))
          (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
    |} d&#39;) *
 close
   {|
     pos := plus (abs (q - r)) (&#39; e) / <span class="mi">2</span>;
     is_pos :=
       pos_mult_compat (plus (abs (q - r)) (&#39; e))
         (/ <span class="mi">2</span>)
         (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r))
            (&#39; e) (pos_is_pos e) (Qabs_nonneg (q - r)))
         (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
   |} q r)%type}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c3"><span class="kr">exists</span> (<span class="nv">Qpos_diff</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">E2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((e =
  plus
    {|
      pos := plus (abs (q - r)) (&#39; e) / <span class="mi">2</span>;
      is_pos :=
        pos_mult_compat (plus (abs (q - r)) (&#39; e))
          (/ <span class="mi">2</span>)
          (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r))
             (&#39; e) (pos_is_pos e)
             (Qabs_nonneg (q - r)))
          (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
    |}
    (Qpos_diff (plus (abs (q - r)) (&#39; e) / <span class="mi">2</span>) (&#39; e) E2)) *
 close
   {|
     pos := plus (abs (q - r)) (&#39; e) / <span class="mi">2</span>;
     is_pos :=
       pos_mult_compat (plus (abs (q - r)) (&#39; e))
         (/ <span class="mi">2</span>)
         (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r))
            (&#39; e) (pos_is_pos e) (Qabs_nonneg (q - r)))
         (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
   |} q r)%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c4"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e =
{|
  pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
  is_pos :=
    pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
      (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r)) (&#39; e)
         (pos_is_pos e) (Qabs_nonneg (q - r)))
      (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
|} + Qpos_diff ((abs (q - r) + &#39; e) / <span class="mi">2</span>) (&#39; e) E2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1c5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1c5"><hr></label><div class="goal-conclusion">close
  {|
    pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
    is_pos :=
      pos_mult_compat (abs (q - r) + &#39; e) 
        (/ <span class="mi">2</span>)
        (pos_plus_le_lt_compat_r <span class="mi">0</span> 
           (abs (q - r)) 
           (&#39; e) (pos_is_pos e) 
           (Qabs_nonneg (q - r)))
        (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
  |} q r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e =
{|
  pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
  is_pos :=
    pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
      (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r)) (&#39; e)
         (pos_is_pos e) (Qabs_nonneg (q - r)))
      (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
|} + Qpos_diff ((abs (q - r) + &#39; e) / <span class="mi">2</span>) (&#39; e) E2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c7"><span class="nb">apply</span> pos_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; e =
&#39; ({|
     pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
     is_pos :=
       pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
         (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r))
            (&#39; e) (pos_is_pos e) (Qabs_nonneg (q - r)))
         (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
   |} + Qpos_diff ((abs (q - r) + &#39; e) / <span class="mi">2</span>) (&#39; e) E2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Qpos_diff_pr _ _ E2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close
  {|
    pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
    is_pos :=
      pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
        (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r)) (&#39; e)
           (pos_is_pos e) (Qabs_nonneg (q - r)))
        (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
  |} q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1c9"><span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; (abs (q - r) + &#39; e) / <span class="mi">2</span></span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>(abs (q - r) + &#39; e) / <span class="mi">2</span> &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt;
&#39; {|
    pos := (abs (q - r) + &#39; e) / <span class="mi">2</span>;
    is_pos :=
      pos_mult_compat (abs (q - r) + &#39; e) (/ <span class="mi">2</span>)
        (pos_plus_le_lt_compat_r <span class="mi">0</span> (abs (q - r)) (&#39; e)
           (pos_is_pos e) (Qabs_nonneg (q - r)))
        (pos_dec_recip_compat <span class="mi">2</span> lt_0_2)
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> E1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely
  {d : Q+ &amp;
  {d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}} -&gt;
close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1cb"><span class="nb">apply</span> (Trunc_ind _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d : Q+ &amp;
{d&#39; : Q+ &amp; ((e = plus d d&#39;) * close d q r)%type}} -&gt;
close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1cc"><span class="nb">intros</span> [d [d&#39; [He xi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1cd"><span class="nb">apply</span> Qclose_alt;<span class="nb">rewrite</span> He.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; (d + d&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ce"><span class="nb">apply</span> Qclose_alt <span class="kr">in</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) &lt; &#39; (d + d&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1cf"><span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (&#39; d);<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; d ‚â§ &#39; (d + d&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d0"><span class="nb">apply</span> nonneg_plus_le_compat_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ &#39; d&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">solve_propholds.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d1"><span class="kn">Instance</span> <span class="nf">Q_premetric</span>@{} : PreMetric Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PreMetric Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d3"><span class="nb">split</span>;<span class="kp">try</span> <span class="nb">apply</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, Reflexive (close e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d4"><span class="nb">intros</span> e u;<span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (u - u) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d5"><span class="nb">rewrite</span> plus_negate_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs <span class="mi">0</span> &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d6"><span class="nb">unfold</span> abs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(abs_sig <span class="mi">0</span>).<span class="mi">1</span> &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d7"><span class="nb">rewrite</span> (fst (abs_sig <span class="mi">0</span>).<span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; &#39; e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1d8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1d8"><hr></label><div class="goal-conclusion"><span class="mi">0</span> ‚â§ <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1d9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">solve_propholds.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1da">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1db"><span class="kn">Instance</span> <span class="nf">Qneg_nonexpanding</span>@{} : NonExpanding ((-) : Negate Q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (negate : Negate Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1dc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding (negate : Negate Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1dd"><span class="nb">intros</span> e x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e x y -&gt; close e (- x) (- y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qclose_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1de"><span class="kn">Instance</span> <span class="nf">Qplus_nonexpanding_l</span>@{} : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (+ s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">y</span> : Q =&gt; y + s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1df"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">y</span> : Q =&gt; y + s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e0"><span class="nb">red</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Q) (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
close e x y -&gt; close e (x + s) (y + s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e1"><span class="nb">unfold</span> close,Q_close;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Q) (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
- &#39; e &lt; x - y &lt; &#39; e -&gt; - &#39; e &lt; x + s - (y + s) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e2"><span class="nb">intros</span> s e q r E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; q + s - (r + s) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e3"><span class="nb">assert</span> (Hrw : q + s - (r + s) = q - r)
  <span class="bp">by</span> <span class="kp">abstract</span> ring_tac.ring_with_integers (NatPair.Z nat).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r &lt; &#39; e</span></span></span><br><span><var>Hrw</var><span class="hyp-type"><b>: </b><span>q + s - (r + s) = q - r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; q + s - (r + s) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Hrw;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e4"><span class="kn">Instance</span> <span class="nf">Qplus_nonexpanding_r</span>@{} : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (s +).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (plus s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (plus s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e6"><span class="nb">red</span>;<span class="nb">unfold</span> close,Q_close;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">s</span> : Q) (<span class="nv">e</span> : Q+) (<span class="nv">x</span> <span class="nv">y</span> : Q),
- &#39; e &lt; x - y &lt; &#39; e -&gt; - &#39; e &lt; s + x - (s + y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e7"><span class="nb">intros</span> s e q r E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; s + q - (s + r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e8"><span class="nb">assert</span> (Hrw : s + q - (s + r) = q - r)
  <span class="bp">by</span> <span class="kp">abstract</span> ring_tac.ring_with_integers (NatPair.Z nat).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>- &#39; e &lt; q - r &lt; &#39; e</span></span></span><br><span><var>Hrw</var><span class="hyp-type"><b>: </b><span>s + q - (s + r) = q - r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- &#39; e &lt; s + q - (s + r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Hrw;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1e9"><span class="kn">Instance</span> <span class="nf">Qabs_nonexpanding</span> : NonExpanding (abs (A:=Q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding abs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ea"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NonExpanding abs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1eb"><span class="nb">intros</span> e q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (abs q) (abs r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ec"><span class="nb">apply</span> Qclose_alt <span class="kr">in</span> xi;<span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (abs q - abs r) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ed"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (abs (q - r));<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (abs q - abs r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_triangle_alt.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ee"><span class="kn">Instance</span> <span class="nf">Qmeet_nonexpanding_l</span> : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (‚äì s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">Y</span> : Q =&gt; Y ‚äì s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ef"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">Y</span> : Q =&gt; Y ‚äì s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f0"><span class="nb">intros</span> s e q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (q ‚äì s) (r ‚äì s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f1"><span class="nb">apply</span> Qclose_alt;<span class="nb">apply</span> Qclose_alt <span class="kr">in</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äì s - (r ‚äì s)) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f2"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (abs (q - r));<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äì s - (r ‚äì s)) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f3"><span class="nb">clear</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äì s - (r ‚äì s)) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f4"><span class="nb">destruct</span> (total le q s) <span class="kr">as</span> [E1|E1], (total le r s) <span class="kr">as</span> [E2|E2];
<span class="nb">rewrite</span> ?(meet_l _ _ E1), ?(meet_r _ _ E1), ?(meet_l _ _ E2), ?(meet_r _ _ E2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) ‚â§ abs (q - r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1f5"><hr></label><div class="goal-conclusion">abs (q - s) ‚â§ abs (q - r)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1f6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1f6"><hr></label><div class="goal-conclusion">abs (s - r) ‚â§ abs (q - r)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk1f7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk1f7"><hr></label><div class="goal-conclusion">abs (s - s) ‚â§ abs (q - r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1f9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - s) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1fa"><span class="nb">rewrite</span> (Qabs_of_nonpos (q - r))
  <span class="bp">by</span> (<span class="nb">apply</span> (snd (flip_nonpos_minus _ _)); <span class="nb">transitivity</span> s;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - s) ‚â§ - (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1fb"><span class="nb">rewrite</span> &lt;-negate_swap_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - s) ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1fc"><span class="nb">rewrite</span> (Qabs_of_nonpos _ (snd (flip_nonpos_minus _ _) E1)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (q - s) ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1fd"><span class="nb">rewrite</span> &lt;-negate_swap_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - q ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1fe"><span class="nb">apply</span> (order_preserving (+ (- q))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚â§ r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk1ff">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk200"><span class="nb">rewrite</span> (Qabs_of_nonneg (q - r))
  <span class="bp">by</span> (<span class="nb">apply</span> (snd (flip_nonneg_minus _ _)); <span class="nb">transitivity</span> s;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - r) ‚â§ q - r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk201"><span class="nb">rewrite</span> (Qabs_of_nonneg _ (snd (flip_nonneg_minus _ _) E2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - r ‚â§ q - r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk202"><span class="nb">apply</span> (order_preserving (+ (- r))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s ‚â§ q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk203">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - s) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk204"><span class="nb">rewrite</span> plus_negate_r,Qabs_of_nonneg <span class="bp">by</span> <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_nonneg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk205"><span class="kn">Instance</span> <span class="nf">Qmeet_nonexpanding_r</span> : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (s ‚äì).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (meet s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk206"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (meet s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk207"><span class="nb">intros</span> s e q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (s ‚äì q) (s ‚äì r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk208"><span class="nb">pose proof</span> meet_sl_order_meet_sl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsMeetSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (s ‚äì q) (s ‚äì r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk209"><span class="nb">rewrite</span> !(commutativity s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsMeetSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (q ‚äì s) (r ‚äì s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20a"><span class="nb">apply</span> (non_expanding (<span class="kr">fun</span> <span class="nv">x</span> =&gt; meet x s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsMeetSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20b"><span class="kn">Instance</span> <span class="nf">Qjoin_nonexpanding_l</span> : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (‚äî s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">Y</span> : Q =&gt; Y ‚äî s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (<span class="kr">fun</span> <span class="nv">Y</span> : Q =&gt; Y ‚äî s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20d"><span class="nb">intros</span> s e q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (q ‚äî s) (r ‚äî s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20e"><span class="nb">apply</span> Qclose_alt;<span class="nb">apply</span> Qclose_alt <span class="kr">in</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äî s - (r ‚äî s)) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk20f"><span class="nb">apply</span> le_lt_trans <span class="kr">with</span> (abs (q - r));<span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>abs (q - r) &lt; &#39; e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äî s - (r ‚äî s)) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk210"><span class="nb">clear</span> xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q ‚äî s - (r ‚äî s)) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk211"><span class="nb">destruct</span> (total le q s) <span class="kr">as</span> [E1|E1], (total le r s) <span class="kr">as</span> [E2|E2];
<span class="nb">rewrite</span> ?(join_l _ _ E1), ?(join_r _ _ E1), ?(join_l _ _ E2), ?(join_r _ _ E2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - s) ‚â§ abs (q - r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk212" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk212"><hr></label><div class="goal-conclusion">abs (s - r) ‚â§ abs (q - r)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk213" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk213"><hr></label><div class="goal-conclusion">abs (q - s) ‚â§ abs (q - r)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk214" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk214"><hr></label><div class="goal-conclusion">abs (q - r) ‚â§ abs (q - r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk215">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - s) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk216"><span class="nb">rewrite</span> plus_negate_r,Qabs_of_nonneg <span class="bp">by</span> <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_nonneg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk217">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk218"><span class="nb">rewrite</span> (Qabs_of_nonpos (q - r))
  <span class="bp">by</span> (<span class="nb">apply</span> (snd (flip_nonpos_minus _ _)); <span class="nb">transitivity</span> s;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - r) ‚â§ - (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk219"><span class="nb">rewrite</span> &lt;-negate_swap_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (s - r) ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21a"><span class="nb">rewrite</span> (Qabs_of_nonpos _ (snd (flip_nonpos_minus _ _) E2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (s - r) ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21b"><span class="nb">rewrite</span> &lt;-negate_swap_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r - s ‚â§ r - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21c"><span class="nb">apply</span> (order_preserving (r +)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- s ‚â§ - q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21d"><span class="nb">apply</span> (snd (flip_le_negate _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>q ‚â§ s</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q ‚â§ s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - s) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk21f"><span class="nb">rewrite</span> (Qabs_of_nonneg (q - r))
  <span class="bp">by</span> (<span class="nb">apply</span> (snd (flip_nonneg_minus _ _)); <span class="nb">transitivity</span> s;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - s) ‚â§ q - r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk220"><span class="nb">rewrite</span> (Qabs_of_nonneg _ (snd (flip_nonneg_minus _ _) E1)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q - s ‚â§ q - r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk221"><span class="nb">apply</span> (order_preserving (q +)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- s ‚â§ - r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk222"><span class="nb">apply</span> (snd (flip_le_negate _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>r ‚â§ s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r ‚â§ s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk223">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>s ‚â§ q</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>s ‚â§ r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q - r) ‚â§ abs (q - r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk224"><span class="kn">Instance</span> <span class="nf">Qjoin_nonexpanding_r</span> : <span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (s ‚äî).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (join s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk225"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : Q, NonExpanding (join s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk226"><span class="nb">intros</span> s e q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (s ‚äî q) (s ‚äî r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk227"><span class="nb">pose proof</span> join_sl_order_join_sl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsJoinSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (s ‚äî q) (s ‚äî r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk228"><span class="nb">rewrite</span> !(commutativity s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsJoinSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (q ‚äî s) (r ‚äî s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk229"><span class="nb">apply</span> (non_expanding (<span class="kr">fun</span> <span class="nv">x</span> =&gt; join x s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e q r</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>IsJoinSemiLattice Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22a"><span class="kn">Instance</span> <span class="nf">Qmult_lipschitz</span>@{} : <span class="kr">forall</span> <span class="nv">q</span> : Q, Lipschitz (q *.) (pos_of_Q q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : Q, Lipschitz (mult q) (pos_of_Q q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">q</span> : Q, Lipschitz (mult q) (pos_of_Q q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22c"><span class="nb">intros</span> q e x y xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (pos_of_Q q * e) (q * x) (q * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22d"><span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (q * x - q * y) &lt; &#39; (pos_of_Q q * e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22e"><span class="nb">rewrite</span> negate_mult_distr_r,&lt;-plus_mult_distr_l,Qabs_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs q * abs (x - y) &lt; &#39; (pos_of_Q q * e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk22f"><span class="nb">apply</span> pos_mult_le_lt_compat;<span class="kp">try</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk230" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk230"><hr></label><div class="goal-conclusion">abs q ‚â§ &#39; pos_of_Q q</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk231" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk231"><hr></label><div class="goal-conclusion"><span class="mi">0</span> &lt; &#39; pos_of_Q q</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk232" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk232"><hr></label><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs (x - y)</div></blockquote><input class="alectryon-extra-goal-toggle" id="premetric-v-chk233" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk233"><hr></label><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk234">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_nonneg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk235">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs q ‚â§ &#39; pos_of_Q q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk236"><span class="nb">rewrite</span> Qabs_is_join.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- q ‚äî q ‚â§ &#39; pos_of_Q q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk237"><span class="nb">apply</span> join_le.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- q ‚â§ &#39; pos_of_Q q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk238" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk238"><hr></label><div class="goal-conclusion">q ‚â§ &#39; pos_of_Q q</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk239">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- q ‚â§ &#39; pos_of_Q q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> flip_le_negate;<span class="nb">rewrite</span> involutive; <span class="nb">apply</span> Q_abs_plus_1_bounds.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q ‚â§ &#39; pos_of_Q q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Q_abs_plus_1_bounds.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt; &#39; pos_of_Q q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">solve_propholds.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> ‚â§ abs (x - y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qabs_nonneg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (x - y) &lt; &#39; e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qclose_alt,xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">Qpos_upper_close</span> <span class="nv">e</span> : Closeness (Qpos_upper e)
  := <span class="kr">fun</span> <span class="nv">n</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; close n x.<span class="mi">1</span> y.<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Qpos_upper_close _ _ _ _ /.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23e"><span class="kn">Instance</span> <span class="nf">Q_recip_lipschitz</span> (<span class="nv">e</span> : Q+)
  : Lipschitz ((/) ‚àò pr1 ‚àò (Qpos_upper_inject e)) (/ (e * e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (dec_recip ‚àò pr1 ‚àò Qpos_upper_inject e)
  (/ (e * e))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk23f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (dec_recip ‚àò pr1 ‚àò Qpos_upper_inject e)
  (/ (e * e))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk240"><span class="nb">intros</span> n q r xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (/ (e * e) * n)
  ((dec_recip ‚àò pr1 ‚àò Qpos_upper_inject e) q)
  ((dec_recip ‚àò pr1 ‚àò Qpos_upper_inject e) r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk241"><span class="nb">unfold</span> Compose;<span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (/ (e * e) * n) (/ (q ‚äî &#39; e)) (/ (r ‚äî &#39; e))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk242"><span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (/ (q ‚äî &#39; e) - / (r ‚äî &#39; e)) &lt; &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk243"><span class="nb">assert</span> (PropHolds (<span class="mi">0</span> &lt; join q (&#39; e))) <span class="kr">as</span> E
  <span class="bp">by</span> (<span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (&#39; e);[solve_propholds|<span class="nb">apply</span> join_ub_r]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (/ (q ‚äî &#39; e) - / (r ‚äî &#39; e)) &lt; &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk244"><span class="nb">apply</span> (strictly_order_reflecting ((join q (&#39; e)) *.)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q ‚äî &#39; e) * abs (/ (q ‚äî &#39; e) - / (r ‚äî &#39; e)) &lt;
(q ‚äî &#39; e) * &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk245"><span class="nb">assert</span> (PropHolds (<span class="mi">0</span> &lt; join r (&#39; e))) <span class="kr">as</span> E&#39;
  <span class="bp">by</span> (<span class="nb">apply</span> lt_le_trans <span class="kr">with</span> (&#39; e);[solve_propholds|<span class="nb">apply</span> join_ub_r]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(q ‚äî &#39; e) * abs (/ (q ‚äî &#39; e) - / (r ‚äî &#39; e)) &lt;
(q ‚äî &#39; e) * &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk246"><span class="nb">apply</span> (strictly_order_reflecting ((join r (&#39; e)) *.)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r ‚äî &#39; e) *
((q ‚äî &#39; e) * abs (/ (q ‚äî &#39; e) - / (r ‚äî &#39; e))) &lt;
(r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk247"><span class="nb">set</span> (X := join r (&#39; e)) <span class="nb">at</span> <span class="mi">2</span> <span class="mi">3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r ‚äî &#39; e) * ((q ‚äî &#39; e) * abs (/ (q ‚äî &#39; e) - / X)) &lt;
X * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk248"><span class="nb">rewrite</span> &lt;-(Qabs_of_nonneg (join r _)) <span class="bp">by</span> solve_propholds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e) * ((q ‚äî &#39; e) * abs (/ (q ‚äî &#39; e) - / X)) &lt;
X * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk249"><span class="nb">set</span> (Y := join q (&#39; e)) <span class="nb">at</span> <span class="mi">2</span> <span class="mi">3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e) * ((q ‚äî &#39; e) * abs (/ Y - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24a"><span class="nb">rewrite</span> &lt;-(Qabs_of_nonneg (join q _)) <span class="bp">by</span> solve_propholds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e) * (abs (q ‚äî &#39; e) * abs (/ Y - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24b"><span class="nb">rewrite</span> &lt;-!Qabs_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs ((r ‚äî &#39; e) * ((q ‚äî &#39; e) * (/ Y - / X))) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24c"><span class="nb">rewrite</span> !(plus_mult_distr_l (Aplus:=Qplus)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs
  ((r ‚äî &#39; e) * ((q ‚äî &#39; e) / Y) +
   (r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24d"><span class="nb">rewrite</span> dec_recip_inverse <span class="bp">by</span> (<span class="nb">apply</span> irrefl_neq,symmetric_neq <span class="kr">in</span> E;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs ((r ‚äî &#39; e) * <span class="mi">1</span> + (r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24e"><span class="nb">rewrite</span> mult_1_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e + (r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk24f"><span class="nb">assert</span> (Hrw :  (r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / (r ‚äî &#39; e)) = - Y * (X / X))
  <span class="bp">by</span> ring_tac.ring_with_integers (NatPair.Z nat).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Hrw</var><span class="hyp-type"><b>: </b><span>(r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / (r ‚äî &#39; e)) =
- Y * (X / X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e + (r ‚äî &#39; e) * ((q ‚äî &#39; e) * - / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk250"><span class="nb">rewrite</span> Hrw;<span class="nb">clear</span> Hrw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e + - Y * (X / X)) &lt;
X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk251"><span class="nb">rewrite</span> dec_recip_inverse <span class="bp">by</span> (<span class="nb">apply</span> irrefl_neq,symmetric_neq <span class="kr">in</span> E&#39;;<span class="nb">trivial</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e + - Y * <span class="mi">1</span>) &lt; X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk252"><span class="nb">rewrite</span> mult_1_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e - Y) &lt; X * (Y * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk253"><span class="nb">unfold</span> X, Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e - (q ‚äî &#39; e)) &lt;
(r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk254"><span class="nb">eapply</span> lt_le_trans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e - (q ‚äî &#39; e)) &lt; <span class="nl">?y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk255" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><label class="goal-separator" for="premetric-v-chk255"><hr></label><div class="goal-conclusion"><span class="nl">?y</span> ‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk256">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abs (r ‚äî &#39; e - (q ‚äî &#39; e)) &lt; <span class="nl">?y</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk257"><span class="nb">apply</span> Qclose_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> (r ‚äî &#39; e) (q ‚äî &#39; e)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk258"><span class="nb">eapply</span> (non_expanding (‚äî &#39; e)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> r q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk259"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close <span class="nl">?e</span> q r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; n ‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25b"><span class="nb">transitivity</span> (&#39; (((e * e) / (e * e)) * n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; n ‚â§ &#39; ((e * e) / (e * e) * n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk25c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><label class="goal-separator" for="premetric-v-chk25c"><hr></label><div class="goal-conclusion">&#39; ((e * e) / (e * e) * n)
‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; n ‚â§ &#39; ((e * e) / (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> pos_recip_r,Qpos_mult_1_l;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; ((e * e) / (e * e) * n)
‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk25f"><span class="nb">rewrite</span> &lt;-!Qpos_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (e * (e * (/ (e * e) * n)))
‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk260"><span class="nb">change</span> (&#39; (e * (e * (/ (e * e) * n)))) <span class="kr">with</span> (&#39; e * (&#39; e * &#39; (/ (e * e) * n))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; e * (&#39; e * &#39; (/ (e * e) * n))
‚â§ (r ‚äî &#39; e) * ((q ‚äî &#39; e) * &#39; (/ (e * e) * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk261"><span class="nb">apply</span> mult_le_compat;<span class="kp">try</span> solve_propholds;[<span class="nb">apply</span> join_ub_r|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; e * &#39; (/ (e * e) * n)
‚â§ (q ‚äî &#39; e) * &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk262"><span class="nb">apply</span> mult_le_compat;<span class="kp">try</span> solve_propholds;[<span class="nb">apply</span> join_ub_r|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>e, n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>q, r</var><span class="hyp-type"><b>: </b><span>Q</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close n q r</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; q ‚äî &#39; e)</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>PropHolds (<span class="mi">0</span> &lt; r ‚äî &#39; e)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>r ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>q ‚äî &#39; e</span></span><span class="hyp-type"><b>: </b><span>Q</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">&#39; (/ (e * e) * n) ‚â§ &#39; (/ (e * e) * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">rationals</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">cauchy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Universe</span> <span class="nf">UA</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>@{UA} } {<span class="nv">Aclose</span> : Closeness A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{!PreMetric A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk263"><span class="kn">Lemma</span> <span class="nf">limit_unique</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">l1</span> <span class="nv">l2</span>, IsLimit x l1 -&gt; IsLimit x l2 -&gt; l1 = l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : Approximation A) (<span class="nv">l1</span> <span class="nv">l2</span> : A),
IsLimit x l1 -&gt; IsLimit x l2 -&gt; l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk264"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : Approximation A) (<span class="nv">l1</span> <span class="nv">l2</span> : A),
IsLimit x l1 -&gt; IsLimit x l2 -&gt; l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk265"><span class="nb">intros</span> x l1 l2 E1 E2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit x l1</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>IsLimit x l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk266"><span class="nb">apply</span> separated.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit x l1</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>IsLimit x l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">e</span> : Q+, close e l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk267"><span class="nb">intros</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit x l1</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>IsLimit x l2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk268"><span class="nb">rewrite</span> (pos_split2 e),(pos_split2 (e/<span class="mi">2</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit x l1</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>IsLimit x l2</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close
  ((e / <span class="mi">2</span>) / <span class="mi">2</span> + (e / <span class="mi">2</span>) / <span class="mi">2</span> +
   ((e / <span class="mi">2</span>) / <span class="mi">2</span> + (e / <span class="mi">2</span>) / <span class="mi">2</span>)) l1 l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> triangular <span class="kr">with</span> (x (e / <span class="mi">2</span> / <span class="mi">2</span>));[<span class="nb">symmetry</span>;<span class="nb">apply</span> E1|<span class="nb">apply</span> E2].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk269"><span class="kn">Lemma</span> <span class="nf">equiv_through_approx0</span> : <span class="kr">forall</span> (<span class="nv">y</span> : Approximation A) <span class="nv">ly</span>, IsLimit y ly -&gt;
  <span class="kr">forall</span> <span class="nv">u</span> <span class="nv">e</span> <span class="nv">d</span>, close e u (y d) -&gt; close (e+d) u ly.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">y</span> : Approximation A) (<span class="nv">ly</span> : A),
IsLimit y ly -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : A) (<span class="nv">e</span> <span class="nv">d</span> : Q+),
close e u (y d) -&gt; close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">y</span> : Approximation A) (<span class="nv">ly</span> : A),
IsLimit y ly -&gt;
<span class="kr">forall</span> (<span class="nv">u</span> : A) (<span class="nv">e</span> <span class="nv">d</span> : Q+),
close e u (y d) -&gt; close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26b"><span class="nb">intros</span> y ly E1 u e d xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26c"><span class="nb">apply</span> (merely_destruct ((fst (rounded _ _ _) xi))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{d0 : Q+ &amp;
{d&#39; : Q+ &amp; ((e = plus d0 d&#39;) * close d0 u (y d))%type}} -&gt;
close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26d"><span class="nb">intros</span> [d0 [d&#39; [He E2]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br><span><var>d0, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d0 + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d0 u (y d)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26e"><span class="nb">pose proof</span> (triangular _ _ _ _ _ E2 (E1 d&#39; _)) <span class="kr">as</span> E3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br><span><var>d0, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d0 + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d0 u (y d)</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>close (d0 + (d&#39; + d)) u ly</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) u ly</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk26f"><span class="nb">assert</span> (Hrw : e + d = d0 + (d&#39; + d));[|<span class="nb">rewrite</span> Hrw;<span class="nb">trivial</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br><span><var>d0, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d0 + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d0 u (y d)</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>close (d0 + (d&#39; + d)) u ly</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = d0 + (d&#39; + d)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk270"><span class="nb">rewrite</span> He.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br><span><var>d0, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d0 + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d0 u (y d)</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>close (d0 + (d&#39; + d)) u ly</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d0 + d&#39; + d = d0 + (d&#39; + d)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk271"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>ly</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>E1</var><span class="hyp-type"><b>: </b><span>IsLimit y ly</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e, d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e u (y d)</span></span></span><br><span><var>d0, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d0 + d&#39;</span></span></span><br><span><var>E2</var><span class="hyp-type"><b>: </b><span>close d0 u (y d)</span></span></span><br><span><var>E3</var><span class="hyp-type"><b>: </b><span>close (d0 + (d&#39; + d)) u ly</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">d0 + (d&#39; + d) = d0 + d&#39; + d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Qpos_plus_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">Alim</span> : Lim A} `{!CauchyComplete A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk272" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk272"><span class="kn">Lemma</span> <span class="nf">equiv_through_approx</span> : <span class="kr">forall</span> <span class="nv">u</span> (<span class="nv">y</span> : Approximation A) <span class="nv">e</span> <span class="nv">d</span>,
  close e u (y d) -&gt; close (e+d) u (lim y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> : A) (<span class="nv">y</span> : Approximation A) (<span class="nv">e</span> <span class="nv">d</span> : Q+),
close e u (y d) -&gt; close (e + d) u (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk273"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> : A) (<span class="nv">y</span> : Approximation A) (<span class="nv">e</span> <span class="nv">d</span> : Q+),
close e u (y d) -&gt; close (e + d) u (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk274"><span class="nb">intros</span> u y;<span class="nb">apply</span> equiv_through_approx0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLimit y (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cauchy_complete.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk275"><span class="kn">Lemma</span> <span class="nf">equiv_lim_lim</span> (<span class="nv">x</span> <span class="nv">y</span> : Approximation A) (<span class="nv">e</span> <span class="nv">d</span> <span class="nv">n</span> <span class="nv">e&#39;</span> : Q+)
  : e = d + n + e&#39; -&gt; close e&#39; (x d) (y n) -&gt; close e (lim x) (lim y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d + n + e&#39; -&gt;
close e&#39; (x d) (y n) -&gt; close e (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk276"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e = d + n + e&#39; -&gt;
close e&#39; (x d) (y n) -&gt; close e (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk277"><span class="nb">intros</span> He xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk278" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk278"><span class="nb">rewrite</span> He.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (d + n + e&#39;) (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk279"><span class="nb">assert</span> (Hrw : d + n + e&#39; = e&#39; + d + n) <span class="bp">by</span> (<span class="nb">apply</span> pos_eq;ring_tac.ring_with_nat);
<span class="nb">rewrite</span> Hrw;<span class="nb">clear</span> Hrw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e&#39; + d + n) (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27a"><span class="nb">apply</span> equiv_through_approx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e&#39; + d) (lim x) (y n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27b"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e&#39; + d) (y n) (lim x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27c"><span class="nb">apply</span> equiv_through_approx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e, d, n, e'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>He</var><span class="hyp-type"><b>: </b><span>e = d + n + e&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e&#39; (x d) (y n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close e&#39; (y n) (x d)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27d"><span class="kn">Lemma</span> <span class="nf">lim_same_distance</span>@{} : <span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> : Approximation A) <span class="nv">e</span>,
  (<span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span>, close (e+d) (x n) (y n)) -&gt;
  <span class="kr">forall</span> <span class="nv">d</span>, close (e+d) (lim x) (lim y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> : Approximation A) (<span class="nv">e</span> : Q+),
(<span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)) -&gt;
<span class="kr">forall</span> <span class="nv">d</span> : Q+, close (e + d) (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> : Approximation A) (<span class="nv">e</span> : Q+),
(<span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)) -&gt;
<span class="kr">forall</span> <span class="nv">d</span> : Q+, close (e + d) (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk27f"><span class="nb">intros</span> x y e E d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (e + d) (lim x) (lim y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk280"><span class="nb">apply</span> equiv_lim_lim <span class="kr">with</span> (d/<span class="mi">3</span>) (d/<span class="mi">3</span>) (e + d/<span class="mi">3</span>);[|<span class="nb">apply</span> E].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = d / <span class="mi">3</span> + d / <span class="mi">3</span> + (e + d / <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk281">path_via (e + <span class="mi">3</span> / <span class="mi">3</span> * d).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = e + <span class="mi">3</span> / <span class="mi">3</span> * d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="premetric-v-chk282" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><label class="goal-separator" for="premetric-v-chk282"><hr></label><div class="goal-conclusion">e + <span class="mi">3</span> / <span class="mi">3</span> * d = d / <span class="mi">3</span> + d / <span class="mi">3</span> + (e + d / <span class="mi">3</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk283">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + d = e + <span class="mi">3</span> / <span class="mi">3</span> * d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> pos_recip_r,Qpos_mult_1_l;<span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk284">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>Alim</var><span class="hyp-type"><b>: </b><span>Lim A</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete A</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Approximation A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">d</span> <span class="nv">n</span> : Q+, close (e + d) (x n) (y n)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e + <span class="mi">3</span> / <span class="mi">3</span> * d = d / <span class="mi">3</span> + d / <span class="mi">3</span> + (e + d / <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pos_eq;ring_tac.ring_with_nat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">cauchy</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">lipschitz_lim</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>:<span class="kt">Type</span>} {<span class="nv">Aclose</span> : Closeness A} `{!PreMetric A}
  `{Bclose : Closeness B} `{!PreMetric B} {Blim : Lim B}
   `{!CauchyComplete B}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk285">#[export] <span class="kn">Instance</span> <span class="nf">lipschitz_lim_lipschitz</span> (<span class="nv">s</span> : Approximation (A -&gt; B)) <span class="nv">L</span>
  `{!<span class="kr">forall</span> <span class="nv">e</span>, Lipschitz (s e) L} : Lipschitz (lim s) L.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (lim s) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk286"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lipschitz (lim s) L</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk287"><span class="nb">intros</span> e x y xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close e x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * e) (lim s x) (lim s y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk288"><span class="nb">apply</span> rounded <span class="kr">in</span> xi;<span class="nb">revert</span> xi;<span class="nb">apply</span> (Trunc_ind _);<span class="nb">intros</span> [d [d&#39; [E xi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * e) (lim s x) (lim s y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk289"><span class="nb">rewrite</span> E,Qpos_plus_mult_distr_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * d + L * d&#39;) (lim s x) (lim s y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28a"><span class="nb">apply</span> lim_same_distance.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d, d'</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>e = d + d&#39;</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">d0</span> <span class="nv">n</span> : Q+,
close (L * d + d0)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e x;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) x
   |} n)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e y;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) y
   |} n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28b"><span class="nb">clear</span> e d&#39; E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">d0</span> <span class="nv">n</span> : Q+,
close (L * d + d0)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e x;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) x
   |} n)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e y;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) y
   |} n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28c"><span class="nb">intros</span> d&#39; n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br><span><var>d', n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * d + d&#39;)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e x;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) x
   |} n)
  ({|
     approximate := <span class="kr">fun</span> <span class="nv">e</span> : Q+ =&gt; s e y;
     approx_equiv :=
       <span class="kr">fun</span> <span class="nv">d</span> <span class="nv">e</span> : Q+ =&gt;
       close_arrow_apply (d + e) (s d) (s e)
         (approx_equiv (A -&gt; B) s d e) y
   |} n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br><span><var>d', n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * d + d&#39;) (s n x) (s n y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28e"><span class="nb">apply</span> rounded_plus.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br><span><var>d', n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close (L * d) (s n x) (s n y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="premetric-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="premetric-v-chk28f"><span class="nb">apply</span> (lipschitz (s n) L).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>funext</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>univalence</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Aclose</var><span class="hyp-type"><b>: </b><span>Closeness A</span></span></span><br><span><var>PreMetric0</var><span class="hyp-type"><b>: </b><span>PreMetric A</span></span></span><br><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Bclose</var><span class="hyp-type"><b>: </b><span>Closeness B</span></span></span><br><span><var>PreMetric1</var><span class="hyp-type"><b>: </b><span>PreMetric B</span></span></span><br><span><var>Blim</var><span class="hyp-type"><b>: </b><span>Lim B</span></span></span><br><span><var>CauchyComplete0</var><span class="hyp-type"><b>: </b><span>CauchyComplete B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Approximation (A -&gt; B)</span></span></span><br><span><var>L</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">e</span> : Q+, Lipschitz (s e) L</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>close d x y</span></span></span><br><span><var>d', n</var><span class="hyp-type"><b>: </b><span>Q+</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">close d x y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">lipschitz_lim</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">contents</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> rounded_le {_ _ A _ _} e u v _ d _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> non_expanding {A _ B _} f {_ e x y} _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> lipschitz {A _ B _} f L {_ e x y} _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> uniform {A _ B _} f mu {_} _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> continuous {A _ B _} f {_} _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_nonexpanding {A _ B _ C _ D _} f g {_ _} e x y xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_lipschitz {_ _ A _ B _ C _ D _} f g {_ _} Lf Lg {_ _} e x y xi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> map2_continuous {_ _ A _ B _ C _ D _} f g {_ _ _ _} u e.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Interval_close {_ _ _} _ _ _ _ _ /.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Lim A {_}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> lim {A _ _} _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Approximation A {_}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Build_Approximation {A _} _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> approximate {A _} _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> approx_equiv {A _} _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> CauchyComplete A {_ _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> arrow_lim {A B _ _ _} _ / _.</span></span></pre>
</div>
</div></body>
</html>
