<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Ideal.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk0"><span class="kn">From</span> HoTT <span class="kn">Require Import</span> Basics Types.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Spaces.Finite.Fin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Classes.interfaces.canonical_names.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Algebra.Rings.Ring.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Algebra.Groups.Subgroup.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Algebra.AbGroups.AbelianGroup.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Declare Scope</span> ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Delimit Scope</span> ideal_scope <span class="kr">with</span> ideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> predicate_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Left, Right and Two-sided Ideals *)</span>

<span class="sd">(** ** Definition of Ideals *)</span>

<span class="sd">(** An additive subgroup [I] of a ring [R] is a left ideal when it is closed under multiplication on the left. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsLeftIdeal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) :=
  isleftideal (r x : R) : I x -&gt; I (r * x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** An additive subgroup [I] of a ring [R] is a right ideal when it is closed under multiplication on the right. We define this using the opposite ring allowing us to reduce redundancy between left and right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsRightIdeal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) :=
  isrightideal_isleftideal_op :: IsLeftIdeal (R := rng_op R) I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isrightideal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) (<span class="nv">x</span> <span class="nv">r</span> : R)
  : IsRightIdeal I -&gt; I x -&gt; I (x * r)
  := <span class="kr">fun</span> <span class="nv">_</span> =&gt; isleftideal (R := rng_op R) r x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** An additive subgroup [I] of a ring [R] is a two-sided ideal when it is both a left and right ideal. In this case we just call it an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsIdeal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) := {
  ideal_isleftideal :: IsLeftIdeal I;
  ideal_isrightideal :: IsRightIdeal I;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_IsIdeal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) : _ &lt;~&gt; IsIdeal I := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Hint Immediate</span> Build_IsIdeal : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Any two-sided ideal is also a two-sided ideal of the opposite ring. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1"><span class="kn">Instance</span> <span class="nf">isideal_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
  : IsIdeal I -&gt; IsIdeal (R := rng_op R) I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIdeal I -&gt; IsIdeal I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIdeal I -&gt; IsIdeal I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [? ?]; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A left ideal of a ring [R] is a subgroup [I] of [R] which is closed under left multiplication. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">LeftIdeal</span> (<span class="nv">R</span> : Ring) := {
  leftideal_subgroup :&gt; Subgroup R;
  leftideal_isleftideal :: IsLeftIdeal leftideal_subgroup;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_LeftIdeal</span> (<span class="nv">R</span> : Ring) : _ &lt;~&gt; LeftIdeal R := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A right ideal of a ring [R] is a subgroup [I] of [R] which is closed under right multiplication. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">RightIdeal</span> (<span class="nv">R</span> : Ring) := LeftIdeal (rng_op R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightdeal_rightideal</span> {<span class="nv">R</span>} (<span class="nv">I</span> : RightIdeal R)
  : IsRightIdeal (R:=R) I
  := leftideal_isleftideal _ I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Build_RightIdeal</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> : Subgroup R) (<span class="nv">H</span> : IsRightIdeal I)
  : RightIdeal R
  := Build_LeftIdeal (rng_op R) I H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_RightIdeal</span> (<span class="nv">R</span> : Ring)
  : {I : Subgroup R&amp; IsRightIdeal (R:=R) I} &lt;~&gt; RightIdeal R
  := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A two-sided ideal of a ring [R], or just an ideal, is a subgroup [I] of [R] which is closed under both left and right multiplication. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">Ideal</span> (<span class="nv">R</span> : Ring) := {
  ideal_subgroup :&gt; Subgroup R;
  ideal_isideal :: IsIdeal ideal_subgroup;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">issig_Ideal</span> (<span class="nv">R</span> : Ring) : _ &lt;~&gt; Ideal R := <span class="kp">ltac</span>:(issig).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_op</span> (<span class="nv">R</span> : Ring) : Ideal R -&gt; Ideal (rng_op R)
  := <span class="kr">fun</span> <span class="nv">I</span> =&gt; Build_Ideal (rng_op R) I _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">ideal_op</span> : Ideal &gt;-&gt; Ideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_op</span> (<span class="nv">R</span> : Ring) : LeftIdeal R -&gt; RightIdeal (rng_op R)
  := idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_op</span> (<span class="nv">R</span> : Ring) : RightIdeal R -&gt; LeftIdeal (rng_op R)
  := idmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Truncatedness properties *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">IdealTrunc</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Assuming [Funext] we can show that the ideal predicates are propositions. *)</span> 
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Funext}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Being a left ideal is a proposition. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishprop_isleftideal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
    : IsHProp (IsLeftIdeal I) := <span class="kp">ltac</span>:(<span class="nb">unfold</span> IsLeftIdeal; <span class="bp">exact</span> _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Being a right ideal is a proposition. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishprop_isrightideal</span> `{Funext} {R : Ring} (I : Subgroup R)
    : IsHProp (IsRightIdeal I) :=  ishprop_isleftideal _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Being a two-sided ideal is a proposition. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishprop_isideal</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
    : IsHProp (IsIdeal I)
    := istrunc_equiv_istrunc _ (issig_IsIdeal I).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Assuming [Univalence] we can show that the ideal types are sets. Note that univalence is only used to prove that the type of [Subgroup]s is a set. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The type of left ideals is a set. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishset_leftideal</span> {<span class="nv">R</span> : Ring} : IsHSet (LeftIdeal R)
    := istrunc_equiv_istrunc _ (issig_LeftIdeal R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The type of right ideals is a set. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishset_rightideal</span> {<span class="nv">R</span> : Ring} : IsHSet (RightIdeal R)
    := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The type of ideals is a set. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">ishset_ideal</span> {<span class="nv">R</span> : Ring} : IsHSet (Ideal R)
    := istrunc_equiv_istrunc _ (issig_Ideal R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">IdealTrunc</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Conversion between Ideals *)</span>

<span class="sd">(** Every ideal is a left ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_of_ideal</span> {<span class="nv">R</span> : Ring} : Ideal R -&gt; LeftIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> =&gt; Build_LeftIdeal R I _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">leftideal_of_ideal</span> : Ideal &gt;-&gt; LeftIdeal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Every ideal is a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_of_ideal</span> {<span class="nv">R</span> : Ring} : Ideal R -&gt; RightIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> =&gt; Build_RightIdeal R I _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">rightideal_of_ideal</span> : Ideal &gt;-&gt; RightIdeal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Easy properties of ideals *)</span>

<span class="sd">(** Here are some lemmas for proving certain elements are in an ideal. They are just special cases of the underlying subgroup lemmas. We write them out for clarity. Note that [I] isn&#39;t actually assumed to be an ideal but only a subgroup. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">IdealElements</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) (<span class="nv">a</span> <span class="nv">b</span> : R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_zero</span> : I ring_zero := subgroup_in_unit I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_plus</span> : I a -&gt; I b -&gt; I (a + b) := subgroup_in_op I a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_negate</span>  : I a -&gt; I (- a) := subgroup_in_inv  I a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_negate&#39;</span> : I (- a) -&gt; I a := subgroup_in_inv&#39; I a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_plus_negate</span> : I a -&gt; I b -&gt; I (a - b) := subgroup_in_op_inv I a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_negate_plus</span> : I a -&gt; I b -&gt; I (-a + b) := subgroup_in_inv_op I a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_plus_l</span> : I (a + b) -&gt; I b -&gt; I a := subgroup_in_op_l I a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_in_plus_r</span> : I (a + b) -&gt; I a -&gt; I b := subgroup_in_op_r I a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">IdealElements</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Ideal equality *)</span>

<span class="sd">(** With univalence we can characterize equality of ideals. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk3"><span class="kn">Definition</span> <span class="nf">equiv_path_ideal</span> `{Univalence} {R : Ring} {I J : Ideal R}
  : (I ‚Üî J) &lt;~&gt; I = J.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚Üî J) &lt;~&gt; I = J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚Üî J) &lt;~&gt; I = J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk5"><span class="nb">refine</span> ((equiv_ap&#39; (issig_Ideal R)^-<span class="mi">1</span> _ _)^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚Üî J) &lt;~&gt;
(issig_Ideal R)^-<span class="mi">1</span>%equiv I =
(issig_Ideal R)^-<span class="mi">1</span>%equiv J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6"><span class="nb">refine</span> (equiv_path_sigma_hprop _ _ oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚Üî J) &lt;~&gt;
((issig_Ideal R)^-<span class="mi">1</span>%equiv I).<span class="mi">1</span> =
((issig_Ideal R)^-<span class="mi">1</span>%equiv J).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply equiv_path_subgroup&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Under funext, ideal equality is a proposition. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">ishprop_ideal_eq</span> `{Funext} {R : Ring} (I J : Ideal R)
  : IsHProp (I ‚Üî J) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Invariance under subgroup equality *)</span>

<span class="sd">(** Being a left ideal is invariant under subgroup equality. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7"><span class="kn">Definition</span> <span class="nf">isleftideal_eq</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) (<span class="nv">p</span> : I ‚Üî J)
  : IsLeftIdeal I -&gt; IsLeftIdeal J.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚Üî J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal I -&gt; IsLeftIdeal J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚Üî J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal I -&gt; IsLeftIdeal J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9"><span class="nb">intros</span> i r x j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚Üî J</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka"><span class="nb">apply</span> p <span class="kr">in</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚Üî J</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb"><span class="nb">apply</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚Üî J</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Being a right ideal is invariant under subgroup equality. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isrightideal_eq</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) (<span class="nv">p</span> : I ‚Üî J)
  : IsRightIdeal I -&gt; IsRightIdeal J
  := isleftideal_eq (R := rng_op R) I J p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Constructions of ideals *)</span>

<span class="sd">(** *** Zero Ideal *)</span>

<span class="sd">(** The trivial subgroup is a left ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc"><span class="kn">Instance</span> <span class="nf">isleftideal_trivial_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsLeftIdeal (trivial_subgroup R).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (trivial_subgroup R)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (trivial_subgroup R)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>trivial_subgroup R x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trivial_subgroup R (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf">rhs_V napply (rng_mult_zero_r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>trivial_subgroup R x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r * x = <span class="nl">?Goal0</span> * <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The trivial subgroup is a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_trivial_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsRightIdeal (trivial_subgroup R)
  := isleftideal_trivial_subgroup _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The trivial subgroup is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_trivial_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsIdeal (trivial_subgroup R)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We call the trivial subgroup the &quot;zero ideal&quot;. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_zero</span> (<span class="nv">R</span> : Ring) : Ideal R := Build_Ideal R (trivial_subgroup R) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** The unit ideal *)</span>

<span class="sd">(** The maximal subgroup is a left ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isleftideal_maximal_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsLeftIdeal (maximal_subgroup R)
  := <span class="kp">ltac</span>:(<span class="bp">done</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The maximal subgroup is a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_maximal_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsRightIdeal (maximal_subgroup R)
  := isleftideal_maximal_subgroup _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The maximal subgroup is an ideal.  *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_maximal_subgroup</span> (<span class="nv">R</span> : Ring)
  : IsIdeal (maximal_subgroup R)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We call the maximal subgroup the &quot;unit ideal&quot;. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_unit</span> (<span class="nv">R</span> : Ring) : Ideal R
  := Build_Ideal R _ (isideal_maximal_subgroup R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Intersection of two ideals *)</span>

<span class="sd">(** Intersections of underlying subgroups of left ideals are again left ideals. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10"><span class="kn">Instance</span> <span class="nf">isleftideal_subgroup_intersection</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsLeftIdeal R I, IsLeftIdeal R J}
  : IsLeftIdeal (subgroup_intersection I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_intersection I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_intersection I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> r x [a b]; <span class="nb">split</span>; <span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersections of underlying subgroups of right ideals are again right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_subgroup_intersection</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsRightIdeal R I, IsRightIdeal R J}
  : IsRightIdeal (subgroup_intersection I J)
  := isleftideal_subgroup_intersection _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersections of underlying subgroups of ideals are again ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_subgroup_intersection</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsIdeal R I, IsIdeal R J}
  : IsIdeal (subgroup_intersection I J)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of left ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_intersection</span> {<span class="nv">R</span> : Ring}
  : LeftIdeal R -&gt; LeftIdeal R -&gt; LeftIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_LeftIdeal R (subgroup_intersection I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_intersection</span> {<span class="nv">R</span> : Ring}
  : RightIdeal R -&gt; RightIdeal R -&gt; RightIdeal R
  := leftideal_intersection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection</span> {<span class="nv">R</span> : Ring}
  : Ideal R -&gt; Ideal R -&gt; Ideal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_Ideal R (subgroup_intersection I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Intersection of a family of ideals *)</span>

<span class="sd">(** Intersections of underlying subgroups of left ideals are again left ideals. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12"><span class="kn">Instance</span> <span class="nf">isleftideal_subgroup_intersection_family</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; Subgroup R)
  {<span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">i</span>, IsLeftIdeal (J i)}
  : IsLeftIdeal (subgroup_intersection_family I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>I -&gt; Subgroup R</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsLeftIdeal (J i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_intersection_family I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>I -&gt; Subgroup R</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsLeftIdeal (J i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_intersection_family I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14"><span class="nb">intros</span> r x; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>I -&gt; Subgroup R</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsLeftIdeal (J i)</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Trunc (-<span class="mi">1</span>) (<span class="kr">forall</span> <span class="nv">i</span> : I, J i x) -&gt;
Trunc (-<span class="mi">1</span>) (<span class="kr">forall</span> <span class="nv">i</span> : I, J i (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk15"><span class="nb">apply</span> Trunc_functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>I -&gt; Subgroup R</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> : I, IsLeftIdeal (J i)</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">i</span> : I, J i x) -&gt; <span class="kr">forall</span> <span class="nv">i</span> : I, J i (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> Jix i;  <span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersections of underlying subgroups of right ideals are again right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_subgroup_intersection_family</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; Subgroup R)
  {<span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">i</span>, IsRightIdeal (J i)}
  : IsRightIdeal (subgroup_intersection_family I J)
  := isleftideal_subgroup_intersection_family _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersections of underlying subgroups of ideals are again ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_subgroup_intersection_family</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; Subgroup R)
  {<span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">i</span>, IsIdeal (J i)}
  : IsIdeal (subgroup_intersection_family I J)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of left ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_intersection_family</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; LeftIdeal R)
  : LeftIdeal R
  := Build_LeftIdeal R (subgroup_intersection_family I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_intersection_family</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; RightIdeal R)
  : RightIdeal R
  := leftideal_intersection_family I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection of ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_family</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : <span class="kt">Type</span>) (<span class="nv">J</span> : I -&gt; Ideal R)
  : Ideal R
  := Build_Ideal R (subgroup_intersection_family I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Sum of ideals *)</span>

<span class="sd">(** The subgroup product of left ideals is again an ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16"><span class="kn">Instance</span> <span class="nf">isleftideal_subgroup_product</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsLeftIdeal R I, IsLeftIdeal R J}
  : IsLeftIdeal (subgroup_product I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_product I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_product I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18"><span class="nb">intros</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
subgroup_product I J x -&gt; subgroup_product I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk19">napply (subgroup_product_smallest I J
            (subgroup_preimage (grp_homo_rng_left_mult r) (subgroup_product I J))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r)
    (subgroup_product I J)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1a"><hr></label><div class="goal-conclusion">J
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r)
    (subgroup_product I J)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b"><span class="kp">all</span>: <span class="nb">cbn</span> -[subgroup_generated].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; subgroup_product I J (r * x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1c"><hr></label><div class="goal-conclusion">J ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; subgroup_product I J (r * x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; subgroup_product I J (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1e"><span class="nb">intros</span> x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_product I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> subgroup_product_incl_l, isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; subgroup_product I J (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk20"><span class="nb">intros</span> x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_product I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> subgroup_product_incl_r, isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The subgroup product of right ideals is again an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_subgroup_product</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsRightIdeal R I, IsRightIdeal R J}
  : IsRightIdeal (subgroup_product I J)
  := isleftideal_subgroup_product _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The subgroup product of ideals is again an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_subgroup_product</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsIdeal R I, IsIdeal R J}
  : IsIdeal (subgroup_product I J)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sum of left ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_sum</span> {<span class="nv">R</span> : Ring}
  : LeftIdeal R -&gt; LeftIdeal R -&gt; LeftIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_LeftIdeal R (subgroup_product I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sum of right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_sum</span> {<span class="nv">R</span> : Ring}
  : RightIdeal R -&gt; RightIdeal R -&gt; RightIdeal R
  := leftideal_sum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sum of ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum</span> {<span class="nv">R</span> : Ring}
  : Ideal R -&gt; Ideal R -&gt; Ideal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_Ideal R (subgroup_product I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_ind</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  (<span class="nv">P</span> : <span class="kr">forall</span> <span class="nv">x</span>, ideal_sum I J x -&gt; <span class="kt">Type</span>)
  (<span class="nv">P_I_in</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, P x (tr (sgt_in (inl y))))
  (<span class="nv">P_J_in</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, P x (tr (sgt_in (inr y))))
  (<span class="nv">P_unit</span> : P mon_unit (tr sgt_unit))
  (<span class="nv">P_op</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">h</span> <span class="nv">k</span>, P x (tr h) -&gt; P y (tr k) -&gt; P (x - y) (tr (sgt_op h k)))
  `{<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, IsHProp (P x y)}
  : <span class="kr">forall</span> <span class="nv">x</span> (<span class="nv">p</span> : ideal_sum I J x), P x p
  := subgroup_product_ind I J P P_I_in P_J_in P_unit P_op.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Product of ideals *)</span>

<span class="sd">(** First we form the &quot;naive&quot; product of ideals { a * b | a ‚àà I /\ b ‚àà J }. Note that this is not an ideal, but we can fix this. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">ideal_product_naive_type</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) : R -&gt; <span class="kt">Type</span> :=
| ipn_in : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, I x -&gt; J y -&gt; ideal_product_naive_type I J (x * y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We instead consider the subgroup generated by this naive product and later prove it happens to be an ideal. Note that the subgroup generated by a set and the ideal generated by a set are not the same in general. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_product_type</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) : Subgroup R
  := subgroup_generated (G := R) (ideal_product_naive_type I J).</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product ideal swapped is just the product ideal of the opposite ring. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk21"><span class="kn">Definition</span> <span class="nf">ideal_product_type_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  : ideal_product_type (R:=R) I J ‚Üî ideal_product_type (R:=rng_op R) J I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_type I J ‚Üî ideal_product_type J I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_type I J ‚Üî ideal_product_type J I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk23"><span class="nb">apply</span> (subgroup_eq_functor_subgroup_generated _ _ grp_iso_id).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J
‚Üî (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   ideal_product_naive_type J I (grp_iso_id x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pred_subset_antisymm; <span class="nb">cbn</span>; <span class="nb">intros</span> _ []; <span class="bp">by</span> napply ipn_in.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product of left ideals is a left ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk24"><span class="kn">Instance</span> <span class="nf">isleftideal_ideal_product_type</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsLeftIdeal R I, IsLeftIdeal R J}
  : IsLeftIdeal (ideal_product_type I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (ideal_product_type I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (ideal_product_type I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk26"><span class="nb">intro</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
ideal_product_type I J x -&gt;
ideal_product_type I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk27">napply (functor_subgroup_generated _ _ (grp_homo_rng_left_mult r)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   ideal_product_naive_type I J
     (grp_homo_rng_left_mult r x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk28"><span class="nb">intros</span> s [s1 s2 p1 p2]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, s, s1, s2</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>I s1</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>J s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J (r * (s1 * s2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk29"><span class="nb">rewrite</span> simple_associativity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, s, s1, s2</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>I s1</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>J s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J (r * s1 * s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2a">nrefine (ipn_in I J (r * s1) s2 _ p2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, s, s1, s2</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>I s1</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>J s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * s1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product of right ideals is a right ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2b"><span class="kn">Instance</span> <span class="nf">isrightideal_ideal_product_type</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsRightIdeal R I, IsRightIdeal R J}
  : IsRightIdeal (ideal_product_type I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsRightIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsRightIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (ideal_product_type I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsRightIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsRightIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (ideal_product_type I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2d">napply isrightideal_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsRightIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsRightIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> ‚Üî ideal_product_type I J</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsRightIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsRightIdeal J</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk2e"><hr></label><div class="goal-conclusion">IsRightIdeal <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk2f"><span class="mi">1</span>: <span class="nb">symmetry</span>; rapply ideal_product_type_op.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsRightIdeal I</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsRightIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (ideal_product_type J I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal_ideal_product_type.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product of ideals is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_ideal_product_type</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R)
  `{IsIdeal R I, IsIdeal R J}
  : IsIdeal (ideal_product_type I J)
  := {}.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
<span class="sd">(** Product of left ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_product</span> {<span class="nv">R</span> : Ring}
  : LeftIdeal R -&gt; LeftIdeal R -&gt; LeftIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_LeftIdeal R (ideal_product_type I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Product of right ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_product</span> {<span class="nv">R</span> : Ring}
  : RightIdeal R -&gt; RightIdeal R -&gt; RightIdeal R
  := leftideal_product.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_product_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : RightIdeal R)
  : leftideal_product (leftideal_op R I) (leftideal_op R J)
    = rightideal_product I J
  := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_product_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : LeftIdeal R)
  : rightideal_product (rightideal_op R I) (rightideal_op R J)
    = leftideal_product I J
  := idpath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Product of ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_product</span> {<span class="nv">R</span> : Ring}
  : Ideal R -&gt; Ideal R -&gt; Ideal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_Ideal R (ideal_product_type I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** The kernel of a ring homomorphism *)</span>

<span class="sd">(** The kernel of the underlying group homomorphism of a ring homomorphism is a left ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk30"><span class="kn">Instance</span> <span class="nf">isleftideal_grp_kernel</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : RingHomomorphism R S)
  : IsLeftIdeal (grp_kernel f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>RingHomomorphism R S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (grp_kernel f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>RingHomomorphism R S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (grp_kernel f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk32"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>RingHomomorphism R S</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>grp_kernel f x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">grp_kernel f (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk33">lhs napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>RingHomomorphism R S</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>grp_kernel f x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f r * f x = mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk34">rhs_V napply (rng_mult_zero_r (f r)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>RingHomomorphism R S</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>grp_kernel f x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f r * f x = f r * <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The kernel of the underlying group homomorphism of a ring homomorphism is a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_grp_kernel</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : RingHomomorphism R S)
  : IsRightIdeal (grp_kernel f)
  := isleftideal_grp_kernel (fmap rng_op f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The kernel of the underlying group homomorphism of a ring homomorphism is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_grp_kernel</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : RingHomomorphism R S)
  : IsIdeal (grp_kernel f)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The kernel of a ring homomorphism is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_kernel</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : RingHomomorphism R S) : Ideal R
  := Build_Ideal R (grp_kernel f) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Ideal generated by a subset *)</span>

<span class="sd">(** It seems tempting to define ideals generated by a subset in terms of subgroups generated by a subset but this does not work. Left ideals also have to be closed under left multiplication by ring elements, and similarly for right and two sided ideals. Therefore we will do an analogous construction to the one done in Subgroup.v. *)</span>

<span class="sd">(** Underlying type family of a left ideal generated by subset. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">leftideal_generated_type</span> (<span class="nv">R</span> : Ring) (<span class="nv">X</span> : R -&gt; <span class="kt">Type</span>) : R -&gt; <span class="kt">Type</span> :=
<span class="sd">(** It should contain all elements of the original family. *)</span>
| ligt_in (r : R) : X r -&gt; leftideal_generated_type R X r
<span class="sd">(** It should contain zero. *)</span>
| ligt_zero : leftideal_generated_type R X ring_zero
<span class="sd">(** It should be closed under negation and addition. *)</span>
| ligt_add_neg (r s : R)
  : leftideal_generated_type R X r
  -&gt; leftideal_generated_type R X s
  -&gt; leftideal_generated_type R X (r - s)
<span class="sd">(** And finally, it should be closed under left multiplication. *)</span>
| ligt_mul (r s : R)
  : leftideal_generated_type R X s
  -&gt; leftideal_generated_type R X (r * s)
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> leftideal_generated_type {R} X r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> ligt_in {R X r}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> ligt_zero {R X}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> ligt_add_neg {R X r s}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> ligt_mul {R X r s}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Left ideal generated by a subset. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk35"><span class="kn">Definition</span> <span class="nf">leftideal_generated</span>@{u v} {R : Ring@{u}} (X : R -&gt; <span class="kt">Type</span>@{v}) : LeftIdeal@{u v} R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdeal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdeal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk37">snapply Build_LeftIdeal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk38"><hr></label><div class="goal-conclusion">IsLeftIdeal <span class="nl">?leftideal_subgroup</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk39">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk3a">snapply Build_Subgroup&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk3b"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R, IsHProp (<span class="nl">?H</span> x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk3c"><hr></label><div class="goal-conclusion"><span class="nl">?H</span> mon_unit</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk3d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk3d"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R, <span class="nl">?H</span> x -&gt; <span class="nl">?H</span> y -&gt; <span class="nl">?H</span> (sg_op x (inv y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk3e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; merely (leftideal_generated_type X x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk3f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
IsHProp
  ((<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
    trunctype_type
      (merely (leftideal_generated_type X x0))) x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk40">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
 trunctype_type
   (merely (leftideal_generated_type X x))) mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> tr, ligt_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk41">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R,
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type
   (merely (leftideal_generated_type X x0))) x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type
   (merely (leftideal_generated_type X x0))) y -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type
   (merely (leftideal_generated_type X x0)))
  (sg_op x (inv y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk42"><span class="nb">intros</span> x y p q; strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>leftideal_generated_type X y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>leftideal_generated_type X x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (leftideal_generated_type X (sg_op x (inv y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, ligt_add_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk43">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal
  (Build_Subgroup&#39;
     (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
      merely (leftideal_generated_type X x))
     (tr ligt_zero)
     (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : R)
        (<span class="nv">p</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely
                   (leftideal_generated_type X x0))) x)
        (<span class="nv">q</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely
                   (leftideal_generated_type X x0))) y)
      =&gt;
      Trunc_ind
        (<span class="kr">fun</span>
           <span class="nv">_</span> : Trunc (-<span class="mi">1</span>)
                 (leftideal_generated_type X y) =&gt;
         (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
          trunctype_type
            (merely (leftideal_generated_type X x0)))
           (sg_op x (inv y)))
        (<span class="kr">fun</span> <span class="nv">q0</span> : leftideal_generated_type X y =&gt;
         Trunc_ind
           (<span class="kr">fun</span>
              <span class="nv">_</span> : Trunc (-<span class="mi">1</span>)
                    (leftideal_generated_type X x) =&gt;
            merely
              (leftideal_generated_type X
                 (sg_op x (inv y))))
           (<span class="kr">fun</span> <span class="nv">p0</span> : leftideal_generated_type X x =&gt;
            tr (ligt_add_neg p0 q0)) p) q))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk44"><span class="nb">intros</span> r x; <span class="nb">apply</span> Trunc_functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">leftideal_generated_type X x -&gt;
leftideal_generated_type X (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ligt_mul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Right ideal generated by a subset. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_generated</span>@{u v} {R : Ring@{u}} (X : R -&gt; <span class="kt">Type</span>@{v}) : RightIdeal@{u v} R
  := Build_RightIdeal R (leftideal_generated (R:=rng_op R) X) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Underlying type family of a two-sided ideal generated by subset. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">ideal_generated_type</span> (<span class="nv">R</span> : Ring) (<span class="nv">X</span> : R -&gt; <span class="kt">Type</span>) : R -&gt; <span class="kt">Type</span> :=
<span class="sd">(** It should contain all elements of the original family. *)</span>
| igt_in (r : R) : X r -&gt; ideal_generated_type R X r
<span class="sd">(** It should contain zero. *)</span>
| igt_zero : ideal_generated_type R X ring_zero
<span class="sd">(** It should be closed under negation and addition. *)</span>
| igt_add_neg (r s : R)
  : ideal_generated_type R X r
  -&gt; ideal_generated_type R X s
  -&gt; ideal_generated_type R X (r - s)
<span class="sd">(** And finally, it should be closed under left and right multiplication. *)</span>
| igt_mul_l (r s : R)
  : ideal_generated_type R X s
  -&gt; ideal_generated_type R X (r * s)
| igt_mul_r (r s : R)
  : ideal_generated_type R X r
  -&gt; ideal_generated_type R X (r * s)
.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> ideal_generated_type {R} X r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> igt_in {R X r}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> igt_zero {R X}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> igt_add_neg {R X r s}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> igt_mul_l {R X r s}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> igt_mul_r {R X r s}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Two-sided ideal generated by a subset. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk45"><span class="kn">Definition</span> <span class="nf">ideal_generated</span> {<span class="nv">R</span> : Ring} (<span class="nv">X</span> : R -&gt; <span class="kt">Type</span>) : Ideal R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ideal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ideal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk47">snapply Build_Ideal; [|<span class="nb">split</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk48"><hr></label><div class="goal-conclusion">IsLeftIdeal <span class="nl">?ideal_subgroup</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk49"><hr></label><div class="goal-conclusion">IsRightIdeal <span class="nl">?ideal_subgroup</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk4a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk4b">snapply Build_Subgroup&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk4c"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R, IsHProp (<span class="nl">?H</span> x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk4d"><hr></label><div class="goal-conclusion"><span class="nl">?H</span> mon_unit</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk4e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R, <span class="nl">?H</span> x -&gt; <span class="nl">?H</span> y -&gt; <span class="nl">?H</span> (sg_op x (inv y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk4f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; merely (ideal_generated_type X x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk50">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
IsHProp
  ((<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
    trunctype_type
      (merely (ideal_generated_type X x0))) x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk51">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
 trunctype_type (merely (ideal_generated_type X x)))
  mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> tr, igt_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk52">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R,
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type (merely (ideal_generated_type X x0)))
  x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type (merely (ideal_generated_type X x0)))
  y -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
 trunctype_type (merely (ideal_generated_type X x0)))
  (sg_op x (inv y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk53"><span class="nb">intros</span> x y p q; strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">merely (ideal_generated_type X (sg_op x (inv y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, igt_add_neg.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk54">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal
  (Build_Subgroup&#39;
     (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; merely (ideal_generated_type X x))
     (tr igt_zero)
     (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : R)
        (<span class="nv">p</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely (ideal_generated_type X x0)))
               x)
        (<span class="nv">q</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely (ideal_generated_type X x0)))
               y) =&gt;
      Trunc_ind
        (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (ideal_generated_type X y)
         =&gt;
         (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
          trunctype_type
            (merely (ideal_generated_type X x0)))
           (sg_op x (inv y)))
        (<span class="kr">fun</span> <span class="nv">q0</span> : ideal_generated_type X y =&gt;
         Trunc_ind
           (<span class="kr">fun</span>
              <span class="nv">_</span> : Trunc (-<span class="mi">1</span>)
                    (ideal_generated_type X x) =&gt;
            merely
              (ideal_generated_type X
                 (sg_op x (inv y))))
           (<span class="kr">fun</span> <span class="nv">p0</span> : ideal_generated_type X x =&gt;
            tr (igt_add_neg p0 q0)) p) q))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk55"><span class="nb">intros</span> r x; <span class="nb">apply</span> Trunc_functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_generated_type X x -&gt;
ideal_generated_type X (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> igt_mul_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal
  (Build_Subgroup&#39;
     (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; merely (ideal_generated_type X x))
     (tr igt_zero)
     (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : R)
        (<span class="nv">p</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely (ideal_generated_type X x0)))
               x)
        (<span class="nv">q</span> : (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
              trunctype_type
                (merely (ideal_generated_type X x0)))
               y) =&gt;
      Trunc_ind
        (<span class="kr">fun</span> <span class="nv">_</span> : Trunc (-<span class="mi">1</span>) (ideal_generated_type X y)
         =&gt;
         (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt;
          trunctype_type
            (merely (ideal_generated_type X x0)))
           (sg_op x (inv y)))
        (<span class="kr">fun</span> <span class="nv">q0</span> : ideal_generated_type X y =&gt;
         Trunc_ind
           (<span class="kr">fun</span>
              <span class="nv">_</span> : Trunc (-<span class="mi">1</span>)
                    (ideal_generated_type X x) =&gt;
            merely
              (ideal_generated_type X
                 (sg_op x (inv y))))
           (<span class="kr">fun</span> <span class="nv">p0</span> : ideal_generated_type X x =&gt;
            tr (igt_add_neg p0 q0)) p) q))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk57"><span class="nb">intros</span> x r; <span class="nb">apply</span> Trunc_functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, r</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_generated_type X r -&gt;
ideal_generated_type X (x * r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> igt_mul_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk58"><span class="kn">Definition</span> <span class="nf">ideal_generated_rec</span> {<span class="nv">R</span> : Ring} {<span class="nv">X</span> : R -&gt; <span class="kt">Type</span>} {<span class="nv">I</span> : Ideal R}
  (<span class="nv">p</span> : X ‚äÜ I)
  : ideal_generated X ‚äÜ I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_generated X ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk59"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_generated X ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk5a"><span class="nb">intros</span> x; <span class="nb">apply</span> Trunc_rec; <span class="nb">intros</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk5b"><span class="nb">induction</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk5c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk5c"><hr></label><div class="goal-conclusion">I ring_zero</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk5d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X r</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X s</span></span></span><br><span><var>IHq1</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>IHq2</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk5d"><hr></label><div class="goal-conclusion">I (r - s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk5e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X s</span></span></span><br><span><var>IHq</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk5e"><hr></label><div class="goal-conclusion">I (r * s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X r</span></span></span><br><span><var>IHq</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk5f"><hr></label><div class="goal-conclusion">I (r * s)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk60">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk61">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ideal_in_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q1</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X r</span></span></span><br><span><var>q2</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X s</span></span></span><br><span><var>IHq1</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>IHq2</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r - s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ideal_in_plus_negate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk63">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X s</span></span></span><br><span><var>IHq</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk64">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>X ‚äÜ I</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>ideal_generated_type X r</span></span></span><br><span><var>IHq</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isrightideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Finitely generated ideal *)</span>

<span class="sd">(** Finitely generated ideals *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk65"><span class="kn">Definition</span> <span class="nf">ideal_generated_finite</span> {<span class="nv">R</span> : Ring} {<span class="nv">n</span> : nat} (<span class="nv">X</span> : Fin n -&gt; R) : Ideal R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>Fin n -&gt; R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ideal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk66"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>Fin n -&gt; R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ideal R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk67"><span class="nb">apply</span> ideal_generated.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>Fin n -&gt; R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (hfiber X).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Principal ideals *)</span>

<span class="sd">(** A principal ideal is an ideal generated by a single element. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_principal</span> {<span class="nv">R</span> : Ring} (<span class="nv">x</span> : R) : Ideal R
  := ideal_generated (<span class="kr">fun</span> <span class="nv">r</span> =&gt; x = r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Quotient (a.k.a colon) ideals *)</span>

<span class="sd">(** The definitions here are not entirely standard, but will become so when considering only commutative rings. For the non-commutative case there isn&#39;t a lot written about ideal quotients. *)</span>

<span class="sd">(** The subgroup corresponding to the left ideal quotient [I :: J] consists of the elements [r] in [R] such that [J x -&gt; I (r * x)] for every [x] in [R]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk68"><span class="kn">Definition</span> <span class="nf">subgroup_leftideal_quotient</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) (<span class="nv">J</span> : R -&gt; <span class="kt">Type</span>)
  : Subgroup R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk69"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6a">snapply Build_Subgroup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk6b"><hr></label><div class="goal-conclusion">IsSubgroup <span class="nl">?subgroup_pred</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* We insert [merely] here to avoid needing [Funext]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">r</span> =&gt; merely (J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* This predicate is a subgroup, since it is equivalent to an intersection of a family of subgroups indexed by [sig J]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSubgroup
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   merely
     (J
      ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6e">rapply (issubgroup_equiv
              (H:=subgroup_intersection_family (sig J)
                    (<span class="kr">fun</span> <span class="nv">x</span> =&gt; subgroup_preimage (grp_homo_rng_right_mult x.<span class="mi">1</span>) I))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : R,
subgroup_intersection_family {x : _ &amp; J x}
  (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; J x} =&gt;
   subgroup_preimage (grp_homo_rng_right_mult x.<span class="mi">1</span>) I)
  g &lt;~&gt;
merely
  (J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult g) I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk6f"><span class="nb">intro</span> r; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Trunc (-<span class="mi">1</span>) (<span class="kr">forall</span> <span class="nv">i</span> : {x : _ &amp; J x}, I (r * i.<span class="mi">1</span>)) &lt;~&gt;
Trunc (-<span class="mi">1</span>) (J ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; I (r * x)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk70"><span class="nb">apply</span> Trunc_functor_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">i</span> : {x : _ &amp; J x}, I (r * i.<span class="mi">1</span>)) &lt;~&gt;
J ‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; I (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; napply equiv_sig_ind.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The left ideal quotient of a left ideal is a left ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk71"><span class="kn">Instance</span> <span class="nf">isleftideal_subgroup_leftideal_quotient</span> {<span class="nv">R</span> : Ring}
  (<span class="nv">I</span> : Subgroup R) `{IsLeftIdeal R I} (J : R -&gt; <span class="kt">Type</span>)
  : IsLeftIdeal (subgroup_leftideal_quotient I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_leftideal_quotient I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk72"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_leftideal_quotient I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk73"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>subgroup_leftideal_quotient I J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_leftideal_quotient I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk74">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J
‚äÜ subgroup_preimage (grp_homo_rng_left_mult (r * x)) I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk75"><span class="nb">intros</span> s j; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * x * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk76"><span class="nb">rewrite</span> &lt;- rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * (x * s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk77"><span class="nb">apply</span> isleftideal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>J</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> napply p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The left ideal quotient by a left ideal is a right ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk78"><span class="kn">Instance</span> <span class="nf">isrightideal_subgroup_leftideal_quotient</span> {<span class="nv">R</span> : Ring}
  (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) `{IsLeftIdeal R J}
  : IsRightIdeal (subgroup_leftideal_quotient I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (subgroup_leftideal_quotient I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk79"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (subgroup_leftideal_quotient I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7a"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>subgroup_leftideal_quotient I J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_leftideal_quotient I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7b">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J
‚äÜ subgroup_preimage (grp_homo_rng_left_mult (r * x)) I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7c"><span class="nb">intros</span> s j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult (r * x)) I s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7d"><span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt; I (x * x0))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (ring_mult x r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7e"><span class="nb">rewrite</span> &lt;- rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt; I (x * x0))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x * (r * s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk7f"><span class="nb">apply</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ (<span class="kr">fun</span> <span class="nv">x0</span> : R =&gt; I (x * x0))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We define the left ideal quotient as a left ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">leftideal_quotient</span> {<span class="nv">R</span> : Ring}
  : LeftIdeal R -&gt; (R -&gt; <span class="kt">Type</span>) -&gt; LeftIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_LeftIdeal R (subgroup_leftideal_quotient I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">subgroup_rightideal_quotient</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) (<span class="nv">J</span> : R -&gt; <span class="kt">Type</span>)
  : Subgroup R
  := subgroup_leftideal_quotient (R:=rng_op R) I J.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_subgroup_rightideal_quotient</span> {<span class="nv">R</span> : Ring}
  (<span class="nv">I</span> : Subgroup R) `{IsRightIdeal R I} (J : R -&gt; <span class="kt">Type</span>)
  : IsRightIdeal (subgroup_rightideal_quotient I J)
  := isleftideal_subgroup_leftideal_quotient (R:=rng_op R) I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isleftideal_subgroup_rightideal_quotient</span> {<span class="nv">R</span> : Ring}
  (<span class="nv">I</span> <span class="nv">J</span> : Subgroup R) `{IsRightIdeal R J}
  : IsLeftIdeal (subgroup_rightideal_quotient I J)
  := isrightideal_subgroup_leftideal_quotient (R:=rng_op R) I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We define the right ideal quotient as a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rightideal_quotient</span> {<span class="nv">R</span> : Ring}
  : RightIdeal R -&gt; (R -&gt; <span class="kt">Type</span>) -&gt; RightIdeal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt; Build_RightIdeal R (subgroup_rightideal_quotient (R:=R) I J) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The ideal quotient is then the intersection of a left and right quotient of both two sided ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_quotient</span> {<span class="nv">R</span> : Ring}
  : Ideal R -&gt; Ideal R -&gt; Ideal R
  := <span class="kr">fun</span> <span class="nv">I</span> <span class="nv">J</span> =&gt;
    Build_Ideal R
      (subgroup_intersection
        (leftideal_quotient I J)
        (rightideal_quotient I J))
      (Build_IsIdeal _ _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Annihilator *)</span>

<span class="sd">(** The left annihilator of a subset is the set of elements that annihilate the subgroup with left multiplication. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk80"><span class="kn">Definition</span> <span class="nf">subgroup_ideal_left_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">S</span> : R -&gt; <span class="kt">Type</span>)
  : Subgroup R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Subgroup R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk82">snapply Build_Subgroup&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk83" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk83"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R, IsHProp (<span class="nl">?H</span> x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk84" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk84"><hr></label><div class="goal-conclusion"><span class="nl">?H</span> mon_unit</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="ideal-v-chk85"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R, <span class="nl">?H</span> x -&gt; <span class="nl">?H</span> y -&gt; <span class="nl">?H</span> (sg_op x (inv y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** If we assume [Funext], then it isn&#39;t necessary to use [merely] here. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk86">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">r</span> =&gt; merely (<span class="kr">forall</span> <span class="nv">x</span>, S x -&gt; r * x = ring_zero)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk87">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
IsHProp
  ((<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
    trunctype_type
      (merely
         (<span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; r * x0 = ring_zero)))
     x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk88">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely (<span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; r * x = ring_zero)))
  mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk89"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; mon_unit * x = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8a"><span class="nb">intros</span> r p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mon_unit * r = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : R,
(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely (<span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; r * x0 = ring_zero)))
  x -&gt;
(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely (<span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; r * x0 = ring_zero)))
  y -&gt;
(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely (<span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; r * x0 = ring_zero)))
  (sg_op x (inv y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8c"><span class="nb">intros</span> x y p q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely
      (<span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; r * x = ring_zero))) x</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely
      (<span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; r * x = ring_zero))) y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
 trunctype_type
   (merely (<span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; r * x = ring_zero)))
  (sg_op x (inv y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8d">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : R,
S x0 -&gt; sg_op x (inv y) * x0 = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8e"><span class="nb">intros</span> r s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sg_op x (inv y) * r = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk8f">lhs rapply rng_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * r + inv y * r = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk90"><span class="nb">rewrite</span> (p r s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero + inv y * r = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk91"><span class="nb">rewrite</span> rng_mult_negate_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero - y * r = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk92"><span class="nb">rewrite</span> (q r s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero - ring_zero = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk93"><span class="nb">rewrite</span> &lt;- rng_mult_negate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero + -<span class="mi">1</span> * ring_zero = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk94"><span class="nb">rewrite</span> rng_mult_zero_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; y * x = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, S x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero + <span class="mi">0</span> = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> left_identity.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The left annihilator of a subgroup of a ring is a left ideal of the ring. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk95"><span class="kn">Instance</span> <span class="nf">isleftideal_ideal_left_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : R -&gt; <span class="kt">Type</span>)
  : IsLeftIdeal (subgroup_ideal_left_annihilator I).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_ideal_left_annihilator I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_ideal_left_annihilator I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk97"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>subgroup_ideal_left_annihilator I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_ideal_left_annihilator I (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk98">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; r * x * x0 = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk99"><span class="nb">intros</span> s i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r * x * s = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9a"><span class="nb">rewrite</span> &lt;- rng_mult_assoc, (p s i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">r * ring_zero = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The left annihilator of a left ideal also happens to be a right ideal. In fact, left ideal could be weakened to subset closed under multiplication, however we don&#39;t need this generality currently. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9b"><span class="kn">Instance</span> <span class="nf">isrightideal_ideal_left_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
  `{IsLeftIdeal R I}
  : IsRightIdeal (subgroup_ideal_left_annihilator I).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (subgroup_ideal_left_annihilator I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsRightIdeal (subgroup_ideal_left_annihilator I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9d"><span class="nb">intros</span> r x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>subgroup_ideal_left_annihilator I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_ideal_left_annihilator I (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9e">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; r * x * x0 = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk9f"><span class="nb">intros</span> s i; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_mult x r * s = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka0"><span class="nb">rewrite</span> &lt;- rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup R</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (r * s) = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> p, isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Therefore the annihilator of a left ideal is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_ideal_left_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
  `{IsLeftIdeal R I}
  : IsIdeal (subgroup_ideal_left_annihilator I)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The left annihilator of a left ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_left_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : LeftIdeal R) : Ideal R
  := Build_Ideal R (subgroup_ideal_left_annihilator I) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The right annihilator of a subset of a ring is the set of elements that annihilate the elements of the subset with right multiplication. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">subgroup_ideal_right_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : R -&gt; <span class="kt">Type</span>)
  : Subgroup R
  := subgroup_ideal_left_annihilator (R:=rng_op R) I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** When the subset is a right ideal the right annihilator is a left ideal of the ring. This can be strengthened. See the comment in the left ideal version of this lemma above. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isleftideal_ideal_right_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
  `{IsRightIdeal R I}
  : IsLeftIdeal (subgroup_ideal_right_annihilator I)
  := isrightideal_ideal_left_annihilator (R:=rng_op R) I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The right annihilator is a right ideal of the ring. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_ideal_right_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : R -&gt; <span class="kt">Type</span>)
  : IsRightIdeal (subgroup_ideal_right_annihilator (R:=R) I)
  := isleftideal_ideal_left_annihilator (R:=rng_op R) I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Therefore the annihilator of a right ideal is an ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_ideal_right_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R)
  `{IsRightIdeal R I}
  : IsIdeal (subgroup_ideal_right_annihilator (R:=R) I)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The right annihilator of a right ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_right_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : RightIdeal R) : Ideal R
  := Build_Ideal R (subgroup_ideal_right_annihilator (R:=R) I)
     (isideal_ideal_right_annihilator (R:=R) I).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The annihilator of an ideal is the intersection of the left and right annihilators. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_annihilator</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Ideal R) : Ideal R
  := ideal_intersection (ideal_left_annihilator I) (ideal_right_annihilator I).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Properties of ideals *)</span>

<span class="sd">(** *** Coprime ideals *)</span>

<span class="sd">(** Two ideals are coprime if their sum is the unit ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Coprime</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : <span class="kt">Type</span>
  := ideal_sum I J ‚Üî ideal_unit R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Class</span> <span class="nf">Coprime</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka1"><span class="kn">Instance</span> <span class="nf">ishprop_coprime</span> `{Funext} {R : Ring}
  (I J : Ideal R) : IsHProp (Coprime I J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (Coprime I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (Coprime I J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka3"><span class="nb">unfold</span> Coprime.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ideal_sum I J ‚Üî ideal_unit R)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka4"><span class="kn">Definition</span> <span class="nf">equiv_coprime_sum</span> `{Funext} {R : Ring} (I J : Ideal R)
  : Coprime I J
  &lt;~&gt; hexists (<span class="kr">fun</span> &#39;(((i ; p) , (j ; q)) : sig I * sig J)
      =&gt; i + j = ring_one).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J &lt;~&gt;
hexists
  (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; I x} * {x : _ &amp; J x} =&gt;
   <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">fst</span> := fst x <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">snd</span> := snd x <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">fst0</span> := fst <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">i</span> := fst0.<span class="mi">1</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">p</span> := fst0.<span class="mi">2</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">snd0</span> := snd <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">j</span> := snd0.<span class="mi">1</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">q</span> := snd0.<span class="mi">2</span> <span class="kr">in</span> i + j = ring_one)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J &lt;~&gt;
hexists
  (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; I x} * {x : _ &amp; J x} =&gt;
   <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">fst</span> := fst x <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">snd</span> := snd x <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">fst0</span> := fst <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">i</span> := fst0.<span class="mi">1</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">p</span> := fst0.<span class="mi">2</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">snd0</span> := snd <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">j</span> := snd0.<span class="mi">1</span> <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">q</span> := snd0.<span class="mi">2</span> <span class="kr">in</span> i + j = ring_one)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka6"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J &lt;~&gt;
Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka7">srapply equiv_iff_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J -&gt;
Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chka8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chka8"><hr></label><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one} -&gt; Coprime I J</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chka9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J -&gt;
Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkaa"><span class="nb">intros</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Coprime I J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkab"><span class="nb">pose</span> (snd (c ring_one) tt) <span class="kr">as</span> d; <span class="nb">clearbody</span> d; <span class="nb">clear</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>ideal_sum I J ring_one</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkac">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) ring_one</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkad"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) ring_one</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkae"><span class="nb">induction</span> d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>pred_or I J g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkaf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkaf"><hr></label><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = mon_unit}</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>IHd1</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</span></span></span><br><span><var>IHd2</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = h}</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkb0"><hr></label><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h)}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>pred_or I J g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb2"><span class="nb">destruct</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>J g</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkb3"><hr></label><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb5"><span class="kr">exists</span> ((g ; s), (ring_zero; ideal_in_zero _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g + ring_zero = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_plus_zero_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>J g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb7"><span class="kr">exists</span> ((ring_zero; ideal_in_zero _), (g ; s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>J g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero + g = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_plus_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = mon_unit}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkb9"><span class="kr">exists</span> ((ring_zero; ideal_in_zero _), (ring_zero; ideal_in_zero _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ring_zero + ring_zero = mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_plus_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkba">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>IHd1</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = g}</span></span></span><br><span><var>IHd2</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = h}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h)}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkbb"><span class="nb">destruct</span> IHd1 <span class="kr">as</span> [[[x xi] [y yj]] p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>IHd2</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = h}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkbc"><span class="nb">destruct</span> IHd2 <span class="kr">as</span> [[[w wi] [z zj]] q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkbd">srefine (((_;_),(_;_));_).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkbe"><hr></label><div class="goal-conclusion">I <span class="nl">?proj1</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkbf"><hr></label><div class="goal-conclusion">R</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chkc0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkc0"><hr></label><div class="goal-conclusion">J <span class="nl">?proj10</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkc1"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; I x} * {x : _ &amp; J x} =&gt;
 (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h))
  ((<span class="nl">?proj1</span>; <span class="nl">?proj2</span>), (<span class="nl">?proj10</span>; <span class="nl">?proj20</span>))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (x - w).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc3">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x - w)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ideal_in_plus_negate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (y - z).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc5">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (y - z)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ideal_in_plus_negate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; I x} * {x : _ &amp; J x} =&gt;
 (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = sg_op g (inv h))
  ((x - w; ideal_in_plus_negate I x w xi wi),
  (y - z; ideal_in_plus_negate J y z yj zj))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc7"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - w + (y - z) = sg_op g (inv h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc8">rhs_V <span class="bp">exact</span> (ap011 (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; x - y) p q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x - w + (y - z) = x + y - (w + z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkc9">lhs_V napply rng_plus_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + (- w + (y - z)) = x + y - (w + z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkca">rhs_V napply rng_plus_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + (- w + (y - z)) = x + (y - (w + z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkcb">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- w + (y - z) = y - (w + z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkcc"><span class="nb">rewrite</span> rng_negate_plus.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- w + (y - z) = y + (- w - z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkcd">rhs_V napply rng_plus_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- w + (y - z) = - w - z + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkce">rhs_V napply rng_plus_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- w + (y - z) = - w + (- z + y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkcf">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>g, h</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>d1</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) g</span></span></span><br><span><var>d2</var><span class="hyp-type"><b>: </b><span>subgroup_generated_type (pred_or I J) h</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = g</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>wi</var><span class="hyp-type"><b>: </b><span>I w</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>zj</var><span class="hyp-type"><b>: </b><span>J z</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>w + z = h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y - z = - z + y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> commutativity.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one} -&gt; Coprime I J</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd1"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>)
  {pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
  (fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd2">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coprime I J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd3"><span class="nb">intros</span> r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J r &lt;-&gt; ideal_unit R r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd4"><span class="nb">split</span>;[<span class="nb">intro</span>; <span class="bp">exact</span> tt|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R r -&gt; ideal_sum I J r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd5"><span class="nb">intros</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>{pat : {x : _ &amp; I x} * {x : _ &amp; J x} &amp;
(fst pat).<span class="mi">1</span> + (snd pat).<span class="mi">1</span> = ring_one}</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd6"><span class="nb">destruct</span> x <span class="kr">as</span> [[[x xi] [y yj]] p].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = ring_one</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd7"><span class="nb">rewrite</span> &lt;- rng_mult_one_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = ring_one</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J (r * <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd8"><span class="nb">change</span> (x + y = <span class="mi">1</span>) <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J (r * <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkd9"><span class="nb">rewrite</span> &lt;- p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J (r * (x + y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkda"><span class="nb">rewrite</span> rng_dist_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_sum I J (r * x + r * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkdb"><span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_generated_type (pred_or I J) (r * x + r * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkdc">rapply sgt_op&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_generated_type (pred_or I J) (r * x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkdd"><hr></label><div class="goal-conclusion">subgroup_generated_type (pred_or I J) (r * y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkde">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_generated_type (pred_or I J) (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkdf"><span class="nb">apply</span> sgt_in.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pred_or I J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke0"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_generated_type (pred_or I J) (r * y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke2"><span class="nb">apply</span> sgt_in.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pred_or I J (r * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke3"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>xi</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>yj</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x + y = <span class="mi">1</span></span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Ideal notations *)</span>

<span class="sd">(** We declare and import a module for various (Unicode) ideal notations. These exist in their own special case, and can be imported and used in other files when needing to reason about ideals. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Import</span> <span class="kn">Notation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;+&quot;</span> := ideal_sum          : ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;‚ãÖ&quot;</span> := ideal_product      : ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;‚à©&quot;</span> := ideal_intersection : ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Infix</span> <span class="s2">&quot;::&quot;</span> := ideal_quotient    : ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="s2">&quot;‚å© X ‚å™&quot;</span> := (ideal_generated X)  : ideal_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">Ann</span> := ideal_annihilator.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Notation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Ideal Lemmas *)</span>

<span class="sd">(** The zero ideal is contained in all ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_zero_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) : ideal_zero R ‚äÜ I
  := trivial_subgroup_rec _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The unit ideal contains all ideals. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_unit_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Subgroup R) : I ‚äÜ ideal_unit R
  := pred_unit_subset I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection includes into the left *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_subset_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚à© J ‚äÜ I
  := pred_and_subset_l I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersection includes into the right *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_subset_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚à© J ‚äÜ J
  := pred_and_subset_r I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Subsets of intersections *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : K ‚äÜ I -&gt; K ‚äÜ J -&gt; K ‚äÜ I ‚à© J
  := pred_and_is_meet I J K.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersections are commutative *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_comm</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : I ‚à© J ‚Üî J ‚à© I
  := pred_and_comm I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideals include into their sum on the left *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_subset_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚äÜ (I + J)
  := subgroup_product_incl_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideals include into their sum on the right *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_subset_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : J ‚äÜ (I + J)
  := subgroup_product_incl_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Hint Extern</span> <span class="mi">4</span> =&gt; <span class="kp">progress</span> (<span class="nb">cbv</span> beta iota) : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products of ideals are included in their left factor *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke4"><span class="kn">Definition</span> <span class="nf">ideal_product_subset_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚ãÖ J ‚äÜ I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke6">napply subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke7"><span class="nb">intros</span> _ [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isrightideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products of ideals are included in their right factor. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke8"><span class="kn">Definition</span> <span class="nf">ideal_product_subset_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚ãÖ J ‚äÜ J.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chke9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkea">napply subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I J ‚äÜ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkeb"><span class="nb">intros</span> _ [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>J y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products of ideals preserve subsets on the left *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkec"><span class="kn">Definition</span> <span class="nf">ideal_product_subset_pres_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚äÜ J -&gt; I ‚ãÖ K ‚äÜ J ‚ãÖ K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; I ‚ãÖ K ‚äÜ J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chked"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; I ‚ãÖ K ‚äÜ J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkee"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ K ‚äÜ J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkef"><span class="nb">apply</span> (functor_subgroup_generated _ _ grp_iso_id).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I K
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   ideal_product_naive_type J K (grp_iso_id x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf0"><span class="nb">intros</span> _ [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>K y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type J K (grp_iso_id (x * y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf1"><span class="nb">apply</span> ipn_in.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>K y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkf2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>K y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkf2"><hr></label><div class="goal-conclusion">K y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf3"><span class="mi">1</span>: <span class="nb">apply</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>K y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkf4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>K y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkf4"><hr></label><div class="goal-conclusion">K y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products of ideals preserve subsets on the right *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf5"><span class="kn">Definition</span> <span class="nf">ideal_product_subset_pres_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚äÜ J -&gt; K ‚ãÖ I ‚äÜ K ‚ãÖ J.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; K ‚ãÖ I ‚äÜ K ‚ãÖ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; K ‚ãÖ I ‚äÜ K ‚ãÖ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf7"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K ‚ãÖ I ‚äÜ K ‚ãÖ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf8"><span class="nb">apply</span> (functor_subgroup_generated _ _ grp_iso_id).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type K I
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   ideal_product_naive_type K J (grp_iso_id x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkf9"><span class="nb">intros</span> _ [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type K J (grp_iso_id (x * y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkfa"><span class="nb">apply</span> ipn_in.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkfb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkfb"><hr></label><div class="goal-conclusion">J y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkfc"><span class="mi">2</span>: <span class="nb">apply</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chkfd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chkfd"><hr></label><div class="goal-conclusion">I y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product of opposite ideals is the opposite of the reversed product. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkfe"><span class="kn">Definition</span> <span class="nf">ideal_product_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : (ideal_op R I) ‚ãÖ (ideal_op R J)
    ‚Üî ideal_op R (J ‚ãÖ I).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚Üî J ‚ãÖ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chkff"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚Üî J ‚ãÖ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply ideal_product_type_op.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk100"><span class="kn">Definition</span> <span class="nf">ideal_product_op_triple</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : ideal_op R ((K ‚ãÖ J) ‚ãÖ I)
      ‚äÜ (ideal_op R I) ‚ãÖ ((ideal_op R J) ‚ãÖ (ideal_op R K)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(K ‚ãÖ J) ‚ãÖ I ‚äÜ I ‚ãÖ (J ‚ãÖ K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk101"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(K ‚ãÖ J) ‚ãÖ I ‚äÜ I ‚ãÖ (J ‚ãÖ K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk102"><span class="nb">intros</span> x i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((K ‚ãÖ J) ‚ãÖ I) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ (J ‚ãÖ K)) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk103"><span class="nb">apply</span> (ideal_product_op (R:=rng_op R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((K ‚ãÖ J) ‚ãÖ I) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((J ‚ãÖ K) ‚ãÖ I) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk104">napply (ideal_product_subset_pres_l (R:=R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((K ‚ãÖ J) ‚ãÖ I) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> ‚äÜ J ‚ãÖ K</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk105" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((K ‚ãÖ J) ‚ãÖ I) x</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk105"><hr></label><div class="goal-conclusion">(<span class="nl">?Goal</span> ‚ãÖ I) x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk106"><span class="mi">1</span>: napply (ideal_product_op (R:=rng_op R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((K ‚ãÖ J) ‚ãÖ I) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((K ‚ãÖ J) ‚ãÖ I) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The product of ideals is an associative operation. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk107"><span class="kn">Definition</span> <span class="nf">ideal_product_assoc</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚ãÖ (J ‚ãÖ K) ‚Üî (I ‚ãÖ J) ‚ãÖ K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J ‚ãÖ K) ‚Üî (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk108"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J ‚ãÖ K) ‚Üî (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk109"><span class="nb">assert</span> (f : <span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R), I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk10a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk10a"><hr></label><div class="goal-conclusion">I ‚ãÖ (J ‚ãÖ K) ‚Üî (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10c"><span class="nb">clear</span> R I J K; <span class="nb">intros</span> R I J K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10d">napply subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10e"><span class="nb">intros</span> _ [r s IHr IHs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHr</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span>(J ‚ãÖ K) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚ãÖ J) ‚ãÖ K) (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk10f"><span class="nb">revert</span> IHs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHr</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J ‚ãÖ K) s -&gt; ((I ‚ãÖ J) ‚ãÖ K) (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk110">rapply (functor_subgroup_generated _ _ (grp_homo_rng_left_mult r)); <span class="nb">clear</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHr</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type J K
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   ideal_product_naive_type (I ‚ãÖ J) K
     (grp_homo_rng_left_mult r x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk111"><span class="nb">intros</span> _ [s t IHs IHt]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHr</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>s, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br><span><var>IHt</var><span class="hyp-type"><b>: </b><span>K t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type (ideal_product_type I J) K
  (r * (s * t))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk112"><span class="nb">rewrite</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHr</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>s, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span>J s</span></span></span><br><span><var>IHt</var><span class="hyp-type"><b>: </b><span>K t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type (ideal_product_type I J) K
  (r * s * t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ipn_in; [ <span class="nb">apply</span> tr, sgt_in, ipn_in | ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk113">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J ‚ãÖ K) ‚Üî (I ‚ãÖ J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk114"><span class="nb">apply</span> pred_subset_antisymm; <span class="kp">only</span> <span class="mi">1</span>: <span class="nb">apply</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ J) ‚ãÖ K ‚äÜ I ‚ãÖ (J ‚ãÖ K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk115"><span class="nb">intros</span> x i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((I ‚ãÖ J) ‚ãÖ K) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ (J ‚ãÖ K)) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk116"><span class="nb">apply</span> (ideal_product_op_triple (R:=rng_op R) I J K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((I ‚ãÖ J) ‚ãÖ K) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((K ‚ãÖ J) ‚ãÖ I) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk117">napply f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((I ‚ãÖ J) ‚ãÖ K) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(K ‚ãÖ (J ‚ãÖ I)) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk118"><span class="nb">apply</span> ideal_product_op_triple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">R</span> : Ring) (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R),
I ‚ãÖ (J ‚ãÖ K) ‚äÜ (I ‚ãÖ J) ‚ãÖ K</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>((I ‚ãÖ J) ‚ãÖ K) x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚ãÖ J) ‚ãÖ K) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products of ideals are subsets of their intersection. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk119"><span class="kn">Definition</span> <span class="nf">ideal_product_subset_intersection</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : I ‚ãÖ J ‚äÜ I ‚à© J.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I ‚à© J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I ‚à© J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11b"><span class="nb">apply</span> ideal_intersection_subset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk11c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk11c"><hr></label><div class="goal-conclusion">I ‚ãÖ J ‚äÜ J</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ideal_product_subset_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ J</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ideal_product_subset_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sums of ideals are the smallest ideal containing the summands. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_smallest</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚äÜ K -&gt; J ‚äÜ K -&gt; (I + J) ‚äÜ K
  := subgroup_product_smallest I J K.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideals absorb themselves under sum. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_self</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Ideal R)
  : I + I ‚Üî I
  := subgroup_product_self I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sums preserve inclusions in the left summand. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_subset_pres_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚äÜ J -&gt; (I + K) ‚äÜ (J + K)
  := subgroup_product_subset_pres_l I J K.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sums preserve inclusions in the right summand. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_subset_pres_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚äÜ J -&gt; (K + I) ‚äÜ (K + J)
  := subgroup_product_subset_pres_r I J K.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sums preserve inclusions in both summands. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_subset_pres</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> <span class="nv">L</span> : Ideal R)
  : I ‚äÜ J -&gt; K ‚äÜ L -&gt; (I + K) ‚äÜ (J + L)
  := subgroup_product_subset_pres I J K L.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Sums preserve ideal equality in both summands. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_eq</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> <span class="nv">L</span> : Ideal R)
  : I ‚Üî J -&gt; K ‚Üî L -&gt; (I + K) ‚Üî (J + L)
  := subgroup_product_eq I J K L.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The sum of two opposite ideals is the opposite of their sum. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_op</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : ideal_op R I + ideal_op R J ‚Üî ideal_op R (I + J)
  := <span class="bp">reflexivity</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products left distribute over sums. Note that this follows from left adjoints preserving colimits. The product of ideals is a functor whose right adjoint is the quotient ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk11f"><span class="kn">Definition</span> <span class="nf">ideal_dist_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : I ‚ãÖ (J + K) ‚Üî I ‚ãÖ J + I ‚ãÖ K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J + K) ‚Üî I ‚ãÖ J + I ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk120"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J + K) ‚Üî I ‚ãÖ J + I ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** We split into two directions. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk121"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J + K) ‚äÜ (I ‚ãÖ J + I ‚ãÖ K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk122" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk122"><hr></label><div class="goal-conclusion">(I ‚ãÖ J + I ‚ãÖ K) ‚äÜ I ‚ãÖ (J + K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** We deal with the difficult inclusion first. The proof comes down to breaking down the definition and reassembling into the right. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk123">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ (J + K) ‚äÜ (I ‚ãÖ J + I ‚ãÖ K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk124"><span class="nb">apply</span> subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_product_naive_type I (J + K) ‚äÜ (I ‚ãÖ J + I ‚ãÖ K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk125"><span class="nb">intros</span> _ [r s p q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(J + K) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ J + I ‚ãÖ K) (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk126"><span class="nb">revert</span> s q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : R,
(J + K)%ideal s -&gt; (I ‚ãÖ J + I ‚ãÖ K)%ideal (r * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk127">napply (subgroup_product_smallest J K
              (subgroup_preimage (grp_homo_rng_left_mult r) (I ‚ãÖ J + I ‚ãÖ K))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r)
    (I ‚ãÖ J + I ‚ãÖ K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk128" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk128"><hr></label><div class="goal-conclusion">K
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r)
    (I ‚ãÖ J + I ‚ãÖ K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk129"><span class="kp">all</span>: <span class="nb">cbn</span> -[subgroup_generated ideal_product].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk12a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk12a"><hr></label><div class="goal-conclusion">K
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12c"><span class="nb">intros</span> x j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12d"><span class="nb">apply</span> subgroup_product_incl_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ J) (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, sgt_in, ipn_in.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk12f"><span class="nb">intros</span> x k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_product (I ‚ãÖ J) (I ‚ãÖ K) (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk130"><span class="nb">apply</span> subgroup_product_incl_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ K) (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, sgt_in, ipn_in.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk131">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ J + I ‚ãÖ K) ‚äÜ I ‚ãÖ (J + K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** This is the easy direction which can use previous lemmas. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk132"><span class="nb">apply</span> ideal_sum_smallest.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ J ‚äÜ I ‚ãÖ (J + K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk133" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk133"><hr></label><div class="goal-conclusion">I ‚ãÖ K ‚äÜ I ‚ãÖ (J + K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk134"><span class="mi">1</span>,<span class="mi">2</span>: <span class="nb">apply</span> ideal_product_subset_pres_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J ‚äÜ (J + K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk135" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk135"><hr></label><div class="goal-conclusion">K ‚äÜ (J + K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk136"><span class="mi">1</span>: <span class="nb">apply</span> ideal_sum_subset_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K ‚äÜ (J + K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ideal_sum_subset_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Products distribute over sums on the right. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk137"><span class="kn">Definition</span> <span class="nf">ideal_dist_r</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : (I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk138"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk139"><span class="nb">change</span> I <span class="kr">with</span> (ideal_op _ (ideal_op R I)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13a"><span class="nb">change</span> J <span class="kr">with</span> (ideal_op _ (ideal_op R J)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13b"><span class="nb">change</span> K <span class="kr">with</span> (ideal_op _ (ideal_op R K)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13c"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk13d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk13d"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚Üî I ‚ãÖ K + J ‚ãÖ K</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13e"><span class="mi">2</span>: rapply ideal_sum_eq; <span class="nb">symmetry</span>; <span class="nb">apply</span> (ideal_product_op (R:=rng_op R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî K ‚ãÖ I + K ‚ãÖ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk13f"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk140" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk140"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚Üî K ‚ãÖ I + K ‚ãÖ J</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk141"><span class="mi">2</span>: <span class="nb">apply</span> (ideal_dist_l (R:=rng_op R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî K ‚ãÖ (I + J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk142"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk143"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚Üî K ‚ãÖ (I + J)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk144"><span class="mi">2</span>: <span class="nb">apply</span> (ideal_product_op (R:=rng_op R)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I + J) ‚ãÖ K ‚Üî (I + J) ‚ãÖ K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideal sums are commutative *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_comm</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I + J ‚Üî J + I
  := subgroup_product_comm I J.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Zero ideal is left additive identity. *)</span> 
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_zero_l</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : ideal_zero R + I ‚Üî I
  := subgroup_product_trivial_l I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Zero ideal is right additive identity. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_sum_zero_r</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : I + ideal_zero R ‚Üî I
  := subgroup_product_trivial_r I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Unit ideal is left multiplicative identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk145"><span class="kn">Definition</span> <span class="nf">ideal_product_unit_l</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : ideal_unit R ‚ãÖ I ‚Üî I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R ‚ãÖ I ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk146"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R ‚ãÖ I ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk147"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R ‚ãÖ I ‚äÜ I</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk148" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk148"><hr></label><div class="goal-conclusion">I ‚äÜ ideal_unit R ‚ãÖ I</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk149"><span class="mi">1</span>: <span class="nb">apply</span> ideal_product_subset_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ ideal_unit R ‚ãÖ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14a"><span class="nb">intros</span> r p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ideal_unit R ‚ãÖ I) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14b"><span class="nb">rewrite</span> &lt;- rng_mult_one_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ideal_unit R ‚ãÖ I) (<span class="mi">1</span> * r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, sgt_in, ipn_in.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Unit ideal is right multiplicative identity. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14c"><span class="kn">Definition</span> <span class="nf">ideal_product_unit_r</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : I ‚ãÖ ideal_unit R ‚Üî I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ ideal_unit R ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ ideal_unit R ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk14e"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚ãÖ ideal_unit R ‚äÜ I</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk14f"><hr></label><div class="goal-conclusion">I ‚äÜ I ‚ãÖ ideal_unit R</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk150"><span class="mi">1</span>: <span class="nb">apply</span> ideal_product_subset_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ I ‚ãÖ ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk151"><span class="nb">intros</span> r p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ ideal_unit R) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk152"><span class="nb">rewrite</span> &lt;- rng_mult_one_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚ãÖ ideal_unit R) (r * <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tr, sgt_in, ipn_in.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersecting with unit ideal on the left does nothing. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intresection_unit_l</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : ideal_unit R ‚à© I ‚Üî I
  := pred_and_unit_l I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Intersecting with unit ideal on right does nothing. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_intersection_unit_r</span> {<span class="nv">R</span> : Ring} <span class="nv">I</span> : I ‚à© ideal_unit R ‚Üî I
  := pred_and_unit_r I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Product of intersection and sum is subset of sum of products *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk153"><span class="kn">Definition</span> <span class="nf">ideal_product_intersection_sum_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : (I ‚à© J) ‚ãÖ (I + J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J) ‚ãÖ (I + J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk154"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J) ‚ãÖ (I + J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk155"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J) ‚ãÖ (I + J) ‚äÜ <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk156" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk156"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk157"><span class="mi">1</span>: rapply ideal_dist_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + (I ‚à© J) ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk158"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + (I ‚à© J) ‚ãÖ J) ‚äÜ <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk159" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk159"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk15a"><span class="mi">1</span>: rapply ideal_sum_subset_pres_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J) ‚ãÖ J ‚äÜ <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk15b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk15b"><hr></label><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + <span class="nl">?Goal0</span>) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk15c"><span class="mi">1</span>: rapply ideal_product_subset_pres_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J ‚äÜ <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk15d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk15d"><hr></label><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + <span class="nl">?Goal0</span> ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk15e"><span class="mi">1</span>: <span class="nb">apply</span> ideal_intersection_subset_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + I ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk15f"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((I ‚à© J) ‚ãÖ I + I ‚ãÖ J) ‚äÜ <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk160" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk160"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk161"><span class="mi">1</span>: rapply ideal_sum_subset_pres_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J) ‚ãÖ I ‚äÜ <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk162"><hr></label><div class="goal-conclusion">(<span class="nl">?Goal0</span> + I ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk163"><span class="mi">1</span>: rapply ideal_product_subset_pres_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J ‚äÜ <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk164" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk164"><hr></label><div class="goal-conclusion">(<span class="nl">?Goal0</span> ‚ãÖ I + I ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk165"><span class="mi">1</span>: <span class="nb">apply</span> ideal_intersection_subset_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J ‚ãÖ I + I ‚ãÖ J) ‚äÜ (I ‚ãÖ J + J ‚ãÖ I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply ideal_sum_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideals are subsets of their ideal quotients *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk166"><span class="kn">Definition</span> <span class="nf">ideal_quotient_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R) : I ‚äÜ (I :: J).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ (I :: J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk167"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ (I :: J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk168"><span class="nb">intros</span> x i; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> r j; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x * r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk169" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J r</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk169"><hr></label><div class="goal-conclusion">I (ring_mult r x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (x * r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isrightideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>J r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (ring_mult r x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply isleftideal.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16c"><span class="kn">Definition</span> <span class="nf">leftideal_quotient_subset_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R) (<span class="nv">p</span> : I ‚äÜ J)
  : leftideal_quotient I K ‚äÜ leftideal_quotient J K.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">leftideal_quotient I K ‚äÜ leftideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">leftideal_quotient I K ‚äÜ leftideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16e"><span class="nb">apply</span> (pred_subset_postcomp merely (@Trunc_functor _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
 K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) I)
‚äÜ (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt;
   K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult x) J)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk16f"><span class="nb">intros</span> r q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk170">rapply (<span class="nb">transitivity</span> q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> functor_subgroup_preimage.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk171"><span class="kn">Definition</span> <span class="nf">ideal_quotient_subset_l</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R) (<span class="nv">p</span> : I ‚äÜ J)
  : (I :: K) ‚äÜ (J :: K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚äÜ (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk172"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚äÜ (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk173">napply pred_and_is_meet.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚äÜ leftideal_quotient J K</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk174" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk174"><hr></label><div class="goal-conclusion">(I :: K) ‚äÜ rightideal_quotient J K</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk175">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚äÜ leftideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk176">rapply (<span class="nb">transitivity</span> (pred_and_subset_l _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">leftideal_quotient I K ‚äÜ leftideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> leftideal_quotient_subset_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk177">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚äÜ rightideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk178">rapply (<span class="nb">transitivity</span> (pred_and_subset_r _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rightideal_quotient I K ‚äÜ rightideal_quotient J K</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (leftideal_quotient_subset_l (R:=rng_op R) I J K p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If [J] divides [I] then the ideal quotient of [J] by [I] is trivial. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk179"><span class="kn">Definition</span> <span class="nf">ideal_quotient_trivial</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : I ‚äÜ J -&gt; J :: I ‚Üî ideal_unit R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; J :: I ‚Üî ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; J :: I ‚Üî ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17b"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J :: I ‚Üî ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17c"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J :: I) ‚äÜ ideal_unit R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk17d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk17d"><hr></label><div class="goal-conclusion">ideal_unit R ‚äÜ (J :: I)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17e"><span class="mi">1</span>: <span class="nb">cbv</span>; <span class="nb">trivial</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R ‚äÜ (J :: I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk17f"><span class="nb">intros</span> r _; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> x q; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk180" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk180"><hr></label><div class="goal-conclusion">J (ring_mult x r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk181">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> isleftideal, p.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk182">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J (ring_mult x r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk183">rapply isrightideal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">J x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The ideal quotient of [I] by the unit ideal is [I]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk184"><span class="kn">Definition</span> <span class="nf">ideal_quotient_unit_bottom</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Ideal R)
  : (I :: ideal_unit R) ‚Üî I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I :: ideal_unit R ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk185"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I :: ideal_unit R ‚Üî I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk186"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: ideal_unit R) ‚äÜ I</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk187" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk187"><hr></label><div class="goal-conclusion">I ‚äÜ (I :: ideal_unit R)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk188">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: ideal_unit R) ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk189"><span class="nb">intros</span> r [p q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>leftideal_quotient I (ideal_unit R) r</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>rightideal_quotient I (ideal_unit R) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18a">strip_truncations.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>ideal_unit R
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18b"><span class="nb">rewrite</span> &lt;- rng_mult_one_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>ideal_unit R
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (r * <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p ring_one tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ (I :: ideal_unit R)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ideal_quotient_subset.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The ideal quotient of the unit ideal by [I] is the unit ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18d"><span class="kn">Definition</span> <span class="nf">ideal_quotient_unit_top</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Ideal R)
  : (ideal_unit R :: I) ‚Üî ideal_unit R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R :: I ‚Üî ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R :: I ‚Üî ideal_unit R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk18f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ideal_unit R :: I) x -&gt; ideal_unit R x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk190" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk190"><hr></label><div class="goal-conclusion">ideal_unit R x -&gt; (ideal_unit R :: I) x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk191">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ideal_unit R :: I) x -&gt; ideal_unit R x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span>; <span class="nb">trivial</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk192">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_unit R x -&gt; (ideal_unit R :: I) x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> ?; <span class="nb">split</span>; <span class="nb">apply</span> tr;
    <span class="nb">cbn</span>; <span class="nb">split</span>; <span class="nb">trivial</span>.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The ideal quotient by a sum is an intersection of ideal quotients. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk193"><span class="kn">Definition</span> <span class="nf">ideal_quotient_sum</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : (I :: (J + K)) ‚Üî (I :: J) ‚à© (I :: K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I :: J + K ‚Üî (I :: J) ‚à© (I :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk194"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I :: J + K ‚Üî (I :: J) ‚à© (I :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk195"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: J + K) ‚äÜ (I :: J) ‚à© (I :: K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk196" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk196"><hr></label><div class="goal-conclusion">(I :: J) ‚à© (I :: K) ‚äÜ (I :: J + K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk197">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: J + K) ‚äÜ (I :: J) ‚à© (I :: K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk198"><span class="nb">intros</span> r [p q]; strip_truncations; <span class="nb">split</span>; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> x jk.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk199" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk199"><hr></label><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk19a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk19a"><hr></label><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote><input class="alectryon-extra-goal-toggle" id="ideal-v-chk19b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk19b"><hr></label><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk19c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply p; rapply ideal_sum_subset_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk19d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>J x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply q; rapply ideal_sum_subset_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk19e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply p; rapply ideal_sum_subset_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk19f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>jk</var><span class="hyp-type"><b>: </b><span>K x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult r) I x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> rapply q; rapply ideal_sum_subset_r.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: J) ‚à© (I :: K) ‚äÜ (I :: J + K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a1"><span class="nb">intros</span> r [[p q] [u v]]; strip_truncations; <span class="nb">split</span>; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1a2"><hr></label><div class="goal-conclusion">(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a4">napply subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pred_or J K
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> napply pred_or_is_join.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(J + K)
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a6">napply subgroup_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>v, u</var><span class="hyp-type"><b>: </b><span>K ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>J ‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pred_or J K
‚äÜ subgroup_preimage (grp_homo_rng_left_mult r) I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> napply pred_or_is_join.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideal quotients distribute over intersections. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a7"><span class="kn">Definition</span> <span class="nf">ideal_quotient_intersection</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> <span class="nv">K</span> : Ideal R)
  : (I ‚à© J :: K) ‚Üî (I :: K) ‚à© (J :: K).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J :: K ‚Üî (I :: K) ‚à© (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J :: K ‚Üî (I :: K) ‚à© (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1a9"><span class="nb">apply</span> pred_subset_antisymm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (I :: K) ‚à© (J :: K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1aa"><hr></label><div class="goal-conclusion">(I :: K) ‚à© (J :: K) ‚äÜ (I ‚à© J :: K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ab">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (I :: K) ‚à© (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ac">napply pred_and_is_meet.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (I :: K)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1ad"><hr></label><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (J :: K)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ae">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (I :: K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1af">napply ideal_quotient_subset_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pred_and_subset_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) ‚äÜ (J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b1">napply ideal_quotient_subset_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚à© J ‚äÜ J</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pred_and_subset_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I :: K) ‚à© (J :: K) ‚äÜ (I ‚à© J :: K)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b3"><span class="nb">intros</span> r [[p q] [u v]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J, K</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>leftideal_quotient I K r</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>rightideal_quotient I K r</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>leftideal_quotient J K r</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>rightideal_quotient J K r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(I ‚à© J :: K) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">strip_truncations; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="bp">by</span> napply pred_and_is_meet.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Annihilators reverse the order of inclusion. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b4"><span class="kn">Definition</span> <span class="nf">ideal_annihilator_subset</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> <span class="nv">J</span> : Ideal R)
  : I ‚äÜ J -&gt; Ann J ‚äÜ Ann I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; Ann J ‚äÜ Ann I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I ‚äÜ J -&gt; Ann J ‚äÜ Ann I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b6"><span class="nb">intros</span> p x [q q&#39;]; <span class="nb">hnf</span> <span class="kr">in</span> q, q&#39;; strip_truncations;
    <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> y i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1b7"><hr></label><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> q, p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1b9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I, J</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>I ‚äÜ J</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, J x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> q&#39;, p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The annihilator of an ideal is equal to a quotient of zero. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ba"><span class="kn">Definition</span> <span class="nf">ideal_annihilator_zero_quotient</span> {<span class="nv">R</span> : Ring} (<span class="nv">I</span> : Ideal R)
  : Ann I ‚Üî ideal_zero R :: I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ann I ‚Üî ideal_zero R :: I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1bb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ann I ‚Üî ideal_zero R :: I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1bc"><span class="nb">intros</span> x; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ann I x -&gt; (ideal_zero R :: I) x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1bd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1bd"><hr></label><div class="goal-conclusion">(ideal_zero R :: I) x -&gt; Ann I x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1be">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Ann I x -&gt; (ideal_zero R :: I) x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1bf"><span class="nb">intros</span> [p q]; strip_truncations; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> y i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult x)
  (ideal_zero R) y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1c0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1c0"><hr></label><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult x)
  (ideal_zero R) y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult x)
  (ideal_zero R) y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p y i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : rng_op R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x0</span> : R, I x0 -&gt; x * x0 = ring_zero</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage (grp_homo_rng_left_mult x)
  (ideal_zero R) y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (q y i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ideal_zero R :: I) x -&gt; Ann I x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c4"><span class="nb">intros</span> [p q]; strip_truncations; <span class="nb">split</span>; <span class="nb">apply</span> tr; <span class="nb">intros</span> y i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult x)
    (ideal_zero R)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ideal-v-chk1c5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult x)
    (ideal_zero R)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><label class="goal-separator" for="ideal-v-chk1c5"><hr></label><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult x)
    (ideal_zero R)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p y i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal R</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>q, p</var><span class="hyp-type"><b>: </b><span>I
‚äÜ subgroup_preimage (grp_homo_rng_left_mult x)
    (ideal_zero R)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>rng_op R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>I y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y = ring_zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (q y i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Preimage of ideals under ring homomorphisms *)</span>

<span class="sd">(** The preimage of an ideal under a ring homomorphism is also itself an ideal. This is also known as the contraction of an ideal. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c8"><span class="kn">Instance</span> <span class="nf">isleftideal_preimage</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S)
  (<span class="nv">I</span> : Subgroup S) `{IsLeftIdeal S I}
  : IsLeftIdeal (subgroup_preimage f I).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup S</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_preimage f I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1c9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup S</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsLeftIdeal (subgroup_preimage f I)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ca"><span class="nb">intros</span> r x Ifx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup S</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ifx</var><span class="hyp-type"><b>: </b><span>subgroup_preimage f I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">subgroup_preimage f I (r * x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1cb">nrefine (transport I (rng_homo_mult f _ _)^ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup S</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ifx</var><span class="hyp-type"><b>: </b><span>subgroup_preimage f I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (f r * f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1cc">rapply isleftideal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Subgroup S</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsLeftIdeal I</span></span></span><br><span><var>r, x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ifx</var><span class="hyp-type"><b>: </b><span>subgroup_preimage f I x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Ifx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isrightideal_preimage</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S)
  (<span class="nv">I</span> : Subgroup S) `{IsRightIdeal S I}
  : IsRightIdeal (subgroup_preimage f I)
  := isleftideal_preimage (R:=rng_op R) (S:=rng_op S)
      (fmap rng_op f) I.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">isideal_preimage</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S)
  (<span class="nv">I</span> : Subgroup S) `{IsIdeal S I}
  : IsIdeal (subgroup_preimage f I)
  := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_preimage</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S) (<span class="nv">I</span> : Ideal S)
  : Ideal R
  := Build_Ideal R (subgroup_preimage f I) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Extensions of ideals *)</span>

<span class="sd">(** The extension of an ideal under a ring homomorphism is the ideal generated by the image of the ideal. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ideal_extension</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S) (<span class="nv">I</span> : Ideal R) : Ideal S
  := ideal_generated (<span class="kr">fun</span> <span class="nv">s</span> =&gt; <span class="kr">exists</span> <span class="nv">r</span>, I r /\ f r = s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The extension of a preimage is always a subset of the original ideal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1cd"><span class="kn">Definition</span> <span class="nf">ideal_subset_extension_preimage</span> {<span class="nv">R</span> <span class="nv">S</span> : Ring} (<span class="nv">f</span> : R $-&gt; S)
  (<span class="nv">I</span> : Ideal S)
  : ideal_extension f (ideal_preimage f I) ‚äÜ I.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_extension f (ideal_preimage f I) ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1ce"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ideal_extension f (ideal_preimage f I) ‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1cf"><span class="nb">apply</span> ideal_generated_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s</span> : S =&gt;
 {r : R &amp; (ideal_preimage f I r * (f r = s))%type})
‚äÜ I</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1d0"><span class="nb">intros</span> s [r [p q]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal S</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>ideal_preimage f I r</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f r = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ideal-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="ideal-v-chk1d1"><span class="nb">destruct</span> q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R, S</var><span class="hyp-type"><b>: </b><span>Ring</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; S</span></span></span><br><span><var>I</var><span class="hyp-type"><b>: </b><span>Ideal S</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>ideal_preimage f I r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">I (f r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** TODO: Maximal ideals *)</span>
<span class="sd">(** TODO: Principal ideal *)</span>
<span class="sd">(** TODO: Prime ideals *)</span>
<span class="sd">(** TODO: Radical ideals *)</span>
<span class="sd">(** TODO: Minimal ideals *)</span>
<span class="sd">(** TODO: Primary ideals *)</span></span></pre>
</div>
</div></body>
</html>
