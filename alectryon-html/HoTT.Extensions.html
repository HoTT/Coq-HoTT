<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Extensions.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** * Extensions and extensible maps *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk0"><span class="kn">Require Import</span> HoTT.Basics HoTT.Types.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Equiv.PathSplit Homotopy.IdentitySystems.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Cubical.DPath Cubical.DPathSquare.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Colimits.Coeq Colimits.MappingCylinder.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> nat_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Given [C : B -&gt; Type] and [f : A -&gt; B], an extension of [g : forall a, C (f a)] along [f] is a section [h : forall b, C b] such that [h (f a) = g a] for all [a:A].  This is equivalently the existence of fillers for commutative squares, restricted to the case where the bottom of the square is the identity; type-theoretically, this approach is sometimes more convenient.  In this file we study the type of such extensions.  One of its crucial properties is that a path between extensions is equivalently an extension in a fibration of paths.</span>

<span class="sd">This turns out to be useful for several reasons.  For instance, by iterating it, we can to formulate universal properties without needing [Funext].  It also gives us a way to &quot;quantify&quot; a universal property by the connectedness of the type of extensions. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Extensions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* TODO: consider naming for [ExtensionAlong] and subsequent lemmas.  As a name for the type itself, [Extension] or [ExtensionAlong] seems great; but resultant lemma names such as [path_extension] (following existing naming conventions) are rather misleading. *)</span>

  <span class="sd">(** This elimination rule (and others) can be seen as saying that, given a fibration over the codomain and a section of it over the domain, there is some *extension* of this to a section over the whole codomain.  It can also be considered as an equivalent form of an [hfiber] of precomposition-with-[f] that replaces paths by pointwise paths, thereby avoiding [Funext]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ExtensionAlong</span>@{a b p m} {A : <span class="kt">Type</span>@{a}} {B : <span class="kt">Type</span>@{b}} (f : A -&gt; B)
             (P : B -&gt; <span class="kt">Type</span>@{p}) (d : <span class="kr">forall</span> <span class="nv">x</span>:A, P (f x))
    := <span class="c">(* { s : forall y:B, P y &amp; forall x:A, s (f x) = d x }. *)</span>
       sig@{m m} (<span class="kr">fun</span> (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">y</span>:B, P y) =&gt; <span class="kr">forall</span> <span class="nv">x</span>:A, s (f x) = d x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   <span class="sd">(** [ExtensionAlong] takes 4 universe parameters:</span>
<span class="sd">      - the size of A</span>
<span class="sd">      - the size of B</span>
<span class="sd">      - the size of P</span>
<span class="sd">      - &gt;= max(A,B,P)</span>
<span class="sd">   *)</span>

  <span class="sd">(** It&#39;s occasionally useful to be able to modify those universes.  For each of the universes [a], [b], [p], we give an initial one, a final one, and a &quot;minimum&quot; one smaller than both and where the type actually lives. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1"><span class="kn">Definition</span> <span class="nf">lift_extensionalong</span>@{a1 a2 amin b1 b2 bmin p1 p2 pmin m1 m2} {A : <span class="kt">Type</span>@{amin}} {B : <span class="kt">Type</span>@{bmin}} (f : A -&gt; B)
             (P : B -&gt; <span class="kt">Type</span>@{pmin}) (d : <span class="kr">forall</span> <span class="nv">x</span>:A, P (f x))
    : ExtensionAlong@{a1 b1 p1 m1} f P d -&gt; ExtensionAlong@{a2 b2 p2 m2} f P d.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f P d -&gt; ExtensionAlong f P d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f P d -&gt; ExtensionAlong f P d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3"><span class="nb">intros</span> ext.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f P d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="sd">(** If we just give [ext], it will collapse the universes.  (Anyone stepping through this proof should do [Set Printing Universes] and look at the universes to see that they&#39;re different in [ext] and in the goal.)  So we decompose [ext] into two components and give them separately. *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4"><span class="nb">assert</span> (e2 := ext.<span class="mi">2</span>); <span class="nb">set</span> (e1 := ext.<span class="mi">1</span>) <span class="kr">in</span> e2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br><span><var>e1</var><span><span class="hyp-body"><b>:= </b><span>ext.<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">y</span> : B, P y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : A, s (f x) = d x) e1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f P d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5"><span class="nb">cbn</span> <span class="kr">in</span> e2. <span class="sd">(** Curiously, without this line we get a spurious universe inequality [p1 &lt;= m2]. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br><span><var>e1</var><span><span class="hyp-body"><b>:= </b><span>ext.<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span></span><br><span><var>e2</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, e1 (f x) = d x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f P d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (e1;e2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** We called it [lift_extensionalong], but in fact it doesn&#39;t require the new universes to be bigger than the old ones, only that they both satisfy the max condition. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6"><span class="kn">Definition</span> <span class="nf">equiv_path_extension</span> `{Funext} {A B : <span class="kt">Type</span>} {f : A -&gt; B}
             {P : B -&gt; <span class="kt">Type</span>} {d : <span class="kr">forall</span> <span class="nv">x</span>:A, P (f x)}
             (ext ext&#39; : ExtensionAlong f P d)
  : (ExtensionAlong f
                    (<span class="kr">fun</span> <span class="nv">y</span> =&gt; pr1 ext y = pr1 ext&#39; y)
                    (<span class="kr">fun</span> <span class="nv">x</span> =&gt; pr2 ext x @ (pr2 ext&#39; x)^))
    &lt;~&gt; ext = ext&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext, ext'</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y</span> : B =&gt; ext.<span class="mi">1</span> y = ext&#39;.<span class="mi">1</span> y)
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (ext&#39;.<span class="mi">2</span> x)^) &lt;~&gt; ext = ext&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext, ext'</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y</span> : B =&gt; ext.<span class="mi">1</span> y = ext&#39;.<span class="mi">1</span> y)
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (ext&#39;.<span class="mi">2</span> x)^) &lt;~&gt; ext = ext&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8"><span class="nb">revert</span> ext&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">ext&#39;</span> : ExtensionAlong f P d,
ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y</span> : B =&gt; ext.<span class="mi">1</span> y = ext&#39;.<span class="mi">1</span> y)
  (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (ext&#39;.<span class="mi">2</span> x)^) &lt;~&gt; ext = ext&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9">srapply equiv_path_from_contr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">b</span> : ExtensionAlong f P d =&gt;
 ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y</span> : B =&gt; ext.<span class="mi">1</span> y = b.<span class="mi">1</span> y)
   (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (b.<span class="mi">2</span> x)^)) ext</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><label class="goal-separator" for="extensions-v-chka"><hr></label><div class="goal-conclusion">Contr
  {y : ExtensionAlong f P d &amp;
  (<span class="kr">fun</span> <span class="nv">b</span> : ExtensionAlong f P d =&gt;
   ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; ext.<span class="mi">1</span> y0 = b.<span class="mi">1</span> y0)
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (b.<span class="mi">2</span> x)^)) y}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">b</span> : ExtensionAlong f P d =&gt;
 ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y</span> : B =&gt; ext.<span class="mi">1</span> y = b.<span class="mi">1</span> y)
   (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (b.<span class="mi">2</span> x)^)) ext</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc"><span class="nb">unfold</span> ExtensionAlong; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{s : <span class="kr">forall</span> <span class="nv">y</span> : B, ext.<span class="mi">1</span> y = ext.<span class="mi">1</span> y &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, s (f x) = ext.<span class="mi">2</span> x @ (ext.<span class="mi">2</span> x)^}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">y</span> =&gt; <span class="mi">1</span>%path).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, <span class="mi">1</span> = ext.<span class="mi">2</span> x @ (ext.<span class="mi">2</span> x)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x; <span class="nb">symmetry</span>; <span class="nb">apply</span> concat_pV.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f P d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : ExtensionAlong f P d &amp;
  (<span class="kr">fun</span> <span class="nv">b</span> : ExtensionAlong f P d =&gt;
   ExtensionAlong f (<span class="kr">fun</span> <span class="nv">y0</span> : B =&gt; ext.<span class="mi">1</span> y0 = b.<span class="mi">1</span> y0)
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; ext.<span class="mi">2</span> x @ (b.<span class="mi">2</span> x)^)) y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf"><span class="nb">destruct</span> ext <span class="kr">as</span> [g gd]; <span class="nb">unfold</span> ExtensionAlong; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y
  : {s : <span class="kr">forall</span> <span class="nv">y</span> : B, P y &amp;
    <span class="kr">forall</span> <span class="nv">x</span> : A, s (f x) = d x} &amp;
  {s : <span class="kr">forall</span> <span class="nv">y0</span> : B, g y0 = y.<span class="mi">1</span> y0 &amp;
  <span class="kr">forall</span> <span class="nv">x</span> : A, s (f x) = gd x @ (y.<span class="mi">2</span> x)^}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk10"><span class="nb">refine</span> (contr_sigma_sigma
              (<span class="kr">forall</span> <span class="nv">y</span>:B, P y) (<span class="kr">fun</span> <span class="nv">s</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span>:A, s (f x) = d x)
              (<span class="kr">fun</span> <span class="nv">a</span> =&gt; g == a)
              (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span>:A, c (f x) = gd x @ (b x)^)
              g (<span class="kr">fun</span> <span class="nv">y</span>:B =&gt; idpath (g y))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Contr
  {y : <span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x &amp;
  <span class="kr">forall</span> <span class="nv">x</span> : A, <span class="mi">1</span> = gd x @ (y x)^}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk11"><span class="nb">refine</span> (contr_equiv&#39; {p:g o f == d &amp; gd == p} _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) == d &amp; gd == p} &lt;~&gt;
{y : <span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="mi">1</span> = gd x @ (y x)^}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) == d &amp; gd == p} &lt;~&gt;
{y : <span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x &amp;
<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="mi">1</span> = gd x @ (y x)^}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13"><span class="nb">refine</span> (equiv_functor_sigma_id _); <span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) == d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gd == p &lt;~&gt; (<span class="kr">forall</span> <span class="nv">x</span> : A, <span class="mi">1</span> = gd x @ (p x)^)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk14"><span class="nb">refine</span> (equiv_functor_forall_id _); <span class="nb">intros</span> x; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) == d</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gd x = p x &lt;~&gt; <span class="mi">1</span> = gd x @ (p x)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk15"><span class="nb">refine</span> (_ oE equiv_path_inverse _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, P (f x)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, P y</span></span></span><br><span><var>gd</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, g (f x) = d x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) == d</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p x = gd x &lt;~&gt; <span class="mi">1</span> = gd x @ (p x)^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">apply</span> equiv_moveR_1M.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">path_extension</span> `{Funext} {A B : <span class="kt">Type</span>} {f : A -&gt; B}
             {P : B -&gt; <span class="kt">Type</span>} {d : <span class="kr">forall</span> <span class="nv">x</span>:A, P (f x)}
             (ext ext&#39; : ExtensionAlong f P d)
  : (ExtensionAlong f
                    (<span class="kr">fun</span> <span class="nv">y</span> =&gt; pr1 ext y = pr1 ext&#39; y)
                    (<span class="kr">fun</span> <span class="nv">x</span> =&gt; pr2 ext x @ (pr2 ext&#39; x)^))
    -&gt; ext = ext&#39;
  := equiv_path_extension ext ext&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">isequiv_path_extension</span> `{Funext} {A B : <span class="kt">Type</span>} {f : A -&gt; B}
         {P : B -&gt; <span class="kt">Type</span>} {d : <span class="kr">forall</span> <span class="nv">x</span>:A, P (f x)}
         (ext ext&#39; : ExtensionAlong f P d)
    : IsEquiv (path_extension ext ext&#39;) | <span class="mi">0</span>
    := equiv_isequiv _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Here is the iterated version. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">ExtendableAlong</span>@{i j k l}
           (n : nat) {A : <span class="kt">Type</span>@{i}} {B : <span class="kt">Type</span>@{j}}
           (f : A -&gt; B) (C : B -&gt; <span class="kt">Type</span>@{k}) : <span class="kt">Type</span>@{l}
    := <span class="kr">match</span> n <span class="kr">with</span>
         | <span class="mi">0</span> =&gt; Unit
         | S n =&gt; (<span class="kr">forall</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, C (f a)),
                     ExtensionAlong@{i j k l} f C g) *
                  <span class="kr">forall</span> (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b),
                    ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b)
       <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** [ExtendableAlong] takes 4 universe parameters:</span>
<span class="sd">      - size of A</span>
<span class="sd">      - size of B</span>
<span class="sd">      - size of C</span>
<span class="sd">      - size of result (&gt;= A,B,C) *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> ExtendableAlong n%_nat_scope {A B}%_type_scope (f C)%_function_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We can modify the universes, as with [ExtensionAlong]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16"><span class="kn">Definition</span> <span class="nf">lift_extendablealong</span>@{a1 a2 amin b1 b2 bmin p1 p2 pmin m1 m2}
             (n : nat) {A : <span class="kt">Type</span>@{amin}} {B : <span class="kt">Type</span>@{bmin}}
             (f : A -&gt; B) (P : B -&gt; <span class="kt">Type</span>@{pmin})
  : ExtendableAlong@{a1 b1 p1 m1} n f P -&gt; ExtendableAlong@{a2 b2 p2 m2} n f P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f P -&gt; ExtendableAlong n f P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f P -&gt; ExtendableAlong n f P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk18"><span class="nb">revert</span> P; simple_induction n n IH; <span class="nb">intros</span> P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">0</span> f P -&gt; ExtendableAlong <span class="mi">0</span> f P</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk19"><hr></label><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f P -&gt; ExtendableAlong n.+<span class="mi">1</span> f P</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">0</span> f P -&gt; ExtendableAlong <span class="mi">0</span> f P</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> _; <span class="bp">exact</span> tt.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f P -&gt; ExtendableAlong n.+<span class="mi">1</span> f P</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1c"><span class="nb">intros</span> ext; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (f a), ExtensionAlong f P g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk1d"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, P b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (f a), ExtensionAlong f P g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> g; <span class="bp">exact</span> (lift_extensionalong@{a1 a2 amin b1 b2 bmin p1 p2 pmin m1 m2} _ _ _ (fst ext g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk1f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, P b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk20"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">        <span class="sd">(** Unless we give the universe explicitly here, [kmin] gets collapsed to [k1]. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk21"><span class="nb">pose</span> (P&#39; := (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b) : B -&gt; <span class="kt">Type</span>@{pmin}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f P -&gt; ExtendableAlong n f P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P b</span></span></span><br><span><var>P'</var><span><span class="hyp-body"><b>:= </b><span>(<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b) : B -&gt; <span class="kt">Type</span></span></span><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (IH P&#39; (snd ext h k)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk22"><span class="kn">Definition</span> <span class="nf">equiv_extendable_pathsplit</span> `{Funext} (n : nat)
             {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : ExtendableAlong n f C
    &lt;~&gt; PathSplit n (<span class="kr">fun</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b) =&gt; g oD f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C &lt;~&gt;
PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk23"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C &lt;~&gt;
PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk24"><span class="nb">generalize dependent</span> C; simple_induction n n IHn; <span class="nb">intros</span> C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">0</span> f C &lt;~&gt;
PathSplit <span class="mi">0</span> (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk25"><hr></label><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f C &lt;~&gt;
PathSplit n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk26"><span class="mi">1</span>:<span class="bp">exact</span> equiv_idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f C &lt;~&gt;
PathSplit n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk27"><span class="nb">refine</span> (_ *E _); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
 ExtensionAlong f C g) &lt;~&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, C (f x),
 hfiber (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk28"><hr></label><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> ExtendableAlong
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B)
    (C : B -&gt; <span class="kt">Type</span>) {<span class="kr">struct</span> n} : <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
         ExtensionAlong f C g) *
        (<span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
         ExtendableAlong n0 A B f
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h0 b = k0 b))
    <span class="kr">end</span>) n A B f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) &lt;~&gt;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> PathSplit
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
      <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
        (<span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : A,
         PathSplit n0 (x0 = y0) (f x0 = f y0) (ap f))
    <span class="kr">end</span>) n (x = y) (x oD f = y oD f)
   (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk29">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
 ExtensionAlong f C g) &lt;~&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, C (f x),
 hfiber (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2a"><span class="nb">refine</span> (equiv_functor_forall&#39; <span class="mi">1</span> _); <span class="nb">intros</span> g; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C g &lt;~&gt;
hfiber (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2b"><span class="nb">refine</span> (equiv_functor_sigma&#39; <span class="mi">1</span> _); <span class="nb">intros</span> rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>rec</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : B, C y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">x</span> : A, rec (f x) = g x) &lt;~&gt;
<span class="mi">1</span>%equiv rec oD f = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_path_forall.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> ExtendableAlong
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B)
    (C : B -&gt; <span class="kt">Type</span>) {<span class="kr">struct</span> n} : <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
         ExtensionAlong f C g) *
        (<span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
         ExtendableAlong n0 A B f
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h0 b = k0 b))
    <span class="kr">end</span>) n A B f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) &lt;~&gt;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> PathSplit
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
      <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
        (<span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y0</span> : A,
         PathSplit n0 (x0 = y0) (f x0 = f y0) (ap f))
    <span class="kr">end</span>) n (x = y) (x oD f = y oD f)
   (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2d"><span class="nb">refine</span> (equiv_functor_forall&#39; <span class="mi">1</span> _); <span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> ExtendableAlong
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B)
    (C : B -&gt; <span class="kt">Type</span>) {<span class="kr">struct</span> n} : <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
         ExtensionAlong f C g) *
        (<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
         ExtendableAlong n0 A B f
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k0 b))
    <span class="kr">end</span>) n A B f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; <span class="mi">1</span>%equiv h b = k b)) &lt;~&gt;
(<span class="kr">forall</span> <span class="nv">y</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 (<span class="kr">fix</span> PathSplit
    (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
      <span class="kt">Type</span> :=
    <span class="kr">match</span> n <span class="kr">with</span>
    | <span class="mi">0</span> =&gt; Unit
    | n0.+<span class="mi">1</span> =&gt;
        (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
        (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y0</span> : A,
         PathSplit n0 (x = y0) (f x = f y0) (ap f))
    <span class="kr">end</span>) n (h = y) (h oD f = y oD f)
   (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2e"><span class="nb">refine</span> (equiv_functor_forall&#39; <span class="mi">1</span> _); <span class="nb">intros</span> k; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fix</span> ExtendableAlong
   (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) (C : B -&gt; <span class="kt">Type</span>)
   {<span class="kr">struct</span> n} : <span class="kt">Type</span> :=
   <span class="kr">match</span> n <span class="kr">with</span>
   | <span class="mi">0</span> =&gt; Unit
   | n0.+<span class="mi">1</span> =&gt;
       (<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
        ExtensionAlong f C g) *
       (<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
        ExtendableAlong n0 A B f
          (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b))
   <span class="kr">end</span>) n A B f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b) &lt;~&gt;
(<span class="kr">fix</span> PathSplit
   (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
     <span class="kt">Type</span> :=
   <span class="kr">match</span> n <span class="kr">with</span>
   | <span class="mi">0</span> =&gt; Unit
   | n0.+<span class="mi">1</span> =&gt;
       (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A,
        PathSplit n0 (x = y) (f x = f y) (ap f))
   <span class="kr">end</span>) n (h = k) (h oD f = k oD f)
  (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk2f"><span class="nb">refine</span> (_ oE IHn (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSplit n
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, h b = k b =&gt; g oD f) &lt;~&gt;
(<span class="kr">fix</span> PathSplit
   (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
     <span class="kt">Type</span> :=
   <span class="kr">match</span> n <span class="kr">with</span>
   | <span class="mi">0</span> =&gt; Unit
   | n0.+<span class="mi">1</span> =&gt;
       (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A,
        PathSplit n0 (x = y) (f x = f y) (ap f))
   <span class="kr">end</span>) n (h = k) (h oD f = k oD f)
  (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk30"><span class="nb">apply</span> equiv_inverse.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fix</span> PathSplit
   (n : nat) (A B : <span class="kt">Type</span>) (f : A -&gt; B) {<span class="kr">struct</span> n} :
     <span class="kt">Type</span> :=
   <span class="kr">match</span> n <span class="kr">with</span>
   | <span class="mi">0</span> =&gt; Unit
   | n0.+<span class="mi">1</span> =&gt;
       (<span class="kr">forall</span> <span class="nv">a</span> : B, hfiber f a) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : A,
        PathSplit n0 (x = y) (f x = f y) (ap f))
   <span class="kr">end</span>) n (h = k) (h oD f = k oD f)
  (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)) &lt;~&gt;
PathSplit n
  (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, h b = k b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk31"><span class="nb">refine</span> (equiv_functor_pathsplit n _ _
               (equiv_apD10 _ _ _) (equiv_apD10 _ _ _) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C &lt;~&gt; PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : h = k =&gt; equiv_apD10 C h k x oD f) ==
(<span class="kr">fun</span> <span class="nv">x</span> : h = k =&gt;
 equiv_apD10 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; C (f x0)) (h oD f)
   (k oD f)
   (ap (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> []; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isequiv_extendable</span> `{Funext} (n : nat)
             {A B : <span class="kt">Type</span>} {C : B -&gt; <span class="kt">Type</span>} {f : A -&gt; B}
  : ExtendableAlong n.+<span class="mi">2</span> f C
    -&gt; IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> =&gt; g oD f)
    := isequiv_pathsplit n o (equiv_extendable_pathsplit n.+<span class="mi">2</span> C f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk32">#[export] <span class="kn">Instance</span> <span class="nf">ishprop_extendable</span> `{Funext} (n : nat)
         {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : IsHProp (ExtendableAlong n.+<span class="mi">2</span> f C).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ExtendableAlong n.+<span class="mi">2</span> f C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ExtendableAlong n.+<span class="mi">2</span> f C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (istrunc_equiv_istrunc _ (equiv_extendable_pathsplit n.+<span class="mi">2</span> C f)^-<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk34"><span class="kn">Definition</span> <span class="nf">equiv_extendable_isequiv</span> `{Funext} (n : nat)
             {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : ExtendableAlong n.+<span class="mi">2</span> f C
    &lt;~&gt; IsEquiv (<span class="kr">fun</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b) =&gt; g oD f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">2</span> f C &lt;~&gt;
IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk35"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">2</span> f C &lt;~&gt;
IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk36"><span class="nb">etransitivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">2</span> f C &lt;~&gt; <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk37" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk37"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> &lt;~&gt;
IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk38">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">2</span> f C &lt;~&gt; <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_extendable_pathsplit.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk39">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">PathSplit n.+<span class="mi">2</span> (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) &lt;~&gt;
IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_pathsplit_isequiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Without [Funext], we can prove a small part of the above equivalence.</span>
<span class="c">     We suspect that the rest requires [Funext]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3a"><span class="kn">Definition</span> <span class="nf">extension_isequiv_precompose</span>
           {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">B</span> : <span class="kt">Type</span>}
           (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>)
    : IsEquiv (<span class="kr">fun</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b) =&gt; g oD f) -&gt; <span class="kr">forall</span> <span class="nv">g</span>, ExtensionAlong f C g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) -&gt;
<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, C (f x), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f) -&gt;
<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">x</span> : A, C (f x), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3c"><span class="nb">intros</span> E g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, C (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3d"><span class="nb">pose</span> (e := Build_Equiv _ _ _ E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, C (f x)</span></span></span><br><span><var>e</var><span><span class="hyp-body"><b>:= </b><span>{|
  equiv_fun := <span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f;
  equiv_isequiv := E
|}</span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">b</span> : B, C b) &lt;~&gt; (<span class="kr">forall</span> <span class="nv">x</span> : A, C (f x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3e"><span class="kr">exists</span> (<span class="nv">e</span>^-<span class="mi">1</span> g).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, C (f x)</span></span></span><br><span><var>e</var><span><span class="hyp-body"><b>:= </b><span>{|
  equiv_fun := <span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f;
  equiv_isequiv := E
|}</span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">b</span> : B, C b) &lt;~&gt; (<span class="kr">forall</span> <span class="nv">x</span> : A, C (f x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
(<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)^-<span class="mi">1</span> g (f x) = g x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk3f"><span class="nb">apply</span> apD10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A, C (f x)</span></span></span><br><span><var>e</var><span><span class="hyp-body"><b>:= </b><span>{|
  equiv_fun := <span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f;
  equiv_isequiv := E
|}</span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">b</span> : B, C b) &lt;~&gt; (<span class="kr">forall</span> <span class="nv">x</span> : A, C (f x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt;
 (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)^-<span class="mi">1</span> g (f x)) = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (eisretr e g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Postcomposition with a known equivalence.  Note that this does not require funext to define, although showing that it is an equivalence would require funext. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk40"><span class="kn">Definition</span> <span class="nf">extendable_postcompose&#39;</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> <span class="nv">D</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b &lt;~&gt; D b)
  : ExtendableAlong n f C -&gt; ExtendableAlong n f D.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C -&gt; ExtendableAlong n f D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C -&gt; ExtendableAlong n f D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk42"><span class="nb">generalize dependent</span> C; <span class="nb">revert</span> D.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk43">simple_induction n n IH; <span class="nb">intros</span> C D g; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Unit -&gt; Unit</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk44"><hr></label><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, D (f a),
 ExtensionAlong f D g) *
(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, D b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) -&gt;
(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
 ExtensionAlong f C g) *
(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk45"><span class="mi">1</span>:<span class="bp">exact</span> idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, D (f a),
 ExtensionAlong f D g) *
(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, D b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) -&gt;
(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a),
 ExtensionAlong f C g) *
(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk46"><span class="nb">refine</span> (functor_prod _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, D (f a),
 ExtensionAlong f D g) -&gt;
<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk47" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk47"><hr></label><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, D b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) -&gt;
<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk48">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, D (f a),
 ExtensionAlong f D g) -&gt;
<span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk49"><span class="nb">refine</span> (functor_forall (functor_forall idmap
                                             (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (g (f a))^-<span class="mi">1</span>)) _);
      <span class="nb">intros</span> h; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f D
  (functor_forall idmap (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (g (f a))^-<span class="mi">1</span>) h) -&gt;
ExtensionAlong f C h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4a"><span class="nb">refine</span> (functor_sigma (functor_forall idmap g) _); <span class="nb">intros</span> k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, D a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">x</span> : A,
 k (f x) =
 functor_forall idmap (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; (g (f a))^-<span class="mi">1</span>) h x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : A,
functor_forall idmap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; g b) k (f x) = h x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4b"><span class="nb">refine</span> (functor_forall idmap _);
        <span class="nb">intros</span> a; <span class="nb">unfold</span> functor_arrow, functor_forall, composeD; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, D a</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k (f a) = (g (f a))^-<span class="mi">1</span> (h a) -&gt;
g (f a) (k (f a)) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> moveR_equiv_M.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, D b,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)) -&gt;
<span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4d"><span class="nb">refine</span> (functor_forall (functor_forall idmap (<span class="kr">fun</span> <span class="nv">b</span> =&gt; (g b)^-<span class="mi">1</span>)) _);
      <span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, C a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, D b,
 ExtendableAlong n f
   (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
    functor_forall idmap (<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt; (g b0)^-<span class="mi">1</span>) h b =
    k b)) -&gt;
<span class="kr">forall</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4e"><span class="nb">refine</span> (functor_forall (functor_forall idmap (<span class="kr">fun</span> <span class="nv">b</span> =&gt; (g b)^-<span class="mi">1</span>)) _);
        <span class="nb">intros</span> k; <span class="nb">simpl</span>; <span class="nb">unfold</span> functor_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, C a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; (g b)^-<span class="mi">1</span> (h b) = (g b)^-<span class="mi">1</span> (k b)) -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk4f"><span class="nb">refine</span> (IH _ _ _); <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">D</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, C b &lt;~&gt; D b) -&gt;
ExtendableAlong n f C -&gt; ExtendableAlong n f D</span></span></span><br><span><var>C, D</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, D b &lt;~&gt; C b</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, C a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(g b)^-<span class="mi">1</span> (h b) = (g b)^-<span class="mi">1</span> (k b) &lt;~&gt; h b = k b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_inverse, equiv_ap; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">extendable_postcompose</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> <span class="nv">D</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b -&gt; D b) `{<span class="kr">forall</span> <span class="nv">b</span>, IsEquiv (g b)}
  : ExtendableAlong n f C -&gt; ExtendableAlong n f D
    := extendable_postcompose&#39; n C D f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; Build_Equiv _ _ (g b) _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Composition of the maps we extend along.  This also does not require funext. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk50"><span class="kn">Definition</span> <span class="nf">extendable_compose</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ExtendableAlong n g P -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b)) -&gt; ExtendableAlong n (g o f) P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (g o f) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk51"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (g o f) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk52"><span class="nb">revert</span> P; simple_induction n n IHn; <span class="nb">intros</span> P extg extf; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a)),
ExtensionAlong (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk53"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : C, P b,
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
  (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk54">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a)),
ExtensionAlong (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk55"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk56"><span class="kr">exists</span> ((fst extg (fst extf h).<span class="mi">1</span>).<span class="mi">1</span>); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst extg (fst extf h).<span class="mi">1</span>).<span class="mi">1</span> (g (f a)) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk57"><span class="nb">refine</span> ((fst extg (fst extf h).<span class="mi">1</span>).<span class="mi">2</span> (f a) @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst extf h).<span class="mi">1</span> (f a) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst extf h).<span class="mi">2</span> a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk58">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : C, P b,
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
  (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk59"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
  (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5a"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk5b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk5b"><hr></label><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h (g b) = k (g b))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd extg h k).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h (g b) = k (g b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd extf (h oD g) (k oD g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** And cancellation *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5e"><span class="kn">Definition</span> <span class="nf">cancelL_extendable</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ExtendableAlong n g P -&gt; ExtendableAlong n (g o f) P -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g P -&gt;
ExtendableAlong n (g o f) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g P -&gt;
ExtendableAlong n (g o f) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk60"><span class="nb">revert</span> P; simple_induction n n IHn; <span class="nb">intros</span> P extg extgf; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a)),
ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk61"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, P (g b),
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a)),
ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk63"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk64"><span class="kr">exists</span> ((fst extgf h).<span class="mi">1</span> oD g); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (g (f a))</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((fst extgf h).<span class="mi">1</span> oD g) (f a) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst extgf h).<span class="mi">2</span> a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk65">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, P (g b),
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk66"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk67"><span class="nb">pose</span> (h&#39; := (fst extg h).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk68"><span class="nb">pose</span> (k&#39; := (fst extg k).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk69"><span class="nb">refine</span> (extendable_postcompose&#39; n (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h&#39; (g b) = k&#39; (g b)) (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b) f _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, h&#39; (g b) = k&#39; (g b) &lt;~&gt; h b = k b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk6a"><hr></label><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h&#39; (g b) = k&#39; (g b))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, h&#39; (g b) = k&#39; (g b) &lt;~&gt; h b = k b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6c"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">h&#39; (g b) = k&#39; (g b) &lt;~&gt; h b = k b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_concat_lr ((fst extg h).<span class="mi">2</span> b)^ ((fst extg k).<span class="mi">2</span> b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n g P -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g P</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, P (g b)</span></span></span><br><span><var>h'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg h).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br><span><var>k'</var><span><span class="hyp-body"><b>:= </b><span>(fst extg k).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">y</span> : C, P y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h&#39; (g b) = k&#39; (g b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (IHn (<span class="kr">fun</span> <span class="nv">c</span> =&gt; h&#39; c = k&#39; c) (snd extg h&#39; k&#39;) (snd extgf h&#39; k&#39;)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6e"><span class="kn">Definition</span> <span class="nf">cancelR_extendable</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b)) -&gt; ExtendableAlong n (g o f) P -&gt; ExtendableAlong n g P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (g o f) P -&gt; ExtendableAlong n g P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk6f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (g o f) P -&gt; ExtendableAlong n g P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk70"><span class="nb">revert</span> P; simple_induction n n IHn; <span class="nb">intros</span> P extf extgf; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : B, P (g a),
ExtensionAlong g P g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk71"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : C, P b,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk72">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : B, P (g a),
ExtensionAlong g P g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk73"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, P (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong g P h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk74"><span class="kr">exists</span> ((fst extgf (h oD f)).<span class="mi">1</span>); <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, P (g a)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst extgf (h oD f)).<span class="mi">1</span> (g b) = h b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk75"><span class="nb">refine</span> ((fst (snd extf ((fst extgf (h oD f)).<span class="mi">1</span> oD g) h) _).<span class="mi">1</span> b); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : B, P (g a)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((fst extgf (h oD f)).<span class="mi">1</span> oD g) (f a) = h (f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ((fst extgf (h oD f)).<span class="mi">2</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : C, P b,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk77"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk78"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h (g b) = k (g b))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt;
ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk79"><hr></label><div class="goal-conclusion">ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
  (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h (g b) = k (g b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd extf (h oD g) (k oD g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : C -&gt; <span class="kt">Type</span>,
ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b)) -&gt;
ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P -&gt; ExtendableAlong n g P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; P (g b))</span></span></span><br><span><var>extgf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x)) P</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : C, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
  (<span class="kr">fun</span> <span class="nv">b</span> : C =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd extgf h k).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** And transfer across homotopies *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7c"><span class="kn">Definition</span> <span class="nf">extendable_homotopic</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) {<span class="nv">g</span> : A -&gt; B} (<span class="nv">p</span> : f == g)
  : ExtendableAlong n f C -&gt; ExtendableAlong n g C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C -&gt; ExtendableAlong n g C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C -&gt; ExtendableAlong n g C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk7e"><span class="nb">revert</span> C; simple_induction n n IHn; <span class="nb">intros</span> C extf; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (g a),
ExtensionAlong g C g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk7f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk7f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk80">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (g a),
ExtensionAlong g C g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk81"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong g C h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk82"><span class="kr">exists</span> ((fst extf (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (p a)^ # h a)).<span class="mi">1</span>); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (g a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst extf (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; transport C (p a)^ (h a))).<span class="mi">1</span>
  (g a) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk83"><span class="nb">refine</span> ((apD ((fst extf (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (p a)^ # h a)).<span class="mi">1</span>) (p a))^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (g a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport C (p a)
  ((fst extf (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; transport C (p a)^ (h a))).<span class="mi">1</span>
     (f a)) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk84"><span class="nb">apply</span> moveR_transport_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (g a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst extf (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; transport C (p a)^ (h a))).<span class="mi">1</span>
  (f a) = transport C (p a)^ (h a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst extf (<span class="kr">fun</span> <span class="nv">a</span> =&gt; (p a)^ # h a)).<span class="mi">2</span> a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk85">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk86"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == g</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C -&gt; ExtendableAlong n g C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>extf</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHn, (snd extf h k).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We can extend along equivalences *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk87"><span class="kn">Definition</span> <span class="nf">extendable_equiv</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) `{IsEquiv _ _ f}
  : ExtendableAlong n f C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk88"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk89"><span class="nb">revert</span> C; simple_induction n n IHn; <span class="nb">intros</span> C; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk8a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk8a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8c"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8d"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">b</span> =&gt; eisretr f b # h (f^-<span class="mi">1</span> b)); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport C (eisretr f (f a)) (h (f^-<span class="mi">1</span> (f a))) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8e"><span class="nb">refine</span> (transport2 C (eisadj f a) _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport C (ap f (eissect f a)) (h (f^-<span class="mi">1</span> (f a))) =
h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk8f"><span class="nb">refine</span> ((transport_compose C f _ _)^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; C (f x)) (eissect f a)
  (h (f^-<span class="mi">1</span> (f a))) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (apD h (eissect f a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk90">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk91"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHn.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** And into contractible types *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk92"><span class="kn">Definition</span> <span class="nf">extendable_contr</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             `{<span class="kr">forall</span> <span class="nv">b</span>, Contr (C b)}
  : ExtendableAlong n f C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk93"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk94"><span class="nb">generalize dependent</span> C; simple_induction n n IHn;
      <span class="nb">intros</span> C ?; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk95" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk95"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk96">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk97"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk98"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">_</span> =&gt; center _); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">center (C (f a)) = h a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> contr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk99">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9a"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>, (<span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)) -&gt; ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, Contr (C b)</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHn; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** This is inherited by types of homotopies. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9b"><span class="kn">Definition</span> <span class="nf">extendable_homotopy</span> (<span class="nv">n</span> : nat)
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b)
  : ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f C -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n.+<span class="mi">1</span> f C -&gt;
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9d"><span class="nb">revert</span> C h k; simple_induction n n IHn;
      <span class="nb">intros</span> C h k ext; [<span class="bp">exact</span> tt | <span class="nb">split</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, h (f a) = k (f a),
ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b) g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk9e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk9e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, h b = k b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h0 b = k0 b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk9f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, h (f a) = k (f a),
ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b) g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka0"><span class="nb">intros</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, h (f a) = k (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b) p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst (snd ext h k) p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, h b = k b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h0 b = k0 b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka2"><span class="nb">intros</span> p q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b),
ExtendableAlong n.+<span class="mi">1</span> f C -&gt; ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">2</span> f C</span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, h b = k b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; p b = q b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHn, ext.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** And the oo-version. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooExtendableAlong</span>@{i j k l}
             {A : <span class="kt">Type</span>@{i}} {B : <span class="kt">Type</span>@{j}}
             (f : A -&gt; B) (C : B -&gt; <span class="kt">Type</span>@{k}) : <span class="kt">Type</span>@{l}
    := <span class="kr">forall</span> <span class="nv">n</span> : nat, ExtendableAlong@{i j k l} n f C.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Universe parameters are the same as for [ExtendableAlong]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> ooExtendableAlong {A B}%_type_scope (f C)%_function_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Universe modification. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_ooextendablealong</span>@{a1 a2 amin b1 b2 bmin p1 p2 pmin m1 m2}
             {A : <span class="kt">Type</span>@{amin}} {B : <span class="kt">Type</span>@{bmin}}
             (f : A -&gt; B) (P : B -&gt; <span class="kt">Type</span>@{pmin})
  : ooExtendableAlong@{a1 b1 p1 m1} f P -&gt; ooExtendableAlong@{a2 b2 p2 m2} f P
    := <span class="kr">fun</span> <span class="nv">ext</span> <span class="nv">n</span> =&gt; lift_extendablealong@{a1 a2 amin b1 b2 bmin p1 p2 pmin m1 m2} n f P (ext n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We take part of the data from [ps 1] and part from [ps 2] so that the inverse chosen is the expected one. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isequiv_ooextendable</span> `{Funext}
             {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : ooExtendableAlong f C -&gt; IsEquiv (<span class="kr">fun</span> <span class="nv">g</span> =&gt; g oD f)
    := <span class="kr">fun</span> <span class="nv">ps</span> =&gt; isequiv_extendable <span class="mi">0</span> (fst (ps <span class="mi">1</span>%nat), snd (ps <span class="mi">2</span>)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka3"><span class="kn">Definition</span> <span class="nf">equiv_ooextendable_pathsplit</span> `{Funext}
             {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : ooExtendableAlong f C &lt;~&gt;
    ooPathSplit (<span class="kr">fun</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b) =&gt; g oD f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong f C &lt;~&gt;
ooPathSplit (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong f C &lt;~&gt;
ooPathSplit (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka5"><span class="nb">refine</span> (equiv_functor_forall&#39; <span class="mi">1</span> _); <span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong (<span class="mi">1</span>%equiv n) f C &lt;~&gt;
PathSplit n (<span class="kr">fun</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b =&gt; g oD f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> equiv_extendable_pathsplit.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka6">#[export] <span class="kn">Instance</span> <span class="nf">ishprop_ooextendable</span> `{Funext}
         {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : IsHProp (ooExtendableAlong f C).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ooExtendableAlong f C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (ooExtendableAlong f C)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (istrunc_equiv_istrunc _ (equiv_ooextendable_pathsplit C f)^-<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_ooextendable_isequiv</span> `{Funext}
             {A B : <span class="kt">Type</span>} (C : B -&gt; <span class="kt">Type</span>) (f : A -&gt; B)
  : ooExtendableAlong f C
    &lt;~&gt; IsEquiv (<span class="kr">fun</span> (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b) =&gt; g oD f)
    := equiv_oopathsplit_isequiv _ oE equiv_ooextendable_pathsplit _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_postcompose</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> <span class="nv">D</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b -&gt; D b) `{<span class="kr">forall</span> <span class="nv">b</span>, IsEquiv (g b)}
  : ooExtendableAlong f C -&gt; ooExtendableAlong f D
    := <span class="kr">fun</span> <span class="nv">ppp</span> <span class="nv">n</span> =&gt; extendable_postcompose n C D f g (ppp n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_postcompose&#39;</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> <span class="nv">D</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b &lt;~&gt; D b)
  : ooExtendableAlong f C -&gt; ooExtendableAlong f D
    := <span class="kr">fun</span> <span class="nv">ppp</span> <span class="nv">n</span> =&gt; extendable_postcompose&#39; n C D f g (ppp n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_compose</span>
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ooExtendableAlong g P -&gt; ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b)) -&gt; ooExtendableAlong (g o f) P
    := <span class="kr">fun</span> <span class="nv">extg</span> <span class="nv">extf</span> <span class="nv">n</span> =&gt; extendable_compose n P f g (extg n) (extf n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cancelL_ooextendable</span>
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ooExtendableAlong g P -&gt; ooExtendableAlong (g o f) P -&gt; ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b))
  := <span class="kr">fun</span> <span class="nv">extg</span> <span class="nv">extgf</span> <span class="nv">n</span> =&gt; cancelL_extendable n P f g (extg n) (extgf n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cancelR_ooextendable</span>
             {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">P</span> : C -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  : ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; P (g b)) -&gt; ooExtendableAlong (g o f) P -&gt; ooExtendableAlong g P
    := <span class="kr">fun</span> <span class="nv">extf</span> <span class="nv">extgf</span> <span class="nv">n</span> =&gt; cancelR_extendable n P f g (extf n.+<span class="mi">1</span>) (extgf n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_homotopic</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) {<span class="nv">g</span> : A -&gt; B} (<span class="nv">p</span> : f == g)
  : ooExtendableAlong f C -&gt; ooExtendableAlong g C
    := <span class="kr">fun</span> <span class="nv">extf</span> <span class="nv">n</span> =&gt; extendable_homotopic n C f p (extf n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_equiv</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B) `{IsEquiv _ _ f}
  : ooExtendableAlong f C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_equiv n C f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_contr</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             `{<span class="kr">forall</span> <span class="nv">b</span>, Contr (C b)}
  : ooExtendableAlong f C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_contr n C f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka8"><span class="kn">Definition</span> <span class="nf">ooextendable_homotopy</span>
             {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>) (<span class="nv">f</span> : A -&gt; B)
             (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span>, C b)
  : ooExtendableAlong f C -&gt; ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> =&gt; h b = k b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong f C -&gt;
ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chka9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong f C -&gt;
ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> ext n; <span class="nb">apply</span> extendable_homotopy, ext.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Extendability of a family [C] along a map [f] can be detected by extendability of the constant family [C b] along the projection from the corresponding fiber of [f] to [Unit].  Note that this is *not* an if-and-only-if; the hypothesis can be genuinely stronger than the conclusion. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkaa"><span class="kn">Definition</span> <span class="nf">ooextendable_isnull_fibers</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>)
  : (<span class="kr">forall</span> <span class="nv">b</span>, ooExtendableAlong (const_tt (hfiber f b))
                                 (<span class="kr">fun</span> <span class="nv">_</span> =&gt; C b))
    -&gt; ooExtendableAlong f C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">b</span> : B,
 ooExtendableAlong (const_tt (hfiber f b))
   (unit_name (C b))) -&gt; ooExtendableAlong f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkab"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">forall</span> <span class="nv">b</span> : B,
 ooExtendableAlong (const_tt (hfiber f b))
   (unit_name (C b))) -&gt; ooExtendableAlong f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkac"><span class="nb">intros</span> orth n; <span class="nb">revert</span> C orth.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B,
 ooExtendableAlong (const_tt (hfiber f b))
   (unit_name (C b))) -&gt; ExtendableAlong n f C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkad"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn]; <span class="nb">intros</span> C orth; [<span class="bp">exact</span> tt | <span class="nb">split</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B,
 ooExtendableAlong (const_tt (hfiber f b))
   (unit_name (C b))) -&gt; 
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkae"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkaf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (f a), ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb0"><span class="nb">intros</span> g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong f C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb1"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">b</span> =&gt; (fst (orth b <span class="mi">1</span>%nat) (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x.<span class="mi">2</span> # g x.<span class="mi">1</span>)).<span class="mi">1</span> tt).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A,
(fst (orth (f x) <span class="mi">1</span>)
   (<span class="kr">fun</span> <span class="nv">x0</span> : hfiber f (f x) =&gt;
    transport C x0.<span class="mi">2</span> (g x0.<span class="mi">1</span>))).<span class="mi">1</span> tt = g x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb2"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (orth (f a) <span class="mi">1</span>)
   (<span class="kr">fun</span> <span class="nv">x</span> : hfiber f (f a) =&gt; transport C x.<span class="mi">2</span> (g x.<span class="mi">1</span>))).<span class="mi">1</span>
  tt = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb3"><span class="nb">rewrite</span> (path_unit tt (const_tt _ a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (f a)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (orth (f a) <span class="mi">1</span>)
   (<span class="kr">fun</span> <span class="nv">x</span> : hfiber f (f a) =&gt; transport C x.<span class="mi">2</span> (g x.<span class="mi">1</span>))).<span class="mi">1</span>
  (const_tt A a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst (orth (f a) <span class="mi">1</span>%nat) _).<span class="mi">2</span> (a ; <span class="mi">1</span>)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : B, C b,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb5"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb6"><span class="nb">apply</span> IHn; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : B -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b</span> : B, ooExtendableAlong (const_tt (hfiber f b)) (unit_name (C b))) -&gt;
ExtendableAlong n f C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>orth</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (C b))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, C b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (const_tt (hfiber f b))
  (unit_name (h b = k b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ooextendable_homotopy, orth.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Extensions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Extendability along cofibrations *)</span>

<span class="sd">(** If a family is extendable along a cofibration (i.e. a mapping cylinder), it is extendable definitionally. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb7"><span class="kn">Definition</span> <span class="nf">cyl_extension</span> {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>)
           (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, C (cyl a))
           (<span class="nv">ext</span> : ExtensionAlong cyl C g)
  : ExtensionAlong cyl C g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkb9">srefine (Cyl_ind C g (ext.<span class="mi">1</span> o cyr) _ ; _); <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath C (cyglue a) (g a) ((ext.<span class="mi">1</span> o cyr) (f a))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkba"><hr></label><div class="goal-conclusion">Cyl_ind C g (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; ext.<span class="mi">1</span> (cyr x))
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="nl">?Goal</span>) (cyl a) = g a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkbb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath C (cyglue a) (g a) ((ext.<span class="mi">1</span> o cyr) (f a))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkbc"><span class="nb">refine</span> ((ext.<span class="mi">2</span> a)^ @Dl _)%dpath.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath C (cyglue a) (ext.<span class="mi">1</span> (cyl a)) (ext.<span class="mi">1</span> (cyr (f a)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> apD.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkbd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong cyl C g</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Cyl_ind C g (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; ext.<span class="mi">1</span> (cyr x))
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   ((ext.<span class="mi">2</span> a)^ @Dl apD ext.<span class="mi">1</span> (cyglue a))%dpath)
  (cyl a) = g a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>. <span class="sd">(** The point is that this equality is now definitional. *)</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkbe"><span class="kn">Definition</span> <span class="nf">cyl_extendable</span> (<span class="nv">n</span> : nat)
           {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>)
           (<span class="nv">ext</span> : ExtendableAlong n cyl C)
  : ExtendableAlong n cyl C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n cyl C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkbf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n cyl C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc0"><span class="nb">revert</span> C ext; simple_induction n n IH; <span class="nb">intros</span> C ext; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a),
ExtensionAlong cyl C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkc1"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : Cyl f, C b,
ExtendableAlong n cyl (<span class="kr">fun</span> <span class="nv">b</span> : Cyl f =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a),
ExtensionAlong cyl C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc3"><span class="nb">intros</span> g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc4"><span class="nb">apply</span> cyl_extension.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (cyl a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl C g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ext g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : Cyl f, C b,
ExtendableAlong n cyl (<span class="kr">fun</span> <span class="nv">b</span> : Cyl f =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc6"><span class="nb">intros</span> h k; <span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>,
ExtendableAlong n cyl C -&gt;
ExtendableAlong n cyl C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Cyl f -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> cyl C</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : Cyl f, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl (<span class="kr">fun</span> <span class="nv">b</span> : Cyl f =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd ext h k).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyl_ooextendable</span>
           {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : Cyl f -&gt; <span class="kt">Type</span>)
           (<span class="nv">ext</span> : ooExtendableAlong cyl C)
  : ooExtendableAlong cyl C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; cyl_extendable n f C (ext n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc7"><span class="kn">Definition</span> <span class="nf">cyl_extension&#39;</span>
           {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>)
           (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, C (pr_cyl (cyl a)))
           (<span class="nv">ext</span> : ExtensionAlong f C g)
  : ExtensionAlong cyl (C o pr_cyl) g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (pr_cyl (cyl a))</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl (C o pr_cyl) g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (pr_cyl (cyl a))</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl (C o pr_cyl) g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkc9">rapply cyl_extension.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (pr_cyl (cyl a))</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong cyl (<span class="kr">fun</span> <span class="nv">x</span> : Cyl f =&gt; C (pr_cyl x)) g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkca"><span class="kr">exists</span> (<span class="nv">ext</span>.<span class="mi">1</span> o pr_cyl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, C (pr_cyl (cyl a))</span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtensionAlong f C g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A, ext.<span class="mi">1</span> (pr_cyl (cyl x)) = g x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> x; <span class="nb">apply</span> ext.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkcb"><span class="kn">Definition</span> <span class="nf">cyl_extendable&#39;</span> (<span class="nv">n</span> : nat)
           {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>)
           (<span class="nv">ext</span> : ExtendableAlong n f C)
  : ExtendableAlong n cyl (C o (pr_cyl&#39; f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl (C o pr_cyl&#39; f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkcc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl (C o pr_cyl&#39; f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkcd">rapply cyl_extendable.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl f =&gt; C (pr_cyl&#39; f x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkce"><span class="nb">refine</span> (cancelL_extendable n C cyl pr_cyl _ ext).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ext</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n pr_cyl C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply extendable_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cyl_ooextendable&#39;</span>
           {<span class="nv">A</span> <span class="nv">B</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : B -&gt; <span class="kt">Type</span>)
           (<span class="nv">ext</span> : ooExtendableAlong f C)
  : ooExtendableAlong cyl (C o (pr_cyl&#39; f))
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; cyl_extendable&#39; n f C (ext n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** ** Extendability along [functor_prod] *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkcf"><span class="kn">Definition</span> <span class="nf">extension_functor_prod</span>
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">b&#39;</span>, ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> =&gt; P (a&#39;,b&#39;)))
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a&#39;</span>, ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> =&gt; P (a&#39;,b&#39;)))
           (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">z</span>, P (functor_prod f g z))
  : ExtensionAlong (functor_prod f g) P s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_prod f g) P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_prod f g) P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd1">srefine (_;_).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : A&#39; * B&#39;, P y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkd2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkd2"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : A&#39; * B&#39;, P y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : A * B, s0 (functor_prod f g x) = s x)
  <span class="nl">?proj1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : A&#39; * B&#39;, P y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd4"><span class="nb">intros</span> [a&#39; b&#39;]; <span class="nb">revert</span> b&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;, P (a&#39;, b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd5"><span class="nb">refine</span> ((fst (eg a&#39;) _).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : B, P (a&#39;, g a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd6"><span class="nb">intros</span> b; <span class="nb">revert</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;, P (a&#39;, g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd7"><span class="nb">refine</span> ((fst (ef (g b)) _).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, P (f a, g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd8"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (f a, g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (s (a,b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkd9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : A&#39; * B&#39;, P y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : A * B, s0 (functor_prod f g x) = s x)
  (<span class="kr">fun</span> <span class="nv">y</span> : A&#39; * B&#39; =&gt;
   (<span class="kr">fun</span> (<span class="nv">a&#39;</span> : A&#39;) (<span class="nv">b&#39;</span> : B&#39;) =&gt;
    (fst (eg a&#39;)
       (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
        (fst (ef (g b)) (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; s (a, b))).<span class="mi">1</span> a&#39;)).<span class="mi">1</span>
      b&#39;) (fst y) (snd y))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkda"><span class="nb">intros</span> [a b]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (eg (f a))
   (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
    (fst (ef (g b)) (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; s (a, b))).<span class="mi">1</span> (f a))).<span class="mi">1</span>
  (g b) = s (a, b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkdb"><span class="nb">refine</span> ((fst (eg (f a)) _).<span class="mi">2</span> b @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A * B, P (functor_prod f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (ef (g b)) (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; s (a, b))).<span class="mi">1</span> (f a) =
s (a, b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst (ef (g b)) _).<span class="mi">2</span> a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkdc"><span class="kn">Definition</span> <span class="nf">extendable_functor_prod</span> (<span class="nv">n</span> : nat)
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">b&#39;</span>, ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> =&gt; P (a&#39;,b&#39;)))
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a&#39;</span>, ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> =&gt; P (a&#39;,b&#39;)))
  : ExtendableAlong n (functor_prod f g) P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_prod f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkdd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_prod f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkde"><span class="nb">revert</span> P ef eg; simple_induction n n IH; <span class="nb">intros</span> P ef eg; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A * B, P (functor_prod f g a),
ExtensionAlong (functor_prod f g) P g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkdf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkdf"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b,
ExtendableAlong n (functor_prod f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : A&#39; * B&#39; =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A * B, P (functor_prod f g a),
ExtensionAlong (functor_prod f g) P g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke1"><span class="nb">apply</span> extension_functor_prod.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chke2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chke2"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> b&#39;; <span class="bp">exact</span> (fst (ef b&#39;), <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a&#39;; <span class="bp">exact</span> (fst (eg a&#39;), <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b,
ExtendableAlong n (functor_prod f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : A&#39; * B&#39; =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke6"><span class="nb">intros</span> h k; <span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; h (a&#39;, b&#39;) = k (a&#39;, b&#39;))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chke7"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; h (a&#39;, b&#39;) = k (a&#39;, b&#39;))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; h (a&#39;, b&#39;) = k (a&#39;, b&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> b&#39;; <span class="nb">apply</span> (snd (ef b&#39;)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chke9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
 ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
(<span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
 ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))) -&gt;
ExtendableAlong n (functor_prod f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; * B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b&#39;</span> : B&#39;,
ExtendableAlong n.+<span class="mi">1</span> f
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n.+<span class="mi">1</span> g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; P (a&#39;, b&#39;))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; * B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a&#39;</span> : A&#39;,
ExtendableAlong n g
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; h (a&#39;, b&#39;) = k (a&#39;, b&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a&#39;; <span class="nb">apply</span> (snd (eg a&#39;)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_prod</span>
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; * B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">b&#39;</span>, ooExtendableAlong f (<span class="kr">fun</span> <span class="nv">a&#39;</span> =&gt; P (a&#39;,b&#39;)))
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a&#39;</span>, ooExtendableAlong g (<span class="kr">fun</span> <span class="nv">b&#39;</span> =&gt; P (a&#39;,b&#39;)))
  : ooExtendableAlong (functor_prod f g) P
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_functor_prod n f g P (<span class="kr">fun</span> <span class="nv">b&#39;</span> =&gt; ef b&#39; n) (<span class="kr">fun</span> <span class="nv">a&#39;</span> =&gt; eg a&#39; n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** ** Extendability along [functor_sigma] *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkea"><span class="kn">Definition</span> <span class="nf">extension_functor_sigma_id</span>
           {<span class="nv">A</span>} {<span class="nv">P</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Type</span>} (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q a)
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">a</span>, ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (a;v)))
           (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">z</span>, C (functor_sigma idmap f z))
  : ExtensionAlong (functor_sigma idmap f) C s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sigma idmap f) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkeb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sigma idmap f) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkec">srefine (_;_).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chked" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chked"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : {x : _ &amp; P x},
 s0 (functor_sigma idmap f x) = s x) <span class="nl">?proj1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkee">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkef"><span class="nb">intros</span> [a v]; <span class="nb">revert</span> v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">v</span> : Q a, C (a; v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf0"><span class="nb">refine</span> ((fst (ef a) _).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : P a, C (a; f a a0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf1"><span class="nb">intros</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">C (a; f a u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (s (a;u)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : {x : _ &amp; P x},
 s0 (functor_sigma idmap f x) = s x)
  (<span class="kr">fun</span> <span class="nv">y</span> : {x : _ &amp; Q x} =&gt;
   (<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">v</span> : Q a) =&gt;
    (fst (ef a) (<span class="kr">fun</span> <span class="nv">u</span> : P a =&gt; s (a; u))).<span class="mi">1</span> v) y.<span class="mi">1</span>
     y.<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf3"><span class="nb">intros</span> [a u]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x},
C (functor_sigma idmap f z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (ef a) (<span class="kr">fun</span> <span class="nv">u</span> : P a =&gt; s (a; u))).<span class="mi">1</span> (f a u) =
s (a; u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst (ef a) _).<span class="mi">2</span> u).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf4"><span class="kn">Definition</span> <span class="nf">extendable_functor_sigma_id</span> <span class="nv">n</span>
           {<span class="nv">A</span>} {<span class="nv">P</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Type</span>} (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q a)
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">a</span>, ExtendableAlong n (f a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (a;v)))
  : ExtendableAlong n (functor_sigma idmap f) C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sigma idmap f) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sigma idmap f) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf6"><span class="nb">revert</span> C ef; simple_induction n n IH; <span class="nb">intros</span> C ef; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; P x},
    C (functor_sigma idmap f a),
ExtensionAlong (functor_sigma idmap f) C g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkf7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkf7"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b,
ExtendableAlong n (functor_sigma idmap f)
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; P x},
    C (functor_sigma idmap f a),
ExtensionAlong (functor_sigma idmap f) C g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkf9"><span class="nb">apply</span> extension_functor_sigma_id.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (f a) (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a; <span class="bp">exact</span> (fst (ef a) , <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkfa">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b,
ExtendableAlong n (functor_sigma idmap f)
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkfb"><span class="nb">intros</span> h k; <span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (f a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))) -&gt;
ExtendableAlong n (functor_sigma idmap f) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; C (a; v))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (f a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q a =&gt; h (a; v) = k (a; v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a; <span class="nb">apply</span> (snd (ef a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_sigma_id</span>
           {<span class="nv">A</span>} {<span class="nv">P</span> <span class="nv">Q</span> : A -&gt; <span class="kt">Type</span>} (<span class="nv">f</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q a)
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : <span class="kr">forall</span> <span class="nv">a</span>, ooExtendableAlong (f a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (a;v)))
  : ooExtendableAlong (functor_sigma idmap f) C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_functor_sigma_id n f C (<span class="kr">fun</span> <span class="nv">a</span> =&gt; ef a n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Unfortunately, the technology of [ExtensionAlong] seems to be insufficient to state a general, funext-free version of [extension_functor_sigma] with a non-identity map on the bases; the hypothesis on the fiberwise map would have to be the existence of an extension in a function-type &quot;up to pointwise equality&quot;.  With wild oo-groupoids we could probably manage it.  For now, we say something a bit hacky. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">HomotopyExtensionAlong</span> {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>}
           (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">p</span> : <span class="kr">forall</span> (<span class="nv">a</span>:A) (<span class="nv">v</span>:Q (f a)), C (f a;v))
  := { q : <span class="kr">forall</span> (<span class="nv">b</span>:B) (<span class="nv">v</span>:Q b), C (b;v) &amp; <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">v</span>, q (f a) v = p a v }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">HomotopyExtendableAlong</span> (<span class="nv">n</span> : nat)
         {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>) : <span class="kt">Type</span>
  := <span class="kr">match</span> n <span class="kr">with</span>
     | <span class="mi">0</span> =&gt; Unit
     | S n =&gt; ((<span class="kr">forall</span> (<span class="nv">p</span> : <span class="kr">forall</span> (<span class="nv">a</span>:A) (<span class="nv">v</span>:Q (f a)), C (f a;v)),
                   HomotopyExtensionAlong f C p) *
               (<span class="kr">forall</span> (<span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">z</span>, C z),
                   HomotopyExtendableAlong n f (<span class="kr">fun</span> <span class="nv">z</span> =&gt; h z = k z)))
     <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooHomotopyExtendableAlong</span>
           {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
  := <span class="kr">forall</span> <span class="nv">n</span>, HomotopyExtendableAlong n f C.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkfc"><span class="kn">Definition</span> <span class="nf">extension_functor_sigma</span>
           {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>}
           (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q (f a))
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : HomotopyExtendableAlong <span class="mi">1</span> f C)
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a</span>, ExtendableAlong <span class="mi">1</span> (g a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (f a ; v)))
           (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">z</span>, C (functor_sigma f g z))
  : ExtensionAlong (functor_sigma f g) C s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sigma f g) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkfd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sigma f g) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chkfe">srefine (_;_).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chkff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chkff"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : {x : _ &amp; P x},
 s0 (functor_sigma f g x) = s x) <span class="nl">?proj1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk100">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk101"><span class="nb">intros</span> [b v]; <span class="nb">revert</span> b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">v</span> : Q b), C (b; v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk102"><span class="nb">refine</span> ((fst ef _).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">v</span> : Q (f a)), C (f a; v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk103"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">v</span> : Q (f a), C (f a; v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk104"><span class="nb">refine</span> ((fst (eg a) _).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : P a, C (f a; g a a0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk105"><span class="nb">intros</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">C (f a; g a u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (s (a;u)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk106">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">s0</span> : <span class="kr">forall</span> <span class="nv">y</span> : {x : _ &amp; Q x}, C y =&gt;
 <span class="kr">forall</span> <span class="nv">x</span> : {x : _ &amp; P x},
 s0 (functor_sigma f g x) = s x)
  (<span class="kr">fun</span> <span class="nv">y</span> : {x : _ &amp; Q x} =&gt;
   (<span class="kr">fun</span> (<span class="nv">b</span> : B) (<span class="nv">v</span> : Q b) =&gt;
    (fst ef
       (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
        (fst (eg a) (<span class="kr">fun</span> <span class="nv">u</span> : P a =&gt; s (a; u))).<span class="mi">1</span>)).<span class="mi">1</span> b
      v) y.<span class="mi">1</span> y.<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk107"><span class="nb">intros</span> [a u]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst ef
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    (fst (eg a) (<span class="kr">fun</span> <span class="nv">u</span> : P a =&gt; s (a; u))).<span class="mi">1</span>)).<span class="mi">1</span> (f a)
  (g a u) = s (a; u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk108"><span class="nb">refine</span> ((fst ef _).<span class="mi">2</span> _ _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong <span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : {x : _ &amp; P x}, C (functor_sigma f g z)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(fst (eg (a; u).<span class="mi">1</span>)
   (<span class="kr">fun</span> <span class="nv">u0</span> : P (a; u).<span class="mi">1</span> =&gt; s ((a; u).<span class="mi">1</span>; u0))).<span class="mi">1</span>
  (g (a; u).<span class="mi">1</span> (a; u).<span class="mi">2</span>) = s (a; u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> ((fst (eg a) _).<span class="mi">2</span> u).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk109"><span class="kn">Definition</span> <span class="nf">extendable_functor_sigma</span> (<span class="nv">n</span> : nat)
           {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>}
           (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q (f a))
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : HomotopyExtendableAlong n f C)
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a</span>, ExtendableAlong n (g a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (f a ; v)))
  : ExtendableAlong n (functor_sigma f g) C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sigma f g) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk10a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sigma f g) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk10b"><span class="nb">revert</span> C ef eg; simple_induction n n IH; <span class="nb">intros</span> C ef eg; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; P x}, C (functor_sigma f g a),
ExtensionAlong (functor_sigma f g) C g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk10c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk10c"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b,
ExtendableAlong n (functor_sigma f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk10d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; P x}, C (functor_sigma f g a),
ExtensionAlong (functor_sigma f g) C g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk10e"><span class="nb">apply</span> extension_functor_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HomotopyExtendableAlong <span class="mi">1</span> f C</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk10f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk110">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HomotopyExtendableAlong <span class="mi">1</span> f C</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ef, <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk111">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong <span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a; <span class="bp">exact</span> (fst (eg a) , <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk112">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b,
ExtendableAlong n (functor_sigma f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk113"><span class="nb">intros</span> h k; <span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HomotopyExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk114" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk114"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; h (f a; v) = k (f a; v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk115">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HomotopyExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">b</span> : {x : _ &amp; Q x} =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd ef h k).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk116">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P a -&gt; Q (f a)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : {x : _ &amp; Q x} -&gt; <span class="kt">Type</span>,
HomotopyExtendableAlong n f C -&gt;
(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ExtendableAlong n (g a)
   (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))) -&gt;
ExtendableAlong n (functor_sigma f g) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>{x : _ &amp; Q x} -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>HomotopyExtendableAlong n.+<span class="mi">1</span> f C</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n.+<span class="mi">1</span> (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; C (f a; v))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : {x : _ &amp; Q x}, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
ExtendableAlong n (g a)
  (<span class="kr">fun</span> <span class="nv">v</span> : Q (f a) =&gt; h (f a; v) = k (f a; v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a; <span class="nb">apply</span> (snd (eg a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_sigma</span>
           {<span class="nv">A</span> <span class="nv">B</span>} {<span class="nv">P</span> : A -&gt; <span class="kt">Type</span>} {<span class="nv">Q</span> : B -&gt; <span class="kt">Type</span>}
           (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span>, P a -&gt; Q (f a))
           (<span class="nv">C</span> : sig Q -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : ooHomotopyExtendableAlong f C)
           (<span class="nv">eg</span> : <span class="kr">forall</span> <span class="nv">a</span>, ooExtendableAlong (g a) (<span class="kr">fun</span> <span class="nv">v</span> =&gt; C (f a ; v)))
  : ooExtendableAlong (functor_sigma f g) C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_functor_sigma n f g C (ef n) (<span class="kr">fun</span> <span class="nv">a</span> =&gt; eg a n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** ** Extendability along [functor_sum] *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk117"><span class="kn">Definition</span> <span class="nf">extension_functor_sum</span>
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : ExtendableAlong <span class="mi">1</span> f (P o inl))
           (<span class="nv">eg</span> : ExtendableAlong <span class="mi">1</span> g (P o inr))
           (<span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">z</span>, P (functor_sum f g z))
  : ExtensionAlong (functor_sum f g) P h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sum f g) P h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk118"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_sum f g) P h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk119">srefine (sum_ind _ _ _ ; sum_ind _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;, P (inl a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk11a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk11a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;, P (inr b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk11b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk11b"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">s</span> : A + B =&gt;
 sum_ind P <span class="nl">?f</span> <span class="nl">?g</span> (functor_sum f g s) = h s) (inl a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk11c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk11c"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">s</span> : A + B =&gt;
 sum_ind P <span class="nl">?f</span> <span class="nl">?g</span> (functor_sum f g s) = h s) (inr b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk11d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;, P (inl a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ef (h o inl)).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk11e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;, P (inr b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst eg (h o inr)).<span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk11f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">s</span> : A + B =&gt;
 sum_ind P (fst ef (h o inl)).<span class="mi">1</span> (fst eg (h o inr)).<span class="mi">1</span>
   (functor_sum f g s) = h s) (inl a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ef (h o inl)).<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk120">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> g (P o inr)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">z</span> : A + B, P (functor_sum f g z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">s</span> : A + B =&gt;
 sum_ind P (fst ef (h o inl)).<span class="mi">1</span> (fst eg (h o inr)).<span class="mi">1</span>
   (functor_sum f g s) = h s) (inr b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst eg (h o inr)).<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk121"><span class="kn">Definition</span> <span class="nf">extendable_functor_sum</span> (<span class="nv">n</span> : nat)
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : ExtendableAlong n f (P o inl))
           (<span class="nv">eg</span> : ExtendableAlong n g (P o inr))
  : ExtendableAlong n (functor_sum f g) P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n g (P o inr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sum f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n g (P o inr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sum f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk123"><span class="nb">revert</span> P ef eg; <span class="nb">induction</span> n <span class="kr">as</span> [|n IH]; <span class="nb">intros</span> P ef eg; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a),
ExtensionAlong (functor_sum f g) P g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk124"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b,
ExtendableAlong n (functor_sum f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : A&#39; + B&#39; =&gt; h b = k b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk125">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a),
ExtensionAlong (functor_sum f g) P g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk126"><span class="nb">intros</span> h; <span class="nb">apply</span> extension_functor_sum.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk127"><hr></label><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk128">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ef, <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk129">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A + B, P (functor_sum f g a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst eg, <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h</span> <span class="nv">k</span> : <span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b,
ExtendableAlong n (functor_sum f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : A&#39; + B&#39; =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12b"><span class="nb">intros</span> h k.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_sum f g)
  (<span class="kr">fun</span> <span class="nv">b</span> : A&#39; + B&#39; =&gt; h b = k b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12c"><span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; h (inl x) = k (inl x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk12d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk12d"><hr></label><div class="goal-conclusion">ExtendableAlong n g
  (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; h (inr x) = k (inr x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n f
  (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; h (inl x) = k (inl x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd ef (h o inl) (k o inl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk12f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x)) -&gt;
ExtendableAlong n g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x)) -&gt;
ExtendableAlong n (functor_sum f g) P</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> f (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; P (inl x))</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> g (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; P (inr x))</span></span></span><br><span><var>h, k</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A&#39; + B&#39;, P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n g
  (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; h (inr x) = k (inr x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd eg (h o inr) (k o inr)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk130"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_sum</span>
           {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">A&#39;</span> <span class="nv">B&#39;</span>} (<span class="nv">f</span> : A -&gt; A&#39;) (<span class="nv">g</span> : B -&gt; B&#39;)
           (<span class="nv">P</span> : A&#39; + B&#39; -&gt; <span class="kt">Type</span>)
           (<span class="nv">ef</span> : ooExtendableAlong f (P o inl))
           (<span class="nv">eg</span> : ooExtendableAlong g (P o inr))
  : ooExtendableAlong (functor_sum f g) P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong g (P o inr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (functor_sum f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk131"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, A', B'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A&#39; + B&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong f (P o inl)</span></span></span><br><span><var>eg</var><span class="hyp-type"><b>: </b><span>ooExtendableAlong g (P o inr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ooExtendableAlong (functor_sum f g) P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> n; <span class="nb">apply</span> extendable_functor_sum; [ <span class="nb">apply</span> ef | <span class="nb">apply</span> eg ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

<span class="sd">(** ** Extendability along [functor_coeq] *)</span>

<span class="sd">(** The path algebra in these proofs is terrible on its own.  But by replacing the maps with cofibrations so that many equalities hold definitionally, and modifying the extensions to also be strict, it becomes manageable with a bit of dependent-path technology. *)</span>

<span class="sd">(** First we show that if we can extend in [C] along [k], and we can extend in appropriate path-types of [C] along [h], then we can extend in [C] along [functor_coeq].  This is where the hard work is. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk132"><span class="kn">Definition</span> <span class="nf">extension_functor_coeq</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
           {<span class="nv">p</span> : k o f == f&#39; o h} {<span class="nv">q</span> : k o g == g&#39; o h}
           {<span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>}
           (<span class="nv">ek</span> : ExtendableAlong <span class="mi">1</span> k (C o coeq))
           (<span class="nv">eh</span> : <span class="kr">forall</span> (<span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x))),
               ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> =&gt; u x = v x))
           (<span class="nv">s</span> : <span class="kr">forall</span> <span class="nv">x</span>, C (functor_coeq h k p q x))
  : ExtensionAlong (functor_coeq h k p q) C s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk133"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** We start by changing the problem to involve [CylCoeq] with cofibrations. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk134"><span class="nb">set</span> (C&#39; := C o pr_cylcoeq p q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk135"><span class="nb">set</span> (s&#39; x := pr_cyl_cylcoeq p q x # s x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk136"><span class="nb">assert</span> (e : ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk137" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk137"><hr></label><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk138"><span class="mi">2</span>:{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk139"><span class="nb">pose</span> (ex := fst (extendable_equiv <span class="mi">1</span> C (pr_cylcoeq p q)) e.<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</span></span></span><br><span><var>ex</var><span><span class="hyp-body"><b>:= </b><span>fst (extendable_equiv <span class="mi">1</span> C (pr_cylcoeq p q)) e.<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ExtensionAlong (pr_cylcoeq p q) C e.<span class="mi">1</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (functor_coeq h k p q) C s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13a"><span class="kr">exists</span> (<span class="nv">ex</span>.<span class="mi">1</span>); <span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</span></span></span><br><span><var>ex</var><span><span class="hyp-body"><b>:= </b><span>fst (extendable_equiv <span class="mi">1</span> C (pr_cylcoeq p q)) e.<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ExtensionAlong (pr_cylcoeq p q) C e.<span class="mi">1</span></span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ex.<span class="mi">1</span> (functor_coeq h k p q x) = s x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13b"><span class="nb">apply</span> (equiv_inj (transport C (pr_cyl_cylcoeq p q x))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</span></span></span><br><span><var>ex</var><span><span class="hyp-body"><b>:= </b><span>fst (extendable_equiv <span class="mi">1</span> C (pr_cylcoeq p q)) e.<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>ExtensionAlong (pr_cylcoeq p q) C e.<span class="mi">1</span></span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport C (pr_cyl_cylcoeq p q x)
  (ex.<span class="mi">1</span> (functor_coeq h k p q x)) =
transport C (pr_cyl_cylcoeq p q x) (s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (apD _ (pr_cyl_cylcoeq p q x) @ ex.<span class="mi">2</span> _ @ e.<span class="mi">2</span> x).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** We have to transfer the hypotheses along those equivalences too.  We do it using [cyl_extendable] so that the resulting extensions compute definitionally.  Note that this means we never need to refer to the [.2] parts of the extensions, since they are identity paths. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13d"><span class="nb">pose</span> (ea1 := <span class="kr">fun</span> <span class="nv">u</span> =&gt; (fst (cyl_extendable&#39; <span class="mi">1</span> _ _ ek) u).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk13e"><span class="nb">assert</span> (eb&#39;&#39; : <span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span>,
             ExtendableAlong <span class="mi">1</span> cyl (<span class="kr">fun</span> <span class="nv">x</span>:Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk13f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k, ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk13f"><hr></label><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk140">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk141"><span class="nb">intros</span> u v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk142">rapply extendable_postcompose&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Cyl h,
<span class="nl">?Goal0</span> b &lt;~&gt; DPath C&#39; (cglue b) (u b) (v b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk143"><hr></label><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> cyl <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk144"><span class="mi">2</span>:{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> cyl <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk145">rapply (cancelL_extendable <span class="mi">1</span> _ cyl pr_cyl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> pr_cyl <span class="nl">?Goal1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk146" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk146"><hr></label><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; pr_cyl (cyl x)) <span class="nl">?Goal1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk147">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> pr_cyl <span class="nl">?Goal1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply extendable_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk148">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; pr_cyl (cyl x)) <span class="nl">?Goal1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (eh (<span class="kr">fun</span> <span class="nv">x</span> =&gt; cglue x # u (cyr x)) (v o cyr)).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk149">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h, C&#39; (coeq (functor_cyl q x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">b0</span> : Cyl h =&gt;
 (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt;
  (<span class="kr">fun</span> <span class="nv">x0</span> : B&#39; =&gt; transport C (cglue x0) (u (cyr x0)))
    x = (v o cyr) x) (pr_cyl b0)) b &lt;~&gt;
DPath C&#39; (cglue b) (u b) (v b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk14a"><span class="nb">intros</span> x; <span class="nb">subst</span> C&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">b</span> : Cyl h =&gt;
 (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt;
  (<span class="kr">fun</span> <span class="nv">x0</span> : B&#39; =&gt; transport C (cglue x0) (u (cyr x0)))
    x = (v o cyr) x) (pr_cyl b)) x &lt;~&gt;
DPath (C o pr_cylcoeq p q) (cglue x) (u x) (v x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk14b"><span class="nb">refine</span> ((dp_compose (pr_cylcoeq p q) C _)^-<span class="mi">1</span> oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport C (cglue (pr_cyl x)) (u (cyr (pr_cyl x))) =
v (cyr (pr_cyl x)) &lt;~&gt;
DPath C (ap (pr_cylcoeq p q) (cglue x)) (u x) (v x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk14c"><span class="nb">symmetry</span>; srapply equiv_ds_fill_lr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pr_cylcoeq p q (coeq (functor_cyl p x)) =
coeq (f&#39; (pr_cyl x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk14d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk14d"><hr></label><div class="goal-conclusion">pr_cylcoeq p q (coeq (functor_cyl q x)) =
coeq (g&#39; (pr_cyl x))</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk14e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk14e"><hr></label><div class="goal-conclusion">PathSquare.PathSquare (ap (pr_cylcoeq p q) (cglue x))
  (cglue (pr_cyl x)) <span class="nl">?p0x</span> 
  <span class="nl">?p1x</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk14f"><hr></label><div class="goal-conclusion">DPath C <span class="nl">?p0x</span> (u x) (u (cyr (pr_cyl x)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk150" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk150"><hr></label><div class="goal-conclusion">DPath C <span class="nl">?p1x</span> (v x) (v (cyr (pr_cyl x)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk151"><span class="mi">3</span>:rapply ap_pr_cylcoeq_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath C (ap coeq (pr_functor_cyl p x)) 
  (u x) (u (cyr (pr_cyl x)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk152" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk152"><hr></label><div class="goal-conclusion">DPath C (ap coeq (pr_functor_cyl q x)) 
  (v x) (v (cyr (pr_cyl x)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk153"><span class="kp">all</span>:srapply (transport (<span class="kr">fun</span> <span class="nv">r</span> =&gt; DPath C r _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pr_cylcoeq p q (coeq (functor_cyl p x)) =
coeq (f&#39; (pr_cyl x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk154" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk154"><hr></label><div class="goal-conclusion"><span class="nl">?x</span> = ap coeq (pr_functor_cyl p x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk155" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk155"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span>
   <span class="nv">r</span> : pr_cylcoeq p q (coeq (functor_cyl p x)) =
       coeq (f&#39; (pr_cyl x)) =&gt;
 DPath C r (u x) (u (cyr (pr_cyl x)))) 
  <span class="nl">?x</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk156" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk156"><hr></label><div class="goal-conclusion">pr_cylcoeq p q (coeq (functor_cyl q x)) =
coeq (g&#39; (pr_cyl x))</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk157" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk157"><hr></label><div class="goal-conclusion"><span class="nl">?x0</span> = ap coeq (pr_functor_cyl q x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk158" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk158"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span>
   <span class="nv">r</span> : pr_cylcoeq p q (coeq (functor_cyl q x)) =
       coeq (g&#39; (pr_cyl x)) =&gt;
 DPath C r (v x) (v (cyr (pr_cyl x)))) 
  <span class="nl">?x0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk159"><span class="mi">3</span>:<span class="bp">exact</span> (dp_inverse (dp_compose _ C _ (apD u (eissect pr_cyl x) : DPath _ _ _ _))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
    pr_cylcoeq p q (coeq (functor_cyl p x)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl p x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk15a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk15a"><hr></label><div class="goal-conclusion">pr_cylcoeq p q (coeq (functor_cyl q x)) =
coeq (g&#39; (pr_cyl x))</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk15b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk15b"><hr></label><div class="goal-conclusion"><span class="nl">?x</span> = ap coeq (pr_functor_cyl q x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk15c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk15c"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span>
   <span class="nv">r</span> : pr_cylcoeq p q (coeq (functor_cyl q x)) =
       coeq (g&#39; (pr_cyl x)) =&gt;
 DPath C r (v x) (v (cyr (pr_cyl x)))) 
  <span class="nl">?x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk15d"><span class="mi">4</span>:<span class="bp">exact</span> (dp_inverse (dp_compose _ C _ (apD v (eissect pr_cyl x) : DPath _ _ _ _))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
    pr_cylcoeq p q (coeq (functor_cyl p x)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl p x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk15e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk15e"><hr></label><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
    pr_cylcoeq p q (coeq (functor_cyl q x)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl q x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk15f"><span class="mi">1</span>:<span class="nb">change</span> (<span class="kr">fun</span> <span class="nv">y</span> =&gt; pr_cylcoeq p q (coeq (functor_cyl p y)))
      <span class="kr">with</span> (<span class="kr">fun</span> <span class="nv">y</span> =&gt; coeq (f := f&#39;) (g := g&#39;) (pr_cyl (functor_cyl p y))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt; coeq (pr_cyl (functor_cyl p y)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl p x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk160" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk160"><hr></label><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
    pr_cylcoeq p q (coeq (functor_cyl q x)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl q x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk161"><span class="mi">2</span>:<span class="nb">change</span> (<span class="kr">fun</span> <span class="nv">y</span> =&gt; pr_cylcoeq p q (coeq (functor_cyl q y)))
      <span class="kr">with</span> (<span class="kr">fun</span> <span class="nv">y</span> =&gt; coeq (f := f&#39;) (g := g&#39;) (pr_cyl (functor_cyl q y))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt; coeq (pr_cyl (functor_cyl p y)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl p x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk162"><hr></label><div class="goal-conclusion">(ap (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt; coeq (pr_cyl (functor_cyl q y)))
   (eissect pr_cyl x))^ = 
ap coeq (pr_functor_cyl q x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk163"><span class="kp">all</span>:<span class="nb">refine</span> ((ap_V _ (eissect pr_cyl x))^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt; coeq (pr_cyl (functor_cyl p y)))
  (eissect pr_cyl x)^ = ap coeq (pr_functor_cyl p x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk164" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl p x))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
(C o pr_cylcoeq p q) (coeq (functor_cyl q x))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Cyl h</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk164"><hr></label><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt; coeq (pr_cyl (functor_cyl q y)))
  (eissect pr_cyl x)^ = ap coeq (pr_functor_cyl q x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">exact</span> (ap_compose (<span class="kr">fun</span> <span class="nv">x</span> =&gt; pr_cyl (functor_cyl _ x)) coeq _).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk165">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk166"><span class="nb">pose</span> (eb1 := <span class="kr">fun</span> <span class="nv">u</span> <span class="nv">v</span> <span class="nv">w</span> =&gt; (fst (cyl_extendable _ _ _ (eb&#39;&#39; u v)) w).<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtensionAlong (cyl_cylcoeq p q) C&#39; s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Now we construct an extension using Coeq-induction, and prove that it *is* an extension also using Coeq-induction. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk167">srefine (_;_); srapply Coeq_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : Cyl k, C&#39; (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk168" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk168"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Cyl h,
transport C&#39; (cglue b) (<span class="nl">?coeq&#39;</span> (functor_cyl p b)) =
<span class="nl">?coeq&#39;</span> (functor_cyl q b)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk169" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk169"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
 Coeq_ind C&#39; <span class="nl">?coeq&#39;</span> <span class="nl">?cglue&#39;</span> (cyl_cylcoeq p q w) = s&#39; w)
  (coeq a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="extensions-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><label class="goal-separator" for="extensions-v-chk16a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_ind C&#39; <span class="nl">?coeq&#39;</span> <span class="nl">?cglue&#39;</span> (cyl_cylcoeq p q w) =
   s&#39; w) (cglue b) (<span class="nl">?coeq&#39;0</span> (f b)) = 
<span class="nl">?coeq&#39;0</span> (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : Cyl k, C&#39; (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ea1 (s&#39; o coeq)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : Cyl h,
transport C&#39; (cglue b)
  (ea1 (s&#39; o coeq) (functor_cyl p b)) =
ea1 (s&#39; o coeq) (functor_cyl q b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16d"><span class="nb">apply</span> eb1; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath C&#39; (cglue (cyl b))
  (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
     (functor_cyl p (cyl b)))
  (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
     (functor_cyl q (cyl b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16e">rapply (dp_compose&#39; _ _ (ap_cyl_cylcoeq_cglue p q b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; C&#39; (cyl_cylcoeq p q x))
  (cglue b)
  (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
     (functor_cyl p (cyl b)))
  (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
     (functor_cyl q (cyl b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (apD s&#39; (cglue b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk16f">+ <span class="sd">(** Since we&#39;re using cofibrations, this holds definitionally. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
 Coeq_ind C&#39; (ea1 (s&#39; o coeq))
   (eb1
      (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
       ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
         (functor_cyl p y))
      (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
       ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
         (functor_cyl q y))
      (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
       dp_compose&#39; (cyl_cylcoeq p q) C&#39;
         (ap_cyl_cylcoeq_cglue p q b)
         (apD s&#39; (cglue b)))) 
   (cyl_cylcoeq p q w) = 
 s&#39; w) (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> a; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk170">+ <span class="sd">(** And this one is much simpler than it would be otherwise. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_ind C&#39; (ea1 (s&#39; o coeq))
     (eb1
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl p y))
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl q y))
        (<span class="kr">fun</span> <span class="nv">b0</span> : B =&gt;
         dp_compose&#39; (cyl_cylcoeq p q) C&#39;
           (ap_cyl_cylcoeq_cglue p q b0)
           (apD s&#39; (cglue b0)))) 
     (cyl_cylcoeq p q w) = 
   s&#39; w) (cglue b) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (f b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk171"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_ind C&#39; (ea1 (s&#39; o coeq))
     (eb1
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl p y))
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl q y))
        (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
         dp_compose&#39; (cyl_cylcoeq p q) C&#39;
           (ap_cyl_cylcoeq_cglue p q b)
           (apD s&#39; (cglue b)))) 
     (cyl_cylcoeq p q w) = 
   s&#39; w) (cglue b) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (f b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk172"><span class="nb">apply</span> ds_dp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPathSquare
  (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; C&#39; (cyl_cylcoeq p q x))
  (PathSquare.sq_refl_h (cglue b))
  (apD
     (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
      Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0)))
        (eb1
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl p y))
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl q y))
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
            dp_compose&#39; (cyl_cylcoeq p q) C&#39;
              (ap_cyl_cylcoeq_cglue p q b)
              (apD s&#39; (cglue b)))) 
        (cyl_cylcoeq p q x)) 
     (cglue b)) (apD s&#39; (cglue b)) <span class="mi">1</span> <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk173">rapply ds_G1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">DPath
  (<span class="kr">fun</span> <span class="nv">x</span> : coeq (f b) = coeq (g b) =&gt;
   DPath
     (<span class="kr">fun</span> <span class="nv">x0</span> : Coeq f g =&gt; C&#39; (cyl_cylcoeq p q x0)) x
     (Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0)))
        (eb1
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl p y))
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl q y))
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
            dp_compose&#39; (cyl_cylcoeq p q) C&#39;
              (ap_cyl_cylcoeq_cglue p q b)
              (apD s&#39; (cglue b))))
        (cyl_cylcoeq p q (coeq (f b))))
     (Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0)))
        (eb1
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl p y))
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl q y))
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
            dp_compose&#39; (cyl_cylcoeq p q) C&#39;
              (ap_cyl_cylcoeq_cglue p q b)
              (apD s&#39; (cglue b))))
        (cyl_cylcoeq p q (coeq (g b))))) <span class="mi">1</span>
  (apD
     (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
      Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0)))
        (eb1
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl p y))
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; s&#39; (coeq x0))
              (functor_cyl q y))
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
            dp_compose&#39; (cyl_cylcoeq p q) C&#39;
              (ap_cyl_cylcoeq_cglue p q b)
              (apD s&#39; (cglue b)))) 
        (cyl_cylcoeq p q x)) 
     (cglue b)) (apD s&#39; (cglue b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk174"><span class="nb">refine</span> (dp_apD_compose&#39; _ _ (ap_cyl_cylcoeq_cglue p q b) _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(dp_compose&#39; (cyl_cylcoeq p q) C&#39;
   (ap_cyl_cylcoeq_cglue p q b))^-<span class="mi">1</span>
  (apD
     (Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x)))
        (eb1
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
              (functor_cyl p y))
           (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
            ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
              (functor_cyl q y))
           (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
            dp_compose&#39; (cyl_cylcoeq p q) C&#39;
              (ap_cyl_cylcoeq_cglue p q b)
              (apD s&#39; (cglue b))))) 
     (cglue (cyl b))) = apD s&#39; (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk175"><span class="nb">apply</span> moveR_equiv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong <span class="mi">1</span> k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, C (functor_coeq h k p q x)</span></span></span><br><span><var>C'</var><span><span class="hyp-body"><b>:= </b><span>C o pr_cylcoeq p q</span></span><span class="hyp-type"><b>: </b><span>CylCoeq p q -&gt; <span class="kt">Type</span></span></span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
transport C (pr_cyl_cylcoeq p q x) (s x)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g,
C (pr_cylcoeq p q (cyl_cylcoeq p q x))</span></span></span></span><br><span><var>ea1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  <span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">a</span> : A,
      ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
        (cyl a) =&gt;
(fst
   (cyl_extendable&#39; <span class="mi">1</span> k
      (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) ek) u).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span>(<span class="kr">forall</span> <span class="nv">a</span> : A,
 ((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k)
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl k,
((<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) o pr_cyl&#39; k) y</span></span></span></span><br><span><var>eb''</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
ExtendableAlong <span class="mi">1</span> cyl
  (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
   DPath C&#39; (cglue x) (u x) (v x))</span></span></span><br><span><var>eb1</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">fun</span>
  (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl p x)))
  (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
       C&#39; (coeq (functor_cyl q x)))
  (<span class="nv">w</span> : <span class="kr">forall</span> <span class="nv">a</span> : B,
       (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
        DPath C&#39; (cglue x) (u x) (v x)) 
         (cyl a)) =&gt;
(fst
   (cyl_extendable <span class="mi">1</span> h
      (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
       DPath C&#39; (cglue x) (u x) (v x)) 
      (eb&#39;&#39; u v)) w).<span class="mi">1</span></span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl p x)))
(<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : Cyl h,
     C&#39; (coeq (functor_cyl q x))),
(<span class="kr">forall</span> <span class="nv">a</span> : B,
 (<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt;
  DPath C&#39; (cglue x) (u x) (v x)) 
   (cyl a)) -&gt;
<span class="kr">forall</span> <span class="nv">y</span> : Cyl h,
(<span class="kr">fun</span> <span class="nv">x</span> : Cyl h =&gt; DPath C&#39; (cglue x) (u x) (v x))
  y</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apD
  (Coeq_ind C&#39; (ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x)))
     (eb1
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl p y))
        (<span class="kr">fun</span> <span class="nv">y</span> : Cyl h =&gt;
         ea1 (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; s&#39; (coeq x))
           (functor_cyl q y))
        (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
         dp_compose&#39; (cyl_cylcoeq p q) C&#39;
           (ap_cyl_cylcoeq_cglue p q b)
           (apD s&#39; (cglue b))))) 
  (cglue (cyl b)) =
dp_compose&#39; (cyl_cylcoeq p q) C&#39;
  (ap_cyl_cylcoeq_cglue p q b) 
  (apD s&#39; (cglue b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">napply Coeq_ind_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Now we can easily iterate into higher extendability. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk176"><span class="kn">Definition</span> <span class="nf">extendable_functor_coeq</span> (<span class="nv">n</span> : nat)
           {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
           {<span class="nv">p</span> : k o f == f&#39; o h} {<span class="nv">q</span> : k o g == g&#39; o h}
           {<span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>}
           (<span class="nv">ek</span> : ExtendableAlong n k (C o coeq))
           (<span class="nv">eh</span> : <span class="kr">forall</span> (<span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x))),
               ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> =&gt; u x = v x))
  : ExtendableAlong n (functor_coeq h k p q) C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_coeq h k p q) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk177"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_coeq h k p q) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk178"><span class="nb">revert</span> C ek eh; simple_induction n n IH; <span class="nb">intros</span> C ek eh; [ <span class="bp">exact</span> tt | <span class="nb">split</span> ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : Coeq f g, C (functor_coeq h k p q a),
ExtensionAlong (functor_coeq h k p q) C g0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk179" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk179"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b,
ExtendableAlong n (functor_coeq h k p q)
  (<span class="kr">fun</span> <span class="nv">b</span> : Coeq f&#39; g&#39; =&gt; h0 b = k0 b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">g0</span> : <span class="kr">forall</span> <span class="nv">a</span> : Coeq f g, C (functor_coeq h k p q a),
ExtensionAlong (functor_coeq h k p q) C g0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17b"><span class="nb">apply</span> extension_functor_coeq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk17c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk17c"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong <span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fst ek , <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong <span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">v</span> =&gt; (fst (eh u v) , <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk17f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">h0</span> <span class="nv">k0</span> : <span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b,
ExtendableAlong n (functor_coeq h k p q)
  (<span class="kr">fun</span> <span class="nv">b</span> : Coeq f&#39; g&#39; =&gt; h0 b = k0 b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk180"><span class="nb">intros</span> u v; <span class="nb">apply</span> IH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n k
  (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; u (coeq x) = v (coeq x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk181" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk181"><hr></label><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">u0</span>
 <span class="nv">v0</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, u (coeq (g&#39; x)) = v (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u0 x = v0 x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk182">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n k
  (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; u (coeq x) = v (coeq x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd ek (u o coeq) (v o coeq)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk183">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>,
ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x)) -&gt;
(<span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
 ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)) -&gt;
ExtendableAlong n (functor_coeq h k p q) C</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n.+<span class="mi">1</span> h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</span></span></span><br><span><var>u, v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : Coeq f&#39; g&#39;, C b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">u0</span>
 <span class="nv">v0</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, u (coeq (g&#39; x)) = v (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u0 x = v0 x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd (eh (u o coeq o g&#39;) (v o coeq o g&#39;))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_coeq</span>
           {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
           {<span class="nv">p</span> : k o f == f&#39; o h} {<span class="nv">q</span> : k o g == g&#39; o h}
           {<span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>}
           (<span class="nv">ek</span> : ooExtendableAlong k (C o coeq))
           (<span class="nv">eh</span> : <span class="kr">forall</span> (<span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x))),
               ooExtendableAlong h (<span class="kr">fun</span> <span class="nv">x</span> =&gt; u x = v x))
  : ooExtendableAlong (functor_coeq h k p q) C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_functor_coeq n (ek n) (<span class="kr">fun</span> <span class="nv">u</span> <span class="nv">v</span> =&gt; eh u v n).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Since extending at level [n.+1] into [C] implies extending at level [n] into path-types of [C], we get the following corollary. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk184"><span class="kn">Definition</span> <span class="nf">extendable_functor_coeq&#39;</span> (<span class="nv">n</span> : nat)
           {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
           {<span class="nv">p</span> : k o f == f&#39; o h} {<span class="nv">q</span> : k o g == g&#39; o h}
           {<span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>}
           (<span class="nv">ek</span> : ExtendableAlong n k (C o coeq))
           (<span class="nv">eh</span> : ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;))
  : ExtendableAlong n (functor_coeq h k p q) C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_coeq h k p q) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk185"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n (functor_coeq h k p q) C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk186"><span class="nb">apply</span> extendable_functor_coeq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ExtendableAlong n k (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; C (coeq x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="extensions-v-chk187" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;)</span></span></span><br></div><label class="goal-separator" for="extensions-v-chk187"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="extensions-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="extensions-v-chk188"><span class="mi">1</span>:<span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ek</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n k (C o coeq)</span></span></span><br><span><var>eh</var><span class="hyp-type"><b>: </b><span>ExtendableAlong n.+<span class="mi">1</span> h (C o coeq o g&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">u</span> <span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">x</span> : B&#39;, C (coeq (g&#39; x)),
ExtendableAlong n h (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; u x = v x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (snd eh).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ooextendable_functor_coeq&#39;</span>
           {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           {<span class="nv">h</span> : B -&gt; B&#39;} {<span class="nv">k</span> : A -&gt; A&#39;}
           {<span class="nv">p</span> : k o f == f&#39; o h} {<span class="nv">q</span> : k o g == g&#39; o h}
           {<span class="nv">C</span> : Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>}
           (<span class="nv">ek</span> : ooExtendableAlong k (C o coeq))
           (<span class="nv">eh</span> : ooExtendableAlong h (C o coeq o g&#39;))
  : ooExtendableAlong (functor_coeq h k p q) C
  := <span class="kr">fun</span> <span class="nv">n</span> =&gt; extendable_functor_coeq&#39; n (ek n) (eh n.+<span class="mi">1</span>).</span></span></pre>
</div>
</div></body>
</html>
