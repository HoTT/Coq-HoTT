<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Localization.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Trunc Basics.Tactics Colimits.Quotient
  abstract_algebra Rings.CRing Truncations.Core Nat.Core
  Rings.QuotientRing WildCat.Core WildCat.Equiv.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> mc_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Localization of commutative rings *)</span>

<span class="sd">(** Localization is a way to make elements in a commutative ring invertible by adding inverses, in the most minimal way possible. It generalizes the familiar operation of a field of fractions. *)</span>

<span class="sd">(** ** Multiplicative subsets *)</span>

<span class="sd">(** A multiplicative subset is formally a submonoid of the multiplicative monoid of a ring. Essentially it is a subset closed under finite products. *)</span>

<span class="sd">(** *** Definition *)</span>

<span class="sd">(** Multiplicative subsets of a ring [R] consist of: *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsMultiplicativeSubset</span> {<span class="nv">R</span> : CRing} (<span class="nv">S</span> : R -&gt; <span class="kt">Type</span>) : <span class="kt">Type</span> := {
  <span class="sd">(** Contains one *)</span>
  mss_one : S <span class="mi">1</span> ;
  <span class="sd">(** Closed under multiplication *)</span>
  mss_mult : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, S x -&gt; S y -&gt; S (x * y) ;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> mss_one {R _ _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> mss_mult {R _ _ _ _}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** *** Examples *)</span>

<span class="sd">(** The multiplicative subset of powers of a ring element. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1"><span class="kn">Instance</span> <span class="nf">ismultiplicative_powers</span> (<span class="nv">R</span> : CRing) (<span class="nv">x</span> : R)
  : IsMultiplicativeSubset (<span class="kr">fun</span> <span class="nv">r</span> =&gt; <span class="kr">exists</span> <span class="nv">n</span>, rng_power x n = r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMultiplicativeSubset
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt; {n : nat &amp; rng_power x n = r})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMultiplicativeSubset
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt; {n : nat &amp; rng_power x n = r})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3">srapply Build_IsMultiplicativeSubset; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{n : nat &amp; rng_power x n = <span class="mi">1</span>}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><label class="goal-separator" for="localization-v-chk4"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : R,
{n : nat &amp; rng_power x n = x0} -&gt;
{n : nat &amp; rng_power x n = y} -&gt;
{n : nat &amp; rng_power x n = x0 * y}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5"><span class="mi">1</span>: <span class="bp">by</span> <span class="kr">exists</span> <span class="mi">0</span>%nat.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x0</span> <span class="nv">y</span> : R,
{n : nat &amp; rng_power x n = x0} -&gt;
{n : nat &amp; rng_power x n = y} -&gt;
{n : nat &amp; rng_power x n = x0 * y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6"><span class="nb">intros</span> a b np mq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x, a, b</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>np</var><span class="hyp-type"><b>: </b><span>{n : nat &amp; rng_power x n = a}</span></span></span><br><span><var>mq</var><span class="hyp-type"><b>: </b><span>{n : nat &amp; rng_power x n = b}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{n : nat &amp; rng_power x n = a * b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7"><span class="nb">destruct</span> np <span class="kr">as</span> [n p], mq <span class="kr">as</span> [m q].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x, a, b</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>rng_power x n = a</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>rng_power x m = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{n : nat &amp; rng_power x n = a * b}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8"><span class="kr">exists</span> (<span class="nv">n</span> + m)%nat.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x, a, b</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>rng_power x n = a</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>rng_power x m = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_power x (n + m) = a * b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9">lhs_V napply rng_power_mult_law.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>x, a, b</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>rng_power x n = a</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>rng_power x m = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_power x n * rng_power x m = a * b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Invertible elements of a ring form a multiplicative subset. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">ismultiplicative_isinvertible</span> (<span class="nv">R</span> : CRing)
  : IsMultiplicativeSubset (@IsInvertible R) := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** TODO: Property of being a localization. *)</span>

<span class="sd">(** ** Construction of localization *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Localization</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We now construct the localization of a ring at a multiplicative subset as the following HIT:</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">  HIT (Quotient fraction_eq) (R : CRing) (S : R -&gt; Type)</span>
<span class="sd">    `{IsMultiplicativeSubset R} :=</span>
<span class="sd">  | loc_frac (n d : R) (p : S d) : Localization R S</span>
<span class="sd">  | loc_frac_eq (n1 d1 n2 d2 : R) (p1 : S d1) (p2 : S d2)</span>
<span class="sd">      (x : R) (q : S x) (r : x * (d2 * n1 - n2 * d1) = 0)</span>
<span class="sd">      : loc_frac n1 d1 p1 = loc_frac n2 d2 p2</span>
<span class="sd">  .</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">  along with the condition that this HIT be a set.</span>

<span class="sd">  We will implement this HIT by writing it as a set quotient. From now on, [loc_frac] will be implemented as [class_of fraction_eq] and [loc_frac_eq] will be implemented as [qglue]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">R</span> : CRing) (<span class="nv">S</span> : R -&gt; <span class="kt">Type</span>) `{!IsMultiplicativeSubset S}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Construction of underlying Localization type *)</span>

  <span class="sd">(** The base type will be the type of fractions with respect to a multiplicative subset. This consists of pairs of elements of a ring [R] where the [denominator] is in the multiplicative subset [S]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">Fraction</span> := {
    numerator : R ;
    denominator : R ;
    in_mult_subset_denominator : S denominator ;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We consider two fractions to be equal if we can rearrange the fractions as products and ask for equality up to some scaling factor from the multiplicative subset [S]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka"><span class="kn">Definition</span> <span class="nf">fraction_eq</span> : Relation Fraction.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Relation Fraction</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Relation Fraction</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkc"><span class="nb">intros</span> [n1 d1 ?] [n2 d2 ?].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>n1, d1</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>in_mult_subset_denominator0</var><span class="hyp-type"><b>: </b><span>S d1</span></span></span><br><span><var>n2, d2</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>in_mult_subset_denominator1</var><span class="hyp-type"><b>: </b><span>S d2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd"><span class="nb">refine</span> (<span class="kr">exists</span> (<span class="nv">x</span> : R), S x /\ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>n1, d1</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>in_mult_subset_denominator0</var><span class="hyp-type"><b>: </b><span>S d1</span></span></span><br><span><var>n2, d2</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>in_mult_subset_denominator1</var><span class="hyp-type"><b>: </b><span>S d2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (x * n1 * d2 = x * n2 * d1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** It is convenient to produce elements of this relation specialized to when the scaling factor is [1]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke"><span class="kn">Definition</span> <span class="nf">fraction_eq_simple</span> <span class="nv">f1</span> <span class="nv">f2</span>
    (<span class="nv">p</span> : numerator f1 * denominator f2 = numerator f2 * denominator f1)
    : fraction_eq f1 f2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq f1 f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq f1 f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10"><span class="kr">exists</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(S <span class="mi">1</span> *
 (mult (mult <span class="mi">1</span> (numerator f1)) (denominator f2) =
  mult (mult <span class="mi">1</span> (numerator f2)) (denominator f1)))%type</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk11"><span class="nb">refine</span> (mss_one, _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * numerator f1 * denominator f2 =
<span class="mi">1</span> * numerator f2 * denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12">lhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * (numerator f1 * denominator f2) =
<span class="mi">1</span> * numerator f2 * denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>numerator f1 * denominator f2 =
numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * (numerator f1 * denominator f2) =
<span class="mi">1</span> * (numerator f2 * denominator f1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap (<span class="mi">1</span> *.) p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Fraction equality is a reflexive relation. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14"><span class="kn">Definition</span> <span class="nf">fraction_eq_refl</span> <span class="nv">f1</span> : fraction_eq f1 f1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq f1 f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq f1 f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk16"><span class="nb">apply</span> fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator f1 * denominator f1 =
numerator f1 * denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Elements of [R] can be considered fractions. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">frac_in</span> : R -&gt; Fraction
    := <span class="kr">fun</span> <span class="nv">r</span> =&gt; Build_Fraction r <span class="mi">1</span> mss_one.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Now that we have defined the HIT as above, we can define the ring structure. *)</span>

  <span class="sd">(** *** Addition operation *)</span>

  <span class="sd">(** Fraction addition is the usual addition of fractions. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">frac_add</span> : Fraction -&gt; Fraction -&gt; Fraction :=
    <span class="kr">fun</span> &#39;(Build_Fraction n1 d1 p1) &#39;(Build_Fraction n2 d2 p2)
      =&gt; Build_Fraction (n1 * d2 + n2 * d1) (d1 * d2) (mss_mult p1 p2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Fraction addition is well-defined up to equality of fractions. *)</span>

  <span class="sd">(** It is easier to prove well-definedness as a function of both arguments at once. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk17"><span class="kn">Definition</span> <span class="nf">frac_add_wd</span> (<span class="nv">f1</span> <span class="nv">f1&#39;</span> <span class="nv">f2</span> <span class="nv">f2&#39;</span> : Fraction)
    (<span class="nv">p</span> : fraction_eq f1 f1&#39;) (<span class="nv">q</span> : fraction_eq f2 f2&#39;)
    : fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk18"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk19"><span class="nb">destruct</span> f1 <span class="kr">as</span> [a s ss], f1&#39; <span class="kr">as</span> [a&#39; s&#39; ss&#39;],
      f2 <span class="kr">as</span> [b t st], f2&#39; <span class="kr">as</span> [b&#39; t&#39; st&#39;],
      p <span class="kr">as</span> [x [sx p]], q <span class="kr">as</span> [y [sy q]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq
  (frac_add
     {|
       numerator := a;
       denominator := s;
       in_mult_subset_denominator := ss
     |}
     {|
       numerator := b;
       denominator := t;
       in_mult_subset_denominator := st
     |})
  (frac_add
     {|
       numerator := a&#39;;
       denominator := s&#39;;
       in_mult_subset_denominator := ss&#39;
     |}
     {|
       numerator := b&#39;;
       denominator := t&#39;;
       in_mult_subset_denominator := st&#39;
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1a"><span class="nb">refine</span> (x * y ; (mss_mult sx sy, _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y *
numerator
  (frac_add
     {|
       numerator := a;
       denominator := s;
       in_mult_subset_denominator := ss
     |}
     {|
       numerator := b;
       denominator := t;
       in_mult_subset_denominator := st
     |}) *
denominator
  (frac_add
     {|
       numerator := a&#39;;
       denominator := s&#39;;
       in_mult_subset_denominator := ss&#39;
     |}
     {|
       numerator := b&#39;;
       denominator := t&#39;;
       in_mult_subset_denominator := st&#39;
     |}) =
x * y *
numerator
  (frac_add
     {|
       numerator := a&#39;;
       denominator := s&#39;;
       in_mult_subset_denominator := ss&#39;
     |}
     {|
       numerator := b&#39;;
       denominator := t&#39;;
       in_mult_subset_denominator := st&#39;
     |}) *
denominator
  (frac_add
     {|
       numerator := a;
       denominator := s;
       in_mult_subset_denominator := ss
     |}
     {|
       numerator := b;
       denominator := t;
       in_mult_subset_denominator := st
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (a * t + b * s) * (s&#39; * t&#39;) =
x * y * (a&#39; * t&#39; + b&#39; * s&#39;) * (s * t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1c"><span class="nb">rewrite</span> <span class="mi">2</span> rng_dist_l, <span class="mi">2</span> rng_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (a * t) * (s&#39; * t&#39;) +
x * y * (b * s) * (s&#39; * t&#39;) =
x * y * (a&#39; * t&#39;) * (s * t) +
x * y * (b&#39; * s&#39;) * (s * t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1d">snapply (ap011 (+)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (a * t) * (s&#39; * t&#39;) =
x * y * (a&#39; * t&#39;) * (s * t)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><label class="goal-separator" for="localization-v-chk1e"><hr></label><div class="goal-conclusion">x * y * (b * s) * (s&#39; * t&#39;) =
x * y * (b&#39; * s&#39;) * (s * t)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (a * t) * (s&#39; * t&#39;) =
x * y * (a&#39; * t&#39;) * (s * t)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk20"><span class="nb">rewrite</span> <span class="mi">4</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * a * t * s&#39; * t&#39; = x * y * a&#39; * t&#39; * s * t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk21"><span class="nb">rewrite</span> <span class="mi">8</span> (rng_mult_permute_2_3 _ y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * a * t * s&#39; * t&#39; * y = x * a&#39; * t&#39; * s * t * y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk22"><span class="nb">apply</span> (ap (.* y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * a * t * s&#39; * t&#39; = x * a&#39; * t&#39; * s * t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk23"><span class="nb">rewrite</span> <span class="mi">2</span> (rng_mult_permute_2_3 _ t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * a * s&#39; * t&#39; * t = x * a&#39; * t&#39; * s * t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk24"><span class="nb">apply</span> (ap (.* t)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * a * s&#39; * t&#39; = x * a&#39; * t&#39; * s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk25"><span class="nb">rewrite</span> (rng_mult_permute_2_3 _ t&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * a * s&#39; * t&#39; = x * a&#39; * s * t&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * y * (b * s) * (s&#39; * t&#39;) =
x * y * (b&#39; * s&#39;) * (s * t)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk27"><span class="kp">do</span> <span class="mi">2</span> lhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * (b * s * (s&#39; * t&#39;))) =
x * y * (b&#39; * s&#39;) * (s * t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk28"><span class="kp">do</span> <span class="mi">2</span> rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (y * (b * s * (s&#39; * t&#39;))) =
x * (y * (b&#39; * s&#39; * (s * t)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk29">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * (b * s * (s&#39; * t&#39;)) = y * (b&#39; * s&#39; * (s * t))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2a"><span class="nb">rewrite</span> <span class="mi">6</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * b * s * s&#39; * t&#39; = y * b&#39; * s&#39; * s * t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2b"><span class="nb">rewrite</span> <span class="mi">2</span> (rng_mult_permute_2_3 _ _ t&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * b * t&#39; * s * s&#39; = y * b&#39; * s&#39; * s * t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2c"><span class="nb">rewrite</span> <span class="mi">2</span> (rng_mult_permute_2_3 _ _ t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * b * t&#39; * s * s&#39; = y * b&#39; * t * s&#39; * s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2d">lhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * b * t&#39; * (s * s&#39;) = y * b&#39; * t * s&#39; * s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2e">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>a, s</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss</var><span class="hyp-type"><b>: </b><span>S s</span></span></span><br><span><var>a', s'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>ss'</var><span class="hyp-type"><b>: </b><span>S s&#39;</span></span></span><br><span><var>b, t</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st</var><span class="hyp-type"><b>: </b><span>S t</span></span></span><br><span><var>b', t'</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>st'</var><span class="hyp-type"><b>: </b><span>S t&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * a * s&#39; = x * a&#39; * s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sy</var><span class="hyp-type"><b>: </b><span>S y</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>y * b * t&#39; = y * b&#39; * t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y * b * t&#39; * (s * s&#39;) = y * b&#39; * t * (s&#39; * s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap; <span class="nb">apply</span> rng_mult_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk2f"><span class="kn">Definition</span> <span class="nf">frac_add_wd_l</span> (<span class="nv">f1</span> <span class="nv">f1&#39;</span> <span class="nv">f2</span> : Fraction) (<span class="nv">p</span> : fraction_eq f1 f1&#39;)
    : fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk31"><span class="nb">pose</span> (fraction_eq_refl f2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span>fraction_eq_refl f2</span></span><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> frac_add_wd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk32"><span class="kn">Definition</span> <span class="nf">frac_add_wd_r</span> (<span class="nv">f1</span> <span class="nv">f2</span> <span class="nv">f2&#39;</span> : Fraction) (<span class="nv">p</span> : fraction_eq f2 f2&#39;)
    : fraction_eq (frac_add f1 f2) (frac_add f1 f2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk34"><span class="nb">pose</span> (fraction_eq_refl f1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br><span><var>f</var><span><span class="hyp-body"><b>:= </b><span>fraction_eq_refl f1</span></span><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_add f1 f2) (frac_add f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> frac_add_wd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The addition operation on the localization is induced from the addition operation for fractions. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk35"><span class="kn">Instance</span> <span class="nf">plus_rng_localization</span> : Plus (Quotient fraction_eq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Plus (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Plus (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk37">srapply Quotient_rec2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chk38"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> <span class="nv">b</span> : Fraction,
fraction_eq a a&#39; -&gt; <span class="nl">?dclass</span> a b = <span class="nl">?dclass</span> a&#39; b</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chk39"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : Fraction,
fraction_eq b b&#39; -&gt; <span class="nl">?dclass</span> a b = <span class="nl">?dclass</span> a b&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3b"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3c"><span class="nb">intros</span> f1 f2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (class_of _ (frac_add f1 f2)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> <span class="nv">b</span> : Fraction,
fraction_eq a a&#39; -&gt;
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3e"><span class="nb">intros</span> f1 f1&#39; f2 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) f1 f2 =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) f1&#39; f2</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue, frac_add_wd_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : Fraction,
fraction_eq b b&#39; -&gt;
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk40"><span class="nb">intros</span> f1 f2 f2&#39; q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) f1 f2 =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_add f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) f1 f2&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue, frac_add_wd_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Multiplication operation *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">frac_mult</span> : Fraction -&gt; Fraction -&gt; Fraction :=
    <span class="kr">fun</span> &#39;(Build_Fraction n1 d1 p1) &#39;(Build_Fraction n2 d2 p2)
      =&gt; Build_Fraction (n1 * n2) (d1 * d2) (mss_mult p1 p2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk41"><span class="kn">Definition</span> <span class="nf">frac_mult_wd_l</span> <span class="nv">f1</span> <span class="nv">f1&#39;</span> <span class="nv">f2</span> (<span class="nv">p</span> : fraction_eq f1 f1&#39;)
    : fraction_eq (frac_mult f1 f2) (frac_mult f1&#39; f2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk43"><span class="nb">destruct</span> p <span class="kr">as</span> [x [s p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk44"><span class="nb">refine</span> (x; (s, _)); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (numerator f1 * numerator f2) *
(denominator f1&#39; * denominator f2) =
x * (numerator f1&#39; * numerator f2) *
(denominator f1 * denominator f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk45"><span class="nb">rewrite</span> <span class="mi">4</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * numerator f2 * denominator f1&#39; *
denominator f2 =
x * numerator f1&#39; * numerator f2 * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk46"><span class="nb">rewrite</span> (rng_mult_permute_2_3 _ _ (denominator f1&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * denominator f1&#39; * numerator f2 *
denominator f2 =
x * numerator f1&#39; * numerator f2 * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk47"><span class="nb">rewrite</span> (rng_mult_permute_2_3 _ _ (denominator f1)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * denominator f1&#39; * numerator f2 *
denominator f2 =
x * numerator f1&#39; * denominator f1 * numerator f2 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk48">lhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * denominator f1&#39; *
(numerator f2 * denominator f2) =
x * numerator f1&#39; * denominator f1 * numerator f2 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk49">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f1&#39; =
x * numerator f1&#39; * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * denominator f1&#39; *
(numerator f2 * denominator f2) =
x * numerator f1&#39; * denominator f1 *
(numerator f2 * denominator f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4a"><span class="kn">Definition</span> <span class="nf">frac_mult_wd_r</span> <span class="nv">f1</span> <span class="nv">f2</span> <span class="nv">f2&#39;</span> (<span class="nv">p</span> : fraction_eq f2 f2&#39;)
    : fraction_eq (frac_mult f1 f2) (frac_mult f1 f2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4c"><span class="nb">destruct</span> p <span class="kr">as</span> [x [s p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_mult f1 f2) (frac_mult f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4d"><span class="nb">refine</span> (x; (s, _)); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * (numerator f1 * numerator f2) *
(denominator f1 * denominator f2&#39;) =
x * (numerator f1 * numerator f2&#39;) *
(denominator f1 * denominator f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4e"><span class="nb">rewrite</span> <span class="mi">4</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f1 * numerator f2 * denominator f1 *
denominator f2&#39; =
x * numerator f1 * numerator f2&#39; * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk4f"><span class="nb">rewrite</span> (rng_mult_permute_2_3 _ _ (numerator f2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * numerator f1 * denominator f1 *
denominator f2&#39; =
x * numerator f1 * numerator f2&#39; * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk50"><span class="nb">rewrite</span> <span class="mi">2</span> (rng_mult_permute_2_3 _ _ (denominator f2&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * denominator f2&#39; * numerator f1 *
denominator f1 =
x * numerator f1 * numerator f2&#39; * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk51"><span class="nb">rewrite</span> (rng_mult_permute_2_3 _ _ (numerator f2&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * denominator f2&#39; * numerator f1 *
denominator f1 =
x * numerator f2&#39; * numerator f1 * denominator f1 *
denominator f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk52"><span class="nb">rewrite</span> <span class="mi">2</span> (rng_mult_permute_2_3 _ _ (denominator f2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * denominator f2&#39; * numerator f1 *
denominator f1 =
x * numerator f2&#39; * denominator f2 * numerator f1 *
denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk53">lhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * denominator f2&#39; *
(numerator f1 * denominator f1) =
x * numerator f2&#39; * denominator f2 * numerator f1 *
denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk54">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f2 * denominator f2&#39; =
x * numerator f2&#39; * denominator f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * numerator f2 * denominator f2&#39; *
(numerator f1 * denominator f1) =
x * numerator f2&#39; * denominator f2 *
(numerator f1 * denominator f1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk55"><span class="kn">Instance</span> <span class="nf">mult_rng_localization</span>: Mult (Quotient fraction_eq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Mult (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Mult (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk57">srapply Quotient_rec2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chk58"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> <span class="nv">b</span> : Fraction,
fraction_eq a a&#39; -&gt; <span class="nl">?dclass</span> a b = <span class="nl">?dclass</span> a&#39; b</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chk59"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : Fraction,
fraction_eq b b&#39; -&gt; <span class="nl">?dclass</span> a b = <span class="nl">?dclass</span> a b&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5b"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Fraction -&gt; Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5c"><span class="nb">intros</span> f1 f2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (class_of _ (frac_mult f1 f2)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span> <span class="nv">b</span> : Fraction,
fraction_eq a a&#39; -&gt;
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_mult f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_mult f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5e"><span class="nb">intros</span> f1 f1&#39; f2 p; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f1', f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f1&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq (frac_mult f1 f2) =
class_of fraction_eq (frac_mult f1&#39; f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue, frac_mult_wd_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk5f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">b&#39;</span> : Fraction,
fraction_eq b b&#39; -&gt;
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_mult f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b =
((<span class="kr">fun</span> <span class="nv">f1</span> <span class="nv">f2</span> : Fraction =&gt;
  class_of fraction_eq (frac_mult f1 f2))
 :
 Fraction -&gt; Fraction -&gt; Quotient fraction_eq) a b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk60"><span class="nb">intros</span> f1 f2 f2&#39; q; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2, f2'</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>fraction_eq f2 f2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq (frac_mult f1 f2) =
class_of fraction_eq (frac_mult f1 f2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue, frac_mult_wd_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Zero element *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">zero_rng_localization</span> : Zero (Quotient fraction_eq)
    := class_of _ (Build_Fraction <span class="mi">0</span> <span class="mi">1</span> mss_one).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** One element *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">one_rng_localization</span> : One (Quotient fraction_eq)
    := class_of _(Build_Fraction <span class="mi">1</span> <span class="mi">1</span> mss_one).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Negation operation *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">frac_negate</span> : Fraction -&gt; Fraction
    :=  <span class="kr">fun</span> &#39;(Build_Fraction n d p) =&gt; Build_Fraction (- n) d p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk61"><span class="kn">Definition</span> <span class="nf">frac_negate_wd</span> <span class="nv">f1</span> <span class="nv">f2</span> (<span class="nv">p</span> : fraction_eq f1 f2)
    : fraction_eq (frac_negate f1) (frac_negate f2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_negate f1) (frac_negate f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk62"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_negate f1) (frac_negate f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk63"><span class="nb">destruct</span> p <span class="kr">as</span> [x [s p]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f2 =
x * numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_negate f1) (frac_negate f2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk64"><span class="nb">refine</span> (x; (s,_)); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f2 =
x * numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x * - numerator f1 * denominator f2 =
x * - numerator f2 * denominator f1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk65"><span class="nb">rewrite</span> <span class="mi">2</span> rng_mult_negate_r, <span class="mi">2</span> rng_mult_negate_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>x * numerator f1 * denominator f2 =
x * numerator f2 * denominator f1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (x * numerator f1 * denominator f2) =
- (x * numerator f2 * denominator f1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk66"><span class="kn">Instance</span> <span class="nf">negate_rng_localization</span> : Negate (Quotient fraction_eq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Negate (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk67"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Negate (Quotient fraction_eq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk68">srapply Quotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Quotient fraction_eq</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chk69"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
fraction_eq a b -&gt; <span class="nl">?pclass</span> a = <span class="nl">?pclass</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6b"><span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quotient fraction_eq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6c"><span class="nb">apply</span> class_of.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (frac_negate f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
fraction_eq a b -&gt;
(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 class_of fraction_eq (frac_negate f)) a =
(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 class_of fraction_eq (frac_negate f)) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6e"><span class="nb">intros</span> f1 f2 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 class_of fraction_eq (frac_negate f)) f1 =
(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 class_of fraction_eq (frac_negate f)) f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> qglue, frac_negate_wd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** *** Ring laws *)</span>

  <span class="sd">(** Commutativity of addition *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk6f"><span class="kn">Instance</span> <span class="nf">commutative_plus_rng_localization</span>
    : Commutative plus_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Commutative plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk70"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Commutative plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk71">srapply Quotient_ind2_hprop; <span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : Quotient fraction_eq =&gt;
 plus_rng_localization x y = plus_rng_localization y x)
  (class_of fraction_eq x) (class_of fraction_eq y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk72"><span class="nb">apply</span> qglue, fraction_eq_simple; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(numerator x * denominator y +
 numerator y * denominator x) *
(denominator y * denominator x) =
(numerator y * denominator x +
 numerator x * denominator y) *
(denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk73"><span class="nb">rewrite</span> (rng_mult_comm (denominator y) (denominator x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(numerator x * denominator y +
 numerator y * denominator x) *
(denominator x * denominator y) =
(numerator y * denominator x +
 numerator x * denominator y) *
(denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap; <span class="nb">apply</span> rng_plus_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Left additive identity *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk74"><span class="kn">Instance</span> <span class="nf">leftidentity_plus_rng_localization</span>
    : LeftIdentity plus_rng_localization zero_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdentity plus_rng_localization
  zero_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk75"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdentity plus_rng_localization
  zero_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk76">srapply Quotient_ind_hprop; <span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : Quotient fraction_eq =&gt;
 plus_rng_localization zero_rng_localization x = x)
  (class_of fraction_eq f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk77"><span class="nb">apply</span> qglue, fraction_eq_simple; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">0</span> * denominator f + numerator f * <span class="mi">1</span>) * denominator f =
numerator f * (<span class="mi">1</span> * denominator f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk78">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * denominator f + numerator f * <span class="mi">1</span> = numerator f</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk79"><hr></label><div class="goal-conclusion">denominator f = <span class="mi">1</span> * denominator f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * denominator f + numerator f * <span class="mi">1</span> = numerator f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7b"><span class="nb">rewrite</span> rng_mult_zero_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> + numerator f * <span class="mi">1</span> = numerator f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7c"><span class="nb">rewrite</span> rng_plus_zero_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator f * <span class="mi">1</span> = numerator f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator f = <span class="mi">1</span> * denominator f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7e"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * denominator f = denominator f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_one_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk7f"><span class="kn">Instance</span> <span class="nf">leftinverse_plus_rng_localization</span>
    : LeftInverse plus_rng_localization negate_rng_localization zero_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftInverse plus_rng_localization
  negate_rng_localization zero_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftInverse plus_rng_localization
  negate_rng_localization zero_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk81">srapply Quotient_ind_hprop; <span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : Quotient fraction_eq =&gt;
 plus_rng_localization (negate_rng_localization x) x =
 zero_rng_localization) (class_of fraction_eq f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk82"><span class="nb">apply</span> qglue, fraction_eq_simple; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(- numerator f * denominator f +
 numerator f * denominator f) * <span class="mi">1</span> =
<span class="mi">0</span> * (denominator f * denominator f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk83"><span class="nb">refine</span> (rng_mult_one_r _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- numerator f * denominator f +
numerator f * denominator f =
<span class="mi">0</span> * (denominator f * denominator f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk84"><span class="nb">refine</span> (_ @ (rng_mult_zero_l _)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- numerator f * denominator f +
numerator f * denominator f = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk85"><span class="nb">rewrite</span> rng_mult_negate_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- (numerator f * denominator f) +
numerator f * denominator f = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_plus_negate_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk86"><span class="kn">Instance</span> <span class="nf">associative_plus_rng_localization</span>
    : Associative plus_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Associative plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk87"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Associative plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk88">srapply Quotient_ind3_hprop; <span class="nb">intros</span> x y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : Quotient fraction_eq =&gt;
 plus_rng_localization x (plus_rng_localization y z) =
 plus_rng_localization (plus_rng_localization x y) z)
  (class_of fraction_eq x) (class_of fraction_eq y)
  (class_of fraction_eq z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk89"><span class="nb">apply</span> qglue, fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator (frac_add x (frac_add y z)) *
denominator (frac_add (frac_add x y) z) =
numerator (frac_add (frac_add x y) z) *
denominator (frac_add x (frac_add y z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(numerator x * (denominator y * denominator z) +
 (numerator y * denominator z +
  numerator z * denominator y) * denominator x) *
(denominator x * denominator y * denominator z) =
((numerator x * denominator y +
  numerator y * denominator x) * denominator z +
 numerator z * (denominator x * denominator y)) *
(denominator x * (denominator y * denominator z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8b"><span class="nb">rewrite</span> ? rng_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * (denominator y * denominator z) *
(denominator x * denominator y * denominator z) +
(numerator y * denominator z * denominator x *
 (denominator x * denominator y * denominator z) +
 numerator z * denominator y * denominator x *
 (denominator x * denominator y * denominator z)) =
numerator x * denominator y * denominator z *
(denominator x * (denominator y * denominator z)) +
numerator y * denominator x * denominator z *
(denominator x * (denominator y * denominator z)) +
numerator z * (denominator x * denominator y) *
(denominator x * (denominator y * denominator z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8c"><span class="nb">rewrite</span> ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * denominator y * denominator z *
denominator x * denominator y * denominator z +
(numerator y * denominator z * denominator x *
 denominator x * denominator y * denominator z +
 numerator z * denominator y * denominator x *
 denominator x * denominator y * denominator z) =
numerator x * denominator y * denominator z *
denominator x * denominator y * denominator z +
numerator y * denominator x * denominator z *
denominator x * denominator y * denominator z +
numerator z * denominator x * denominator y *
denominator x * denominator y * denominator z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8d"><span class="nb">rewrite</span> ? rng_plus_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * denominator y * denominator z *
denominator x * denominator y * denominator z +
numerator y * denominator z * denominator x *
denominator x * denominator y * denominator z +
numerator z * denominator y * denominator x *
denominator x * denominator y * denominator z =
numerator x * denominator y * denominator z *
denominator x * denominator y * denominator z +
numerator y * denominator x * denominator z *
denominator x * denominator y * denominator z +
numerator z * denominator x * denominator y *
denominator x * denominator y * denominator z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk8e"><span class="kp">do</span> <span class="mi">4</span> f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator y * denominator z * denominator x *
denominator x =
numerator y * denominator x * denominator z *
denominator x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk8f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk8f"><hr></label><div class="goal-conclusion">numerator z * denominator y * denominator x =
numerator z * denominator x * denominator y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk90"><span class="kp">all</span>: <span class="nb">rewrite</span> &lt;- ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator y *
(denominator z * (denominator x * denominator x)) =
numerator y *
(denominator x * (denominator z * denominator x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk91" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk91"><hr></label><div class="goal-conclusion">numerator z * (denominator y * denominator x) =
numerator z * (denominator x * denominator y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk92"><span class="kp">all</span>: f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * (denominator x * denominator x) =
denominator x * (denominator z * denominator x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk93" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk93"><hr></label><div class="goal-conclusion">denominator y * denominator x =
denominator x * denominator y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk94"><span class="mi">2</span>: <span class="nb">apply</span> rng_mult_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * (denominator x * denominator x) =
denominator x * (denominator z * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk95"><span class="nb">rewrite</span> rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * denominator x * denominator x =
denominator x * (denominator z * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk96"><span class="kn">Instance</span> <span class="nf">leftidentity_mult_rng_localization</span>
    : LeftIdentity mult_rng_localization one_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdentity mult_rng_localization
  one_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk97"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftIdentity mult_rng_localization
  one_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk98">srapply Quotient_ind_hprop; <span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : Quotient fraction_eq =&gt;
 mult_rng_localization one_rng_localization x = x)
  (class_of fraction_eq f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk99"><span class="nb">apply</span> qglue, fraction_eq_simple; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * numerator f * denominator f =
numerator f * (<span class="mi">1</span> * denominator f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap; [|<span class="nb">symmetry</span>]; <span class="nb">apply</span> rng_mult_one_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9a"><span class="kn">Instance</span> <span class="nf">associative_mult_rng_localization</span>
    : Associative mult_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Associative mult_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Associative mult_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9c">srapply Quotient_ind3_hprop; <span class="nb">intros</span> x y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : Quotient fraction_eq =&gt;
 mult_rng_localization x (mult_rng_localization y z) =
 mult_rng_localization (mult_rng_localization x y) z)
  (class_of fraction_eq x) (class_of fraction_eq y)
  (class_of fraction_eq z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9d"><span class="nb">apply</span> qglue, fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator (frac_mult x (frac_mult y z)) *
denominator (frac_mult (frac_mult x y) z) =
numerator (frac_mult (frac_mult x y) z) *
denominator (frac_mult x (frac_mult y z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap; [|<span class="nb">symmetry</span>]; <span class="nb">apply</span> rng_mult_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9e"><span class="kn">Instance</span> <span class="nf">commutative_mult_rng_localization</span>
    : Commutative mult_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Commutative mult_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk9f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Commutative mult_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka0">srapply Quotient_ind2_hprop; <span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : Quotient fraction_eq =&gt;
 mult_rng_localization x y = mult_rng_localization y x)
  (class_of fraction_eq x) (class_of fraction_eq y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka1"><span class="nb">apply</span> qglue, fraction_eq_simple; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * numerator y *
(denominator y * denominator x) =
numerator y * numerator x *
(denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap; rapply rng_mult_comm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka2"><span class="kn">Instance</span> <span class="nf">leftdistribute_rng_localization</span>
    : LeftDistribute mult_rng_localization plus_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftDistribute mult_rng_localization
  plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LeftDistribute mult_rng_localization
  plus_rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka4">srapply Quotient_ind3_hprop; <span class="nb">intros</span> x y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : Quotient fraction_eq =&gt;
 mult_rng_localization x (plus_rng_localization y z) =
 plus_rng_localization (mult_rng_localization x y)
   (mult_rng_localization x z))
  (class_of fraction_eq x) (class_of fraction_eq y)
  (class_of fraction_eq z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka5"><span class="nb">apply</span> qglue, fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator (frac_mult x (frac_add y z)) *
denominator (frac_add (frac_mult x y) (frac_mult x z)) =
numerator (frac_add (frac_mult x y) (frac_mult x z)) *
denominator (frac_mult x (frac_add y z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka6"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x *
(numerator y * denominator z +
 numerator z * denominator y) *
(denominator x * denominator y *
 (denominator x * denominator z)) =
(numerator x * numerator y *
 (denominator x * denominator z) +
 numerator x * numerator z *
 (denominator x * denominator y)) *
(denominator x * (denominator y * denominator z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka7"><span class="nb">rewrite</span> ? rng_dist_l, ? rng_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * (numerator y * denominator z) *
(denominator x * denominator y *
 (denominator x * denominator z)) +
numerator x * (numerator z * denominator y) *
(denominator x * denominator y *
 (denominator x * denominator z)) =
numerator x * numerator y *
(denominator x * denominator z) *
(denominator x * (denominator y * denominator z)) +
numerator x * numerator z *
(denominator x * denominator y) *
(denominator x * (denominator y * denominator z))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka8"><span class="nb">rewrite</span> ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * numerator y * denominator z *
denominator x * denominator y * denominator x *
denominator z +
numerator x * numerator z * denominator y *
denominator x * denominator y * denominator x *
denominator z =
numerator x * numerator y * denominator x *
denominator z * denominator x * denominator y *
denominator z +
numerator x * numerator z * denominator x *
denominator y * denominator x * denominator y *
denominator z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chka9"><span class="kp">do</span> <span class="mi">2</span> f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x * numerator y * denominator z *
denominator x * denominator y * denominator x =
numerator x * numerator y * denominator x *
denominator z * denominator x * denominator y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkaa"><hr></label><div class="goal-conclusion">numerator x * numerator z * denominator y *
denominator x * 
denominator y * 
denominator x =
numerator x * numerator z * denominator x *
denominator y * 
denominator x * 
denominator y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkab"><span class="kp">all</span>: <span class="nb">rewrite</span> &lt;- ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator x *
(numerator y *
 (denominator z *
  (denominator x * (denominator y * denominator x)))) =
numerator x *
(numerator y *
 (denominator x *
  (denominator z * (denominator x * denominator y))))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkac"><hr></label><div class="goal-conclusion">numerator x *
(numerator z *
 (denominator y *
  (denominator x * (denominator y * denominator x)))) =
numerator x *
(numerator z *
 (denominator x *
  (denominator y * (denominator x * denominator y))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkad"><span class="kp">all</span>: <span class="kp">do</span> <span class="mi">2</span> f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z *
(denominator x * (denominator y * denominator x)) =
denominator x *
(denominator z * (denominator x * denominator y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkae"><hr></label><div class="goal-conclusion">denominator y *
(denominator x * (denominator y * denominator x)) =
denominator x *
(denominator y * (denominator x * denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkaf"><span class="kp">all</span>: <span class="nb">rewrite</span> ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * denominator x * denominator y *
denominator x =
denominator x * denominator z * denominator x *
denominator y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkb0"><hr></label><div class="goal-conclusion">denominator y * denominator x * denominator y *
denominator x =
denominator x * denominator y * denominator x *
denominator y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb1"><span class="kp">all</span>: <span class="nb">rewrite</span> (rng_mult_comm (_ x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator x * denominator z * denominator y *
denominator x =
denominator x * denominator z * denominator x *
denominator y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkb2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkb2"><hr></label><div class="goal-conclusion">denominator x * denominator y * denominator y *
denominator x =
denominator x * denominator y * denominator x *
denominator y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb3"><span class="kp">all</span>: <span class="nb">rewrite</span> &lt;- ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator x *
(denominator z * (denominator y * denominator x)) =
denominator x *
(denominator z * (denominator x * denominator y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkb4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkb4"><hr></label><div class="goal-conclusion">denominator x *
(denominator y * (denominator y * denominator x)) =
denominator x *
(denominator y * (denominator x * denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb5"><span class="kp">all</span>: f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * (denominator y * denominator x) =
denominator z * (denominator x * denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkb6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkb6"><hr></label><div class="goal-conclusion">denominator y * (denominator y * denominator x) =
denominator y * (denominator x * denominator y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb7"><span class="kp">all</span>: <span class="nb">rewrite</span> (rng_mult_comm _ (_ y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * (denominator x * denominator y) =
denominator z * (denominator x * denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkb8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkb8"><hr></label><div class="goal-conclusion">denominator y * (denominator x * denominator y) =
denominator y * (denominator x * denominator y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkb9"><span class="kp">all</span>: <span class="nb">rewrite</span> &lt;- ? rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">denominator z * (denominator x * denominator y) =
denominator z * (denominator x * denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chkba"><hr></label><div class="goal-conclusion">denominator y * (denominator x * denominator y) =
denominator y * (denominator x * denominator y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkbb"><span class="kn">Definition</span> <span class="nf">rng_localization</span> : CRing.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CRing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkbc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CRing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkbd">snapply Build_CRing&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbGroup</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkbe"><hr></label><div class="goal-conclusion">One <span class="nl">?R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkbf"><hr></label><div class="goal-conclusion">Mult <span class="nl">?R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc0"><hr></label><div class="goal-conclusion">Commutative mult</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc1"><hr></label><div class="goal-conclusion">Associative mult</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc2"><hr></label><div class="goal-conclusion">LeftDistribute mult plus</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc3"><hr></label><div class="goal-conclusion">LeftIdentity mult <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="c">(* All of the laws can be found by typeclass search, but it&#39;s slightly faster if we fill them in: *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkc4"><span class="mi">1</span>: <span class="bp">exact</span> (Build_AbGroup&#39; (Quotient fraction_eq)
                commutative_plus_rng_localization
                associative_plus_rng_localization
                leftidentity_plus_rng_localization
                leftinverse_plus_rng_localization).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">One
  (Build_AbGroup&#39; (Quotient fraction_eq)
     commutative_plus_rng_localization
     associative_plus_rng_localization
     leftidentity_plus_rng_localization
     leftinverse_plus_rng_localization)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkc5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc5"><hr></label><div class="goal-conclusion">Mult
  (Build_AbGroup&#39; 
     (Quotient fraction_eq)
     commutative_plus_rng_localization
     associative_plus_rng_localization
     leftidentity_plus_rng_localization
     leftinverse_plus_rng_localization)</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc6"><hr></label><div class="goal-conclusion">Commutative mult</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc7"><hr></label><div class="goal-conclusion">Associative mult</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc8"><hr></label><div class="goal-conclusion">LeftDistribute mult plus</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chkc9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkc9"><hr></label><div class="goal-conclusion">LeftIdentity mult <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkca"><span class="kn">Definition</span> <span class="nf">loc_in</span> : R $-&gt; rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R $-&gt; rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkcb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R $-&gt; rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkcc">snapply Build_RingHomomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R -&gt; rng_localization</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkcd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkcd"><hr></label><div class="goal-conclusion">IsSemiRingPreserving <span class="nl">?rng_homo_map</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkce"><span class="mi">1</span>: <span class="bp">exact</span> (class_of _ o frac_in).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiRingPreserving (class_of fraction_eq o frac_in)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkcf">snapply Build_IsSemiRingPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkd0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkd0"><hr></label><div class="goal-conclusion">IsMonoidPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd2">snapply Build_IsMonoidPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkd3"><hr></label><div class="goal-conclusion">IsUnitPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd5"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq (frac_in (sg_op x y)) =
sg_op (class_of fraction_eq (frac_in x))
  (class_of fraction_eq (frac_in y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd6">snapply qglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_in (sg_op x y))
  (frac_add (frac_in x) (frac_in y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd7"><span class="nb">apply</span> fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator (frac_in (sg_op x y)) *
denominator (frac_add (frac_in x) (frac_in y)) =
numerator (frac_add (frac_in x) (frac_in y)) *
denominator (frac_in (sg_op x y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span>; <span class="nb">rewrite</span> <span class="mi">5</span> rng_mult_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsUnitPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkd9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkda">snapply Build_IsMonoidPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkdb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><label class="goal-separator" for="localization-v-chkdb"><hr></label><div class="goal-conclusion">IsUnitPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkdc">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkdd"><span class="nb">intros</span> x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq (frac_in (sg_op x y)) =
sg_op (class_of fraction_eq (frac_in x))
  (class_of fraction_eq (frac_in y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkde">snapply qglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fraction_eq (frac_in (sg_op x y))
  (frac_mult (frac_in x) (frac_in y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkdf"><span class="nb">apply</span> fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator (frac_in (sg_op x y)) *
denominator (frac_mult (frac_in x) (frac_in y)) =
numerator (frac_mult (frac_in x) (frac_in y)) *
denominator (frac_in (sg_op x y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span>; <span class="nb">rewrite</span> <span class="mi">3</span> rng_mult_one_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsUnitPreserving
  (<span class="kr">fun</span> <span class="nv">x</span> : R =&gt; class_of fraction_eq (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Rec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> (<span class="nv">T</span> : CRing) (<span class="nv">f</span> : R $-&gt; T)
      (<span class="nv">H</span> : <span class="kr">forall</span> <span class="nv">x</span>, S x -&gt; IsInvertible T (f x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke1"><span class="kn">Definition</span> <span class="nf">rng_localization_rec_map</span> : rng_localization -&gt; T.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization -&gt; T</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization -&gt; T</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke3">srapply Quotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; T</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chke4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><label class="goal-separator" for="localization-v-chke4"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
fraction_eq a b -&gt; <span class="nl">?pclass</span> a = <span class="nl">?pclass</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fraction -&gt; T</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke6"><span class="nb">intros</span> [n d sd].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>n, d</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sd</var><span class="hyp-type"><b>: </b><span>S d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke7"><span class="nb">refine</span> (f n * inverse_elem (f d)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>n, d</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>sd</var><span class="hyp-type"><b>: </b><span>S d</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible T (f d)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (H d sd).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
fraction_eq a b -&gt;
(<span class="kr">fun</span> <span class="nv">X</span> : Fraction =&gt;
 (<span class="kr">fun</span> (<span class="nv">n</span> <span class="nv">d</span> : R) (<span class="nv">sd</span> : S d) =&gt; f n * inverse_elem (f d))
   (numerator X) (denominator X)
   (in_mult_subset_denominator X)) a =
(<span class="kr">fun</span> <span class="nv">X</span> : Fraction =&gt;
 (<span class="kr">fun</span> (<span class="nv">n</span> <span class="nv">d</span> : R) (<span class="nv">sd</span> : S d) =&gt; f n * inverse_elem (f d))
   (numerator X) (denominator X)
   (in_mult_subset_denominator X)) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chke9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
fraction_eq a b -&gt;
f (numerator a) * inverse_elem (f (denominator a)) =
f (numerator b) * inverse_elem (f (denominator b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkea"><span class="nb">intros</span> x y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * inverse_elem (f (denominator x)) =
f (numerator y) * inverse_elem (f (denominator y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkeb"><span class="nb">apply</span> rng_inv_moveR_rV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) =
f (numerator y) * inverse_elem (f (denominator y)) *
f (denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkec">rhs_V napply rng_mult_move_left_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) =
inverse_elem (f (denominator y)) * f (numerator y) *
f (denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chked">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) =
inverse_elem (f (denominator y)) *
(f (numerator y) * f (denominator x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkee"><span class="nb">apply</span> rng_inv_moveL_Vr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y) * f (numerator x) =
f (numerator y) * f (denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkef">lhs_V napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y * numerator x) =
f (numerator y) * f (denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf0">rhs_V napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y * numerator x) =
f (numerator y * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf1">napply (equiv_inj (f z.<span class="mi">1</span> *.)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (mult (f z.<span class="mi">1</span>))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkf2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><label class="goal-separator" for="localization-v-chkf2"><hr></label><div class="goal-conclusion">f z.<span class="mi">1</span> * f (denominator y * numerator x) =
f z.<span class="mi">1</span> * f (numerator y * denominator x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf3">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (mult (f z.<span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf4">napply isequiv_rng_inv_mult_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible T (f z.<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (H _ (fst z.<span class="mi">2</span>)).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf5">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f z.<span class="mi">1</span> * f (denominator y * numerator x) =
f z.<span class="mi">1</span> * f (numerator y * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf6">lhs_V napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (z.<span class="mi">1</span> * (denominator y * numerator x)) =
f z.<span class="mi">1</span> * f (numerator y * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf7">rhs_V napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (z.<span class="mi">1</span> * (denominator y * numerator x)) =
f (z.<span class="mi">1</span> * (numerator y * denominator x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkf8">lhs napply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z.<span class="mi">1</span> * (denominator y * numerator x) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkf9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><label class="goal-separator" for="localization-v-chkf9"><hr></label><div class="goal-conclusion">f <span class="nl">?Goal</span> = f (z.<span class="mi">1</span> * (numerator y * denominator x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkfa"><span class="mi">1</span>: lhs napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z.<span class="mi">1</span> * denominator y * numerator x = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkfb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><label class="goal-separator" for="localization-v-chkfb"><hr></label><div class="goal-conclusion">f <span class="nl">?Goal</span> = f (z.<span class="mi">1</span> * (numerator y * denominator x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkfc"><span class="mi">1</span>: napply rng_mult_permute_2_3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (z.<span class="mi">1</span> * numerator x * denominator y) =
f (z.<span class="mi">1</span> * (numerator y * denominator x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkfd">rhs napply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (z.<span class="mi">1</span> * numerator x * denominator y) = f <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chkfe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><label class="goal-separator" for="localization-v-chkfe"><hr></label><div class="goal-conclusion">z.<span class="mi">1</span> * (numerator y * denominator x) = <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chkff"><span class="mi">2</span>: napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>fraction_eq x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (z.<span class="mi">1</span> * numerator x * denominator y) =
f (z.<span class="mi">1</span> * numerator y * denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap f (snd z.<span class="mi">2</span>)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk100"><span class="kn">Instance</span> <span class="nf">issemiringpreserving_rng_localization_rec_map</span>
      : IsSemiRingPreserving rng_localization_rec_map.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiRingPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk101"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiRingPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk102">snapply Build_IsSemiRingPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving rng_localization_rec_map</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk103" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><label class="goal-separator" for="localization-v-chk103"><hr></label><div class="goal-conclusion">IsMonoidPreserving rng_localization_rec_map</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk104">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk105">snapply Build_IsMonoidPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving rng_localization_rec_map</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk106" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><label class="goal-separator" for="localization-v-chk106"><hr></label><div class="goal-conclusion">IsUnitPreserving rng_localization_rec_map</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk107">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk108">srapply Quotient_ind2_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : Quotient fraction_eq =&gt;
 rng_localization_rec_map (sg_op x y) =
 sg_op (rng_localization_rec_map x)
   (rng_localization_rec_map y))
  (class_of fraction_eq a) (class_of fraction_eq b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk109"><span class="nb">intros</span> x y; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f
  (numerator x * denominator y +
   numerator y * denominator x) *
inverse_elem (f (denominator x * denominator y)) =
sg_op
  (f (numerator x) * inverse_elem (f (denominator x)))
  (f (numerator y) * inverse_elem (f (denominator y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10a"><span class="nb">apply</span> rng_inv_moveR_rV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f
  (numerator x * denominator y +
   numerator y * denominator x) =
sg_op
  (f (numerator x) * inverse_elem (f (denominator x)))
  (f (numerator y) * inverse_elem (f (denominator y))) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10b">rhs napply rng_dist_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f
  (numerator x * denominator y +
   numerator y * denominator x) =
f (numerator x) * inverse_elem (f (denominator x)) *
f (denominator x * denominator y) +
f (numerator y) * inverse_elem (f (denominator y)) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10c"><span class="nb">rewrite</span> rng_homo_plus.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x * denominator y) +
f (numerator y * denominator x) =
f (numerator x) * inverse_elem (f (denominator x)) *
f (denominator x * denominator y) +
f (numerator y) * inverse_elem (f (denominator y)) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10d"><span class="nb">rewrite</span> <span class="mi">3</span> rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (denominator y) +
f (numerator y) * f (denominator x) =
f (numerator x) * inverse_elem (f (denominator x)) *
(f (denominator x) * f (denominator y)) +
f (numerator y) * inverse_elem (f (denominator y)) *
(f (denominator x) * f (denominator y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk10e">f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (denominator y) =
f (numerator x) * inverse_elem (f (denominator x)) *
(f (denominator x) * f (denominator y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk10f"><hr></label><div class="goal-conclusion">f (numerator y) * f (denominator x) =
f (numerator y) * inverse_elem (f (denominator y)) *
(f (denominator x) * f (denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk110"><span class="mi">1</span>,<span class="mi">2</span>: rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (denominator y) =
f (numerator x) *
(inverse_elem (f (denominator x)) *
 (f (denominator x) * f (denominator y)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk111"><hr></label><div class="goal-conclusion">f (numerator y) * f (denominator x) =
f (numerator y) *
(inverse_elem (f (denominator y)) *
 (f (denominator x) * f (denominator y)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk112"><span class="mi">1</span>,<span class="mi">2</span>: f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y) =
inverse_elem (f (denominator x)) *
(f (denominator x) * f (denominator y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk113" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk113"><hr></label><div class="goal-conclusion">f (denominator x) =
inverse_elem (f (denominator y)) *
(f (denominator x) * f (denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk114"><span class="mi">1</span>,<span class="mi">2</span>: lhs_V napply rng_mult_one_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * f (denominator y) =
inverse_elem (f (denominator x)) *
(f (denominator x) * f (denominator y))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk115" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk115"><hr></label><div class="goal-conclusion"><span class="mi">1</span> * f (denominator x) =
inverse_elem (f (denominator y)) *
(f (denominator x) * f (denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk116"><span class="mi">1</span>,<span class="mi">2</span>: rhs napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * f (denominator y) =
inverse_elem (f (denominator x)) * f (denominator x) *
f (denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk117" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk117"><hr></label><div class="goal-conclusion"><span class="mi">1</span> * f (denominator x) =
inverse_elem (f (denominator y)) * f (denominator x) *
f (denominator y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk118"><span class="mi">2</span>: rhs napply rng_mult_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * f (denominator y) =
inverse_elem (f (denominator x)) * f (denominator x) *
f (denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk119"><hr></label><div class="goal-conclusion"><span class="mi">1</span> * f (denominator x) =
f (denominator y) *
(inverse_elem (f (denominator y)) * f (denominator x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk11a"><span class="mi">2</span>: rhs napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> * f (denominator y) =
inverse_elem (f (denominator x)) * f (denominator x) *
f (denominator y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk11b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk11b"><hr></label><div class="goal-conclusion"><span class="mi">1</span> * f (denominator x) =
f (denominator y) * inverse_elem (f (denominator y)) *
f (denominator x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk11c"><span class="mi">1</span>,<span class="mi">2</span>: f_ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> =
inverse_elem (f (denominator x)) * f (denominator x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk11d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk11d"><hr></label><div class="goal-conclusion"><span class="mi">1</span> =
f (denominator y) * inverse_elem (f (denominator y))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk11e"><span class="mi">1</span>,<span class="mi">2</span>: <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inverse_elem (f (denominator x)) * f (denominator x) =
<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk11f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk11f"><hr></label><div class="goal-conclusion">f (denominator y) * inverse_elem (f (denominator y)) =
<span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk120">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inverse_elem (f (denominator x)) * f (denominator x) =
<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_inv_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk121">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y) * inverse_elem (f (denominator y)) =
<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_inv_r.</span><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk122">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsUnitPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk123"><span class="nb">hnf</span>; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> * inverse_elem (f <span class="mi">1</span>) = mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk124"><span class="nb">rewrite</span> rng_homo_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> * inverse_elem (f <span class="mi">1</span>) = mon_unit</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input">napply rng_mult_zero_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk125">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsMonoidPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk126">snapply Build_IsMonoidPreserving.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving rng_localization_rec_map</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><label class="goal-separator" for="localization-v-chk127"><hr></label><div class="goal-conclusion">IsUnitPreserving rng_localization_rec_map</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk128">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsSemiGroupPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk129">srapply Quotient_ind2_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : Fraction,
(<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : Quotient fraction_eq =&gt;
 rng_localization_rec_map (sg_op x y) =
 sg_op (rng_localization_rec_map x)
   (rng_localization_rec_map y))
  (class_of fraction_eq a) (class_of fraction_eq b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12a"><span class="nb">intros</span> x y; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x * numerator y) *
inverse_elem (f (denominator x * denominator y)) =
sg_op
  (f (numerator x) * inverse_elem (f (denominator x)))
  (f (numerator y) * inverse_elem (f (denominator y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12b"><span class="nb">apply</span> rng_inv_moveR_rV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x * numerator y) =
sg_op
  (f (numerator x) * inverse_elem (f (denominator x)))
  (f (numerator y) * inverse_elem (f (denominator y))) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12c">lhs napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (numerator y) =
sg_op
  (f (numerator x) * inverse_elem (f (denominator x)))
  (f (numerator y) * inverse_elem (f (denominator y))) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12d">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (numerator y) =
f (numerator x) * inverse_elem (f (denominator x)) *
(f (numerator y) * inverse_elem (f (denominator y)) *
 f (denominator x * denominator y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12e">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator x) * f (numerator y) =
f (numerator x) *
(inverse_elem (f (denominator x)) *
 (f (numerator y) * inverse_elem (f (denominator y)) *
  f (denominator x * denominator y)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk12f"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator y) =
inverse_elem (f (denominator x)) *
(f (numerator y) * inverse_elem (f (denominator y)) *
 f (denominator x * denominator y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk130"><span class="nb">apply</span> rng_inv_moveL_Vr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator x) * f (numerator y) =
f (numerator y) * inverse_elem (f (denominator y)) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk131">lhs napply rng_mult_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator y) * f (denominator x) =
f (numerator y) * inverse_elem (f (denominator y)) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk132">rhs_V napply rng_mult_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (numerator y) * f (denominator x) =
f (numerator y) *
(inverse_elem (f (denominator y)) *
 f (denominator x * denominator y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk133"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator x) =
inverse_elem (f (denominator y)) *
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk134"><span class="nb">apply</span> rng_inv_moveL_Vr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator y) * f (denominator x) =
f (denominator x * denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk135"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator x * denominator y) =
f (denominator y) * f (denominator x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk136">rhs napply rng_mult_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (denominator x * denominator y) =
f (denominator x) * f (denominator y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input">napply rng_homo_mult.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk137">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsUnitPreserving rng_localization_rec_map</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk138"><span class="nb">apply</span> rng_inv_moveR_rV; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">mon_unit * f <span class="mi">1</span> = f <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_mult_one_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">rng_localization_rec</span> : rng_localization $-&gt; T
      := Build_RingHomomorphism rng_localization_rec_map _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk139"><span class="kn">Definition</span> <span class="nf">rng_localization_rec_beta</span>
      : rng_localization_rec $o loc_in $== f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization_rec $o loc_in $== f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization_rec $o loc_in $== f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13b"><span class="nb">intros</span> x; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x * inverse_elem (f <span class="mi">1</span>) = f x</div></blockquote></div></div></small><span class="alectryon-wsp">   
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13c"><span class="nb">apply</span> rng_inv_moveR_rV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x = f x * f <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13d">lhs_V napply rng_mult_one_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x * <span class="mi">1</span> = f x * f <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13e">napply ap; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>R $-&gt; T</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, S x -&gt; IsInvertible T (f x)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> rng_homo_one.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Rec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Elements belonging to the multiplicative subset [S] of [R] become invertible in [rng_localization R S]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk13f">#[export] <span class="kn">Instance</span> <span class="nf">isinvertible_rng_localization</span> (<span class="nv">x</span> : R) (<span class="nv">Sx</span> : S x)
    : IsInvertible rng_localization (loc_in x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible rng_localization (loc_in x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk140"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible rng_localization (loc_in x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk141">snapply isinvertible_cring.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk142" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><label class="goal-separator" for="localization-v-chk142"><hr></label><div class="goal-conclusion"><span class="nl">?inv</span> * loc_in x = <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk143">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">rng_localization</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (class_of _ (Build_Fraction <span class="mi">1</span> x Sx)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk144">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq
  {|
    numerator := <span class="mi">1</span>;
    denominator := x;
    in_mult_subset_denominator := Sx
  |} * loc_in x = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk145"><span class="nb">apply</span> qglue, fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Sx</var><span class="hyp-type"><b>: </b><span>S x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator
  (frac_mult
     {|
       numerator := <span class="mi">1</span>;
       denominator := x;
       in_mult_subset_denominator := Sx
     |} (frac_in x)) *
denominator
  {|
    numerator := <span class="mi">1</span>;
    denominator := <span class="mi">1</span>;
    in_mult_subset_denominator := mss_one
  |} =
numerator
  {|
    numerator := <span class="mi">1</span>;
    denominator := <span class="mi">1</span>;
    in_mult_subset_denominator := mss_one
  |} *
denominator
  (frac_mult
     {|
       numerator := <span class="mi">1</span>;
       denominator := x;
       in_mult_subset_denominator := Sx
     |} (frac_in x))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ring_mult_assoc_opp _ _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** As a special case, any denominator of a fraction must necessarily be invertible. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk146">#[export] <span class="kn">Instance</span> <span class="nf">isinvertible_denominator</span> (<span class="nv">f</span> : Fraction)
    : IsInvertible rng_localization (loc_in (denominator f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible rng_localization (loc_in (denominator f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk147"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsInvertible rng_localization (loc_in (denominator f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk148">snapply isinvertible_rng_localization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (denominator f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (in_mult_subset_denominator f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Elements that were invertible in the original ring [R], continue to be invertible in [rng_localization R S]. Since [loc_in] is a ring homomorphism this is automatic. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">isinvertible_rng_localization_preserved</span> (<span class="nv">x</span> : R)
    : IsInvertible R x -&gt; IsInvertible rng_localization (loc_in x)
    := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We can factor any fraction as the multiplication of the numerator and the inverse of the denominator. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk149"><span class="kn">Definition</span> <span class="nf">fraction_decompose</span> (<span class="nv">f</span> : Fraction)
    : class_of fraction_eq f
      = loc_in (numerator f) * inverse_elem (loc_in (denominator f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq f =
loc_in (numerator f) *
inverse_elem (loc_in (denominator f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">class_of fraction_eq f =
loc_in (numerator f) *
inverse_elem (loc_in (denominator f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14b"><span class="nb">apply</span> qglue, fraction_eq_simple.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">numerator f *
denominator
  (frac_mult (frac_in (numerator f))
     {|
       numerator := <span class="mi">1</span>;
       denominator := denominator f;
       in_mult_subset_denominator :=
         in_mult_subset_denominator f
     |}) =
numerator
  (frac_mult (frac_in (numerator f))
     {|
       numerator := <span class="mi">1</span>;
       denominator := denominator f;
       in_mult_subset_denominator :=
         in_mult_subset_denominator f
     |}) * denominator f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">napply rng_mult_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14c"><span class="kn">Definition</span> <span class="nf">rng_localization_ind</span>
    (<span class="nv">P</span> : rng_localization -&gt; <span class="kt">Type</span>)
    (<span class="nv">H</span> : <span class="kr">forall</span> <span class="nv">x</span>, IsHProp (P x))
    (<span class="nv">Hin</span> : <span class="kr">forall</span> <span class="nv">x</span>, P (loc_in x))
    (<span class="nv">Hinv</span> : <span class="kr">forall</span> <span class="nv">x</span> (<span class="nv">H</span> : IsInvertible rng_localization x),
      P x -&gt; P (inverse_elem x))
    (<span class="nv">Hmul</span> : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, P x -&gt; P y -&gt; P (x * y))
    : <span class="kr">forall</span> <span class="nv">x</span>, P x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk14e">snapply Quotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Quotient fraction_eq, IsHSet (P x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><label class="goal-separator" for="localization-v-chk14f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : Fraction, P (class_of fraction_eq a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chk150" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><label class="goal-separator" for="localization-v-chk150"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : Fraction) 
(<span class="nv">H0</span> : fraction_eq a b),
transport P (qglue H0) (<span class="nl">?pclass</span> a) = <span class="nl">?pclass</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk151">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Quotient fraction_eq, IsHSet (P x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk152">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : Fraction, P (class_of fraction_eq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk153"><span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (class_of fraction_eq f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk154"><span class="nb">refine</span> (transport P (fraction_decompose f)^ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P
  (loc_in (numerator f) *
   inverse_elem (loc_in (denominator f)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk155"><span class="nb">apply</span> Hmul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (loc_in (numerator f))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk156" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><label class="goal-separator" for="localization-v-chk156"><hr></label><div class="goal-conclusion">P (inverse_elem (loc_in (denominator f)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk157">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (loc_in (numerator f))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk158">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (inverse_elem (loc_in (denominator f)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hinv, Hin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk159">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : Fraction) (<span class="nv">H</span> : fraction_eq a b),
transport P (qglue H)
  ((<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
    transport P (fraction_decompose f)^
      (Hmul (loc_in (numerator f))
         (inverse_elem (loc_in (denominator f)))
         (Hin (numerator f))
         (Hinv (loc_in (denominator f))
            (isinvertible_denominator f)
            (Hin (denominator f))))) a) =
(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 transport P (fraction_decompose f)^
   (Hmul (loc_in (numerator f))
      (inverse_elem (loc_in (denominator f)))
      (Hin (numerator f))
      (Hinv (loc_in (denominator f))
         (isinvertible_denominator f)
         (Hin (denominator f))))) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk15a"><span class="nb">intros</span> f1 f2 p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>rng_localization -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : rng_localization, IsHProp (P x)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : R, P (loc_in x)</span></span></span><br><span><var>Hinv</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
P x -&gt; P (inverse_elem x)</span></span></span><br><span><var>Hmul</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
P x -&gt; P y -&gt; P (x * y)</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>Fraction</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fraction_eq f1 f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P (qglue p)
  ((<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
    transport P (fraction_decompose f)^
      (Hmul (loc_in (numerator f))
         (inverse_elem (loc_in (denominator f)))
         (Hin (numerator f))
         (Hinv (loc_in (denominator f))
            (isinvertible_denominator f)
            (Hin (denominator f))))) f1) =
(<span class="kr">fun</span> <span class="nv">f</span> : Fraction =&gt;
 transport P (fraction_decompose f)^
   (Hmul (loc_in (numerator f))
      (inverse_elem (loc_in (denominator f)))
      (Hin (numerator f))
      (Hinv (loc_in (denominator f))
         (isinvertible_denominator f)
         (Hin (denominator f))))) f2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_ishprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk15b"><span class="kn">Definition</span> <span class="nf">rng_localization_ind_homotopy</span> {<span class="nv">T</span> : CRing}
    {<span class="nv">f</span> <span class="nv">g</span> : rng_localization $-&gt; T}
    (<span class="nv">p</span> : f $o loc_in $== g $o loc_in)
    : f $== g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $== g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk15c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $== g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk15d">srapply rng_localization_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) (loc_in x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="localization-v-chk15e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><label class="goal-separator" for="localization-v-chk15e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) 
  (inverse_elem x)</div></blockquote><input class="alectryon-extra-goal-toggle" id="localization-v-chk15f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><label class="goal-separator" for="localization-v-chk15f"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) y -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) 
  (x * y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk160">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : R,
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) (loc_in x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk161">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : rng_localization)
(<span class="nv">H</span> : IsInvertible rng_localization x),
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) (inverse_elem x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk162"><span class="nb">hnf</span>; <span class="nb">intros</span> x H q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsInvertible rng_localization x</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (inverse_elem x) = g (inverse_elem x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk163"><span class="nb">change</span> (inverse_elem (f x) = inverse_elem (g x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsInvertible rng_localization x</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inverse_elem (f x) = inverse_elem (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk164"><span class="nb">apply</span> isinvertible_unique.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsInvertible rng_localization x</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x = g x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk165">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : rng_localization,
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) x -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) y -&gt;
(<span class="kr">fun</span> <span class="nv">x0</span> : rng_localization =&gt;
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) f x0 =
 (rng_homo_map rng_localization T
  :
  RingHomomorphism rng_localization T -&gt;
  rng_localization $-&gt; T) g x0) (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk166"><span class="nb">hnf</span>; <span class="nb">intros</span> x y q r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>f y = g y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (x * y) = g (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk167">lhs napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>f y = g y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x * f y = g (x * y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="localization-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="localization-v-chk168">rhs napply rng_homo_mult.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>R</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>IsMultiplicativeSubset0</var><span class="hyp-type"><b>: </b><span>IsMultiplicativeSubset S</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>CRing</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>rng_localization $-&gt; T</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $o loc_in $== g $o loc_in</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>rng_localization</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>f x = g x</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>f y = g y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x * f y = g x * g y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">f_ap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Localization</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** TODO: Show construction is a localization. *)</span></span></pre>
</div>
</div></body>
</html>
