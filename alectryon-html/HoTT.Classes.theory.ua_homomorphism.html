<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>ua_homomorphism.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="sd">(** This file implements [IsHomomorphism] and [IsIsomorphism].</span>
<span class="sd">    It develops basic algebra homomorphisms and isomorphims. The main</span>
<span class="sd">    theorem in this file is the [path_isomorphism] theorem, which</span>
<span class="sd">    states that there is a path between isomorphic algebras. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk0"><span class="kn">Require Export</span> HoTT.Classes.interfaces.ua_setalgebra.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span>
  HoTT.Types
  HoTT.Tactics.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> algebra_notations ne_list.notations.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">is_homomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ} (<span class="nv">f</span> : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), A s ‚Üí B s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The family of functions [f] above is [OpPreserving Œ± Œ≤] with</span>
<span class="sd">    respect to operations [Œ± : A s1 ‚Üí A s2 ‚Üí ... ‚Üí A sn ‚Üí A t] and</span>
<span class="sd">    [Œ≤ : B s1 ‚Üí B s2 ‚Üí ... ‚Üí B sn ‚Üí B t] if</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      f t (Œ± x1 x2 ... xn) = Œ≤ (f s1 x1) (f s2 x2) ... (f sn xn)</span>
<span class="sd">&gt;&gt;</span>
<span class="sd">*)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">OpPreserving</span> {<span class="nv">w</span> : SymbolType œÉ}
    : Operation A w ‚Üí Operation B w ‚Üí <span class="kt">Type</span>
    := <span class="kr">match</span> w <span class="kr">with</span>
       | [:s:] =&gt; <span class="kr">Œª</span> <span class="nv">Œ±</span> <span class="nv">Œ≤</span>, f s Œ± = Œ≤
       | s ::: y =&gt; <span class="kr">Œª</span> <span class="nv">Œ±</span> <span class="nv">Œ≤</span>, <span class="kr">‚àÄ</span> (<span class="nv">x</span> : A s), OpPreserving (Œ± x) (Œ≤ (f s x))
       <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1">#[export] <span class="kn">Instance</span> <span class="nf">trunc_oppreserving</span> `{Funext} {n : trunc_index}
    `{!IsTruncAlgebra n.+<span class="mi">1</span> B} {w : SymbolType œÉ}
    (Œ± : Operation A w) (Œ≤ : Operation B w)
    : IsTrunc n (OpPreserving Œ± Œ≤).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n.+<span class="mi">1</span> B</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (OpPreserving Œ± Œ≤)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n.+<span class="mi">1</span> B</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (OpPreserving Œ± Œ≤)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> w; <span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The family of functions [f : ‚àÄ (s : Sort œÉ), A s ‚Üí B s] above is</span>
<span class="sd">    a homomorphism if for each function symbol [u : Symbol œÉ], it is</span>
<span class="sd">    [OpPreserving u.#A u.#B] with respect to the algebra</span>
<span class="sd">    operations [u.#A] and [u.#B] corresponding to [u]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsHomomorphism</span> : <span class="kt">Type</span>
    := oppreserving_hom : <span class="kr">‚àÄ</span> (<span class="nv">u</span> : Symbol œÉ), OpPreserving u.#A u.#B.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3">#[export] <span class="kn">Instance</span> <span class="nf">trunc_is_homomorphism</span> `{Funext} {n : trunc_index}
    `{!IsTruncAlgebra n.+<span class="mi">1</span> B}
    : IsTrunc n IsHomomorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n.+<span class="mi">1</span> B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n IsHomomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n.+<span class="mi">1</span> B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n IsHomomorphism</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> istrunc_forall.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">is_homomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">Homomorphism</span> {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ} : <span class="kt">Type</span> := BuildHomomorphism
  { def_hom : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), A s ‚Üí B s
  ; is_homomorphism_hom :: IsHomomorphism def_hom }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Homomorphism {œÉ}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> BuildHomomorphism {œÉ A B} def_hom {is_homomorphism_hom}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We the implicit coercion from [Homomorphism A B] to the family</span>
<span class="sd">    of functions [‚àÄ s, A s ‚Üí B s]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global Coercion</span> <span class="nf">def_hom</span> : Homomorphism &gt;-&gt; <span class="kt">Funclass</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk5"><span class="kn">Lemma</span> <span class="nf">apD10_homomorphism</span> {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ} {<span class="nv">f</span> <span class="nv">g</span> : Homomorphism A B}
  : f = g ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span>, f s == g s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g -&gt; <span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s == g s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g -&gt; <span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s == g s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk7"><span class="nb">intro</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s == g s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">SigHomomorphism</span> {<span class="nv">œÉ</span>} (<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ) : <span class="kt">Type</span> :=
  { def_hom : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s | IsHomomorphism def_hom }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk8"><span class="kn">Lemma</span> <span class="nf">issig_homomorphism</span> {<span class="nv">œÉ</span>} (<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ)
  : SigHomomorphism A B &lt;~&gt; Homomorphism A B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SigHomomorphism A B &lt;~&gt; Homomorphism A B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SigHomomorphism A B &lt;~&gt; Homomorphism A B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">issig.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chka"><span class="kn">Instance</span> <span class="nf">trunc_homomorphism</span> `{Funext} {œÉ} {A B : Algebra œÉ}
  {n : trunc_index} `{!IsTruncAlgebra n B}
  : IsTrunc n (Homomorphism A B).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (Homomorphism A B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>trunc_index</span></span></span><br><span><var>IsTruncAlgebra0</var><span class="hyp-type"><b>: </b><span>IsTruncAlgebra n B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsTrunc n (Homomorphism A B)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (istrunc_equiv_istrunc _ (issig_homomorphism A B)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** To find a path between two homomorphisms [f g : Homomorphism A B]</span>
<span class="sd">    it suffices to find a path between the defining families of</span>
<span class="sd">    functions and the [is_homomorphism_hom] witnesses. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chkc"><span class="kn">Lemma</span> <span class="nf">path_homomorphism</span> {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ} (<span class="nv">f</span> <span class="nv">g</span> : Homomorphism A B)
  (<span class="nv">p</span> : def_hom f = def_hom g)
  (<span class="nv">q</span> : p#(is_homomorphism_hom f) = is_homomorphism_hom g)
  : f = g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>transport IsHomomorphism p (is_homomorphism_hom f) =
is_homomorphism_hom g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chkd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>transport IsHomomorphism p (is_homomorphism_hom f) =
is_homomorphism_hom g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chke"><span class="nb">destruct</span> f, g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>def_hom0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>is_homomorphism_hom0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism def_hom0</span></span></span><br><span><var>def_hom1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>is_homomorphism_hom1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism def_hom1</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>{|
  def_hom := def_hom0;
  is_homomorphism_hom := is_homomorphism_hom0
|} =
{|
  def_hom := def_hom1;
  is_homomorphism_hom := is_homomorphism_hom1
|}</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>transport IsHomomorphism p
  (is_homomorphism_hom
     {|
       def_hom := def_hom0;
       is_homomorphism_hom := is_homomorphism_hom0
     |}) =
is_homomorphism_hom
  {|
    def_hom := def_hom1;
    is_homomorphism_hom := is_homomorphism_hom1
  |}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|
  def_hom := def_hom0;
  is_homomorphism_hom := is_homomorphism_hom0
|} =
{|
  def_hom := def_hom1;
  is_homomorphism_hom := is_homomorphism_hom1
|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chkf"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>def_hom0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>is_homomorphism_hom0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism def_hom0</span></span></span><br><span><var>def_hom1</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>is_homomorphism_hom1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism def_hom1</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>def_hom0 = def_hom1</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>transport IsHomomorphism p is_homomorphism_hom0 =
is_homomorphism_hom1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|
  def_hom := def_hom0;
  is_homomorphism_hom := is_homomorphism_hom0
|} =
{|
  def_hom := def_hom1;
  is_homomorphism_hom := is_homomorphism_hom1
|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> path_induction.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** To find a path between two homomorphisms [f g : Homomorphism A B]</span>
<span class="sd">    it suffices to find a path between the defining families of</span>
<span class="sd">    functions if [IsHSetAlgebra B]. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk10"><span class="kn">Lemma</span> <span class="nf">path_hset_homomorphism</span> `{Funext} {œÉ} {A B : Algebra œÉ}
  `{!IsHSetAlgebra B} (f g : Homomorphism A B)
  (p : def_hom f = def_hom g)
  : f = g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f = g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk12"><span class="nb">apply</span> (path_homomorphism f g p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>IsHSetAlgebra0</var><span class="hyp-type"><b>: </b><span>IsHSetAlgebra B</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>Homomorphism A B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f = g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport IsHomomorphism p (is_homomorphism_hom f) =
is_homomorphism_hom g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_ishprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A family of functions [f : ‚àÄ s, A s ‚Üí B s] is an isomorphism if it is</span>
<span class="sd">    a homomorphism, and for each [s : Sort œÉ], [f s] is an equivalence. *)</span>

<span class="c">(* We make [IsHomomorphism] an argument here, rather than a field, so</span>
<span class="c">   having both [f : Homomorphism A B] and [X : IsIsomorphism f] in</span>
<span class="c">   context does not result in having two proofs of [IsHomomorphism f]</span>
<span class="c">   in context. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsIsomorphism</span> {<span class="nv">œÉ</span> : Signature} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ}
  (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{!IsHomomorphism f}
  := isequiv_isomorphism :: <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), IsEquiv (f s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk13"><span class="kn">Definition</span> <span class="nf">equiv_isomorphism</span> {<span class="nv">œÉ</span> : Signature} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ}
  (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{IsIsomorphism œÉ A B f}
  : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), A s &lt;~&gt; B s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk14"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk15"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A s &lt;~&gt; B s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply (Build_Equiv _ _ (f s)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk16"><span class="kn">Instance</span> <span class="nf">hprop_is_isomorphism</span> `{Funext} {œÉ : Signature}
  {A B : Algebra œÉ} (f : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{!IsHomomorphism f}
  : IsHProp (IsIsomorphism f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (IsIsomorphism f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHProp (IsIsomorphism f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> istrunc_forall.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Let [f : ‚àÄ s, A s ‚Üí B s] be a homomorphism. The following</span>
<span class="sd">    section proves that [f] is &quot;OpPreserving&quot; with respect to</span>
<span class="sd">    uncurried algebra operations in the sense that</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      f t (Œ± (x1,x2,...,xn,tt)) = Œ≤ (f s1 x1,f s2 x1,...,f sn xn,tt)</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">    for all [(x1,x2,...,xn,tt) : FamilyProd A [s1;s2;...;sn]], where</span>
<span class="sd">    [Œ±] and [Œ≤] are uncurried algebra operations in [A] and [B]</span>
<span class="sd">    respectively.</span>
<span class="sd">*)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">homomorphism_ap_operation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">œÉ</span> : Signature} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk18"><span class="kn">Lemma</span> <span class="nf">path_oppreserving_ap_operation</span> (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s)
    {<span class="nv">w</span> : SymbolType œÉ} (<span class="nv">a</span> : FamilyProd A (dom_symboltype w))
    (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w) (<span class="nv">P</span> : OpPreserving f Œ± Œ≤)
    : f (cod_symboltype w) (ap_operation Œ± a)
      = ap_operation Œ≤ (map_family_prod f a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1a"><span class="nb">induction</span> w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype [:t:])</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B [:t:]</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype [:t:]) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-homomorphism-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype (t ::: w))</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: w)</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : FamilyProd A (dom_symboltype w)) (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≤</span> : Operation B w),
OpPreserving f Œ± Œ≤ -&gt;
f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</span></span></span><br></div><label class="goal-separator" for="ua-homomorphism-v-chk1b"><hr></label><div class="goal-conclusion">f (cod_symboltype (t ::: w)) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype [:t:])</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B [:t:]</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype [:t:]) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype (t ::: w))</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: w)</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : FamilyProd A (dom_symboltype w)) (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≤</span> : Operation B w),
OpPreserving f Œ± Œ≤ -&gt;
f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype (t ::: w)) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1e"><span class="nb">destruct</span> a <span class="kr">as</span> [x a].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), A i * A0) Unit
  (dom_symboltype w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: w)</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : FamilyProd A (dom_symboltype w)) (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≤</span> : Operation B w),
OpPreserving f Œ± Œ≤ -&gt;
f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype (t ::: w)) (ap_operation Œ± (x, a)) =
ap_operation Œ≤ (map_family_prod f (x, a))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk1f"><span class="nb">apply</span> IHw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Core.fold_right
  (<span class="kr">Œª</span> (<span class="nv">i</span> : Sort œÉ) (<span class="nv">A0</span> : <span class="kt">Type</span>), A i * A0) Unit
  (dom_symboltype w)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: w)</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: w)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : FamilyProd A (dom_symboltype w)) (<span class="nv">Œ±</span> : Operation A w)
(<span class="nv">Œ≤</span> : Operation B w),
OpPreserving f Œ± Œ≤ -&gt;
f (cod_symboltype w) (ap_operation Œ± a) =
ap_operation Œ≤ (map_family_prod f a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving f (Œ± x)
  (Œ≤ (fst (map_family_prod f (x, a))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> P.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A homomorphism [f : ‚àÄ s, A s ‚Üí B s] satisfies</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      f t (Œ± (a1, a2, ..., an, tt))</span>
<span class="sd">      = Œ≤ (f s1 a1, f s2 a2, ..., f sn an, tt)</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">    where [(a1, a2, ..., an, tt) : FamilyProd A [s1; s2; ...; sn]] and</span>
<span class="sd">    [Œ±], [Œ≤] uncurried versions of [u.#A], [u.#B] respectively. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk20"><span class="kn">Lemma</span> <span class="nf">path_homomorphism_ap_operation</span> (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s)
    `{!IsHomomorphism f}
    : <span class="kr">‚àÄ</span> (<span class="nv">u</span> : Symbol œÉ) (<span class="nv">a</span> : FamilyProd A (dom_symboltype (œÉ u))),
      f (cod_symboltype (œÉ u)) (ap_operation u.#A a)
      = ap_operation u.#B (map_family_prod f a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> : Symbol œÉ)
(<span class="nv">a</span> : FamilyProd A (dom_symboltype (œÉ u))),
f (cod_symboltype (œÉ u)) (ap_operation u.#A a) =
ap_operation u.#B (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">u</span> : Symbol œÉ)
(<span class="nv">a</span> : FamilyProd A (dom_symboltype (œÉ u))),
f (cod_symboltype (œÉ u)) (ap_operation u.#A a) =
ap_operation u.#B (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk22"><span class="nb">intros</span> u a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>FamilyProd A (dom_symboltype (œÉ u))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f (cod_symboltype (œÉ u)) (ap_operation u.#A a) =
ap_operation u.#B (map_family_prod f a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> path_oppreserving_ap_operation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">homomorphism_ap_operation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The next section shows that the family of identity functions,</span>
<span class="sd">    [Œª s x, x] is an isomorphism. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">hom_id</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">œÉ</span>} (<span class="nv">A</span> : Algebra œÉ).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk23">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_id</span>
    : IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> (<span class="nv">x</span> : A s), x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk25"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) u.#A u.#A</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk26"><span class="nb">generalize</span> u.#A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">o</span> : Operation A (œÉ u),
OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) o o</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk27"><span class="nb">intro</span> w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Operation A (œÉ u)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk28"><span class="nb">induction</span> (œÉ u).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-homomorphism-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Operation A s, OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</span></span></span><br></div><label class="goal-separator" for="ua-homomorphism-v-chk29"><hr></label><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Operation A s, OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x) w w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2c">#[export] <span class="kn">Instance</span> <span class="nf">is_isomorphism_id</span>
    : IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span> (<span class="nv">x</span> : A s), x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2e"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_id</span> : Homomorphism A A
    := BuildHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> <span class="nv">x</span>, x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">hom_id</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Suppose [f : ‚àÄ s, A s ‚Üí B s] is an isomorphism. The following</span>
<span class="sd">    section shows that the family of inverse functions, [Œª s, (f s)^-1]</span>
<span class="sd">    is an isomorphism. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">hom_inv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> : Algebra œÉ}
    (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{IsIsomorphism œÉ A B f}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk2f">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_inv</span> : IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, (f s)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk31"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) u.#B u.#A</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk32"><span class="nb">generalize</span> u.#A u.#B (oppreserving_hom f u).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">o</span> : Operation A (œÉ u))
(<span class="nv">o0</span> : Operation B (œÉ u)),
OpPreserving f o o0 -&gt;
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) o0 o</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk33"><span class="nb">intros</span> a b P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A (œÉ u)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B (œÉ u)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk34"><span class="nb">induction</span> (œÉ u).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B [:t:]</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-homomorphism-v-chk35" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: s)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : Operation A s) 
(<span class="nv">b</span> : Operation B s),
OpPreserving f a b -&gt;
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</span></span></span><br></div><label class="goal-separator" for="ua-homomorphism-v-chk35"><hr></label><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B [:t:]</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk37"><span class="nb">destruct</span> P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A [:t:]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) (f t a) a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (eissect (f t)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk38">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: s)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : Operation A s) 
(<span class="nv">b</span> : Operation B s),
OpPreserving f a b -&gt;
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk39"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: s)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : Operation A s) 
(<span class="nv">b</span> : Operation B s),
OpPreserving f a b -&gt;
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) (b x)
  (a ((f t)^-<span class="mi">1</span> x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3a"><span class="nb">apply</span> IHs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Operation A (t ::: s)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Operation B (t ::: s)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving f a b</span></span></span><br><span><var>IHs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : Operation A s) 
(<span class="nv">b</span> : Operation B s),
OpPreserving f a b -&gt;
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>) b a</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving f (a ((f t)^-<span class="mi">1</span> x)) (b x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">     </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport (<span class="kr">Œª</span> <span class="nv">y</span>, OpPreserving f _ (b y))
              (eisretr (f t) x) (P (_^-<span class="mi">1</span> x))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3b">#[export] <span class="kn">Instance</span> <span class="nf">is_isomorphism_inv</span> : IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, (f s)^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, (f s)^-<span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3d"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (f s)^-<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_inv</span> : Homomorphism B A
    := BuildHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, (f s)^-<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">hom_inv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Let [f : ‚àÄ s, A s ‚Üí B s] and [g : ‚àÄ s, B s ‚Üí C s]. The</span>
<span class="sd">    next section shows that composition given by [Œª (s : Sort œÉ),</span>
<span class="sd">    g s o f s] is again a homomorphism. If both [f] and [g] are</span>
<span class="sd">    isomorphisms, then the composition is an isomorphism. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">hom_compose</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">œÉ</span>} {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : Algebra œÉ}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3e"><span class="kn">Lemma</span> <span class="nf">oppreserving_compose</span> (<span class="nv">g</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, B s ‚Üí C s) `{!IsHomomorphism g}
    (f : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{!IsHomomorphism f} {w : SymbolType œÉ}
    (Œ± : Operation A w) (Œ≤ : Operation B w) (Œ≥ : Operation C w)
    (G : OpPreserving g Œ≤ Œ≥) (F : OpPreserving f Œ± Œ≤)
    : OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span>, g s o f s) Œ± Œ≥.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation C w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>OpPreserving g Œ≤ Œ≥</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s) Œ± Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk3f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>Operation C w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>OpPreserving g Œ≤ Œ≥</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>OpPreserving f Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s) Œ± Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk40"><span class="nb">induction</span> w; <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>C t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>g t Œ≤ = Œ≥</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g t (f t Œ±) = Œ≥</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-homomorphism-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>C t -&gt; Operation C w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : B t, OpPreserving g (Œ≤ x) (Œ≥ (g t x))</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w) 
(<span class="nv">Œ≥</span> : Operation C w),
OpPreserving g Œ≤ Œ≥ -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), g s (f s x)) Œ± Œ≥</span></span></span><br></div><label class="goal-separator" for="ua-homomorphism-v-chk41"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x0</span> : A s), g s (f s x0))
  (Œ± x) (Œ≥ (g t (f t x)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk42">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>C t</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span>g t Œ≤ = Œ≥</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g t (f t Œ±) = Œ≥</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> path_induction.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk43">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>C t -&gt; Operation C w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : B t, OpPreserving g (Œ≤ x) (Œ≥ (g t x))</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w) 
(<span class="nv">Œ≥</span> : Operation C w),
OpPreserving g Œ≤ Œ≥ -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), g s (f s x)) Œ± Œ≥</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x0</span> : A s), g s (f s x0))
  (Œ± x) (Œ≥ (g t (f t x)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk44"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>Œ≥</var><span class="hyp-type"><b>: </b><span>C t -&gt; Operation C w</span></span></span><br><span><var>G</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : B t, OpPreserving g (Œ≤ x) (Œ≥ (g t x))</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t, OpPreserving f (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) 
(<span class="nv">Œ≤</span> : Operation B w) 
(<span class="nv">Œ≥</span> : Operation C w),
OpPreserving g Œ≤ Œ≥ -&gt;
OpPreserving f Œ± Œ≤ -&gt;
OpPreserving
  (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), g s (f s x)) Œ± Œ≥</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), g s (f s x))
  (Œ± x) (Œ≥ (g t (f t x)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (IHw _ (Œ≤ (f _ x))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk45">#[export] <span class="kn">Instance</span> <span class="nf">is_homomorphism_compose</span>
    (<span class="nv">g</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, B s ‚Üí C s) `{!IsHomomorphism g}
    (f : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{!IsHomomorphism f}
    : IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, g s o f s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk47"><span class="nb">intro</span> u.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> (<span class="nv">s</span> : Sort œÉ) (<span class="nv">x</span> : A s), g s (f s x))
  u.#A u.#C</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (oppreserving_compose g f u.#A u.#B u.#C).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk48">#[export] <span class="kn">Instance</span> <span class="nf">is_isomorphism_compose</span>
    (<span class="nv">g</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, B s ‚Üí C s) `{IsIsomorphism œÉ B C g}
    (f : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{IsIsomorphism œÉ A B f}
    : IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, g s o f s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk49"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIsomorphism (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, g s o f s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4a"><span class="nb">intro</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, B s -&gt; C s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism g</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsIsomorphism g</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism1</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (<span class="kr">Œª</span> <span class="nv">x</span> : A s, g s (f s x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply isequiv_compose.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">hom_compose</span>
    (<span class="nv">g</span> : Homomorphism B C) (<span class="nv">f</span> : Homomorphism A B)
    : Homomorphism A C
    := BuildHomomorphism (<span class="kr">Œª</span> <span class="nv">s</span>, g s o f s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">hom_compose</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The following section shows that there is a path between</span>
<span class="sd">    isomorphic algebras. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">path_isomorphism</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence} {œÉ : Signature} {A B : Algebra œÉ}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Let [F G : I ‚Üí Type]. If [f : ‚àÄ (i:I), F i &lt;~&gt; G i] is a family of</span>
<span class="sd">    equivalences, then by function extensionality composed with</span>
<span class="sd">    univalence there is a path [F = G]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">path_equiv_family</span> f
    := (path_forall _ _ (<span class="kr">Œª</span> <span class="nv">i</span>, path_universe (f i))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Given a family of equivalences [f : ‚àÄ (s : Sort œÉ), A s &lt;~&gt; B s]</span>
<span class="sd">    which is [OpPreserving f Œ± Œ≤] with respect to algebra operations</span>

<span class="sd">&lt;&lt;</span>
<span class="sd">      Œ± : A s1 ‚Üí A s2 ‚Üí ... ‚Üí A sn ‚Üí A t</span>
<span class="sd">      Œ≤ : B s1 ‚Üí B s2 ‚Üí ... ‚Üí B sn ‚Üí B t</span>
<span class="sd">&gt;&gt;</span>

<span class="sd">    By transporting [Œ±] along the path [path_equiv_family f] we</span>
<span class="sd">    find a path from the transported operation [Œ±] to [Œ≤]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4b"><span class="kn">Lemma</span> <span class="nf">path_operations_equiv</span> {<span class="nv">w</span> : SymbolType œÉ}
    (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w)
    (<span class="nv">f</span> : <span class="kr">‚àÄ</span> (<span class="nv">s</span> : Sort œÉ), A s &lt;~&gt; B s) (<span class="nv">P</span> : OpPreserving f Œ± Œ≤)
    : transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
        (path_equiv_family f) Œ±
      = Œ≤.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>SymbolType œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4d"><span class="nb">induction</span> w; <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, C t)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="ua-homomorphism-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br></div><label class="goal-separator" for="ua-homomorphism-v-chk4e"><hr></label><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, C t -&gt; Operation C w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk4f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, C t)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk50">transport_path_forall_hammer.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>f t Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport idmap (path_universe (f t)) Œ± = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap10 (transport_idmap_path_universe (f t)) Œ± @ P).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk51">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, C t -&gt; Operation C w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± = Œ≤</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk52">funext y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, C t -&gt; Operation C w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  Œ± y = Œ≤ y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk53">transport_path_forall_hammer.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">x</span> : Carriers œÉ, B t -&gt; Operation x w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  (transport (<span class="kr">Œª</span> <span class="nv">y</span> : <span class="kt">Type</span>, y -&gt; Operation A w)
     (path_universe (f t)) Œ±) y = Œ≤ y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk54"><span class="nb">rewrite</span> transport_forall_constant.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">x</span> : Carriers œÉ, Operation x w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  (transport (<span class="kr">Œª</span> <span class="nv">y</span> : <span class="kt">Type</span>, y -&gt; Operation A w)
     (path_universe (f t)) Œ± y) = Œ≤ y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk55"><span class="nb">rewrite</span> transport_arrow_toconst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">x</span> : Carriers œÉ, Operation x w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  (Œ± (transport idmap (path_universe (f t))^ y)) = 
Œ≤ y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk56"><span class="nb">rewrite</span> (transport_path_universe_V (f t)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">x</span> : Carriers œÉ, Operation x w)
  (path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i)))
  (Œ± ((f t)^-<span class="mi">1</span> y)) = Œ≤ y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk57"><span class="nb">apply</span> IHw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : A t,
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± x) (Œ≤ (f t x))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± ((f t)^-<span class="mi">1</span> y))
  (Œ≤ y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk58"><span class="nb">specialize</span> (P ((f t)^-<span class="mi">1</span> y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span><span class="kn">Sort</span> œÉ</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>ne_list (<span class="kn">Sort</span> œÉ)</span></span></span><br><span><var>Œ±</var><span class="hyp-type"><b>: </b><span>A t -&gt; Operation A w</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span>B t -&gt; Operation B w</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s &lt;~&gt; B s</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>B t</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± ((f t)^-<span class="mi">1</span> y))
  (Œ≤ (f t ((f t)^-<span class="mi">1</span> y)))</span></span></span><br><span><var>IHw</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">Œ±</span> : Operation A w) (<span class="nv">Œ≤</span> : Operation B w),
OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) Œ± Œ≤ -&gt;
transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C w)
(path_forall A B (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ, path_universe (f i))) Œ± = Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">OpPreserving (<span class="kr">Œª</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, f s) (Œ± ((f t)^-<span class="mi">1</span> y))
  (Œ≤ y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (eisretr (f t) y) <span class="kr">in</span> P.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Suppose [u : Symbol œÉ] is a function symbol. Recall that</span>
<span class="sd">    [u.#A] is notation for [operations A u : Operation A (œÉ u)]. This</span>
<span class="sd">    is the algebra operation corresponding to function symbol [u]. *)</span>

<span class="sd">(** An isomorphism [f : ‚àÄ s, A s ‚Üí B s] induces a family of</span>
<span class="sd">    equivalences [e : ‚àÄ (s : Sort œÉ), A s &lt;~&gt; B s]. Let [u : Symbol œÉ]</span>
<span class="sd">    be a function symbol. Since [f] is a homomorphism, the induced</span>
<span class="sd">    family of equivalences [e] satisfies [OpPreserving e (u.#A) (u.#B)].</span>
<span class="sd">    By [path_operations_equiv] above, we can then transport [u.#A] along</span>
<span class="sd">    the path [path_equiv_family e] and obtain a path to [u.#B]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk59"><span class="kn">Lemma</span> <span class="nf">path_operations_isomorphism</span> (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s)
    `{IsIsomorphism œÉ A B f} (u : Symbol œÉ)
    : transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C (œÉ u))
        (path_equiv_family (equiv_isomorphism f)) u.#A
      = u.#B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C (œÉ u))
  (path_forall A B
     (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ,
      path_universe (equiv_isomorphism f i))) u.#A =
u.#B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk5a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>Symbol œÉ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">Œª</span> <span class="nv">C</span> : Carriers œÉ, Operation C (œÉ u))
  (path_forall A B
     (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ,
      path_universe (equiv_isomorphism f i))) u.#A =
u.#B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> path_operations_equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** If there is an isomorphism [f : ‚àÄ s, A s ‚Üí B s] then [A = B]. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk5b"><span class="kn">Theorem</span> <span class="nf">path_isomorphism</span> (<span class="nv">f</span> : <span class="kr">‚àÄ</span> <span class="nv">s</span>, A s ‚Üí B s) `{IsIsomorphism œÉ A B f}
    : A = B.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A = B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk5c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A = B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="ua-homomorphism-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="ua-homomorphism-v-chk5d"><span class="nb">apply</span> (path_algebra _ _ (path_equiv_family (equiv_isomorphism f))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>œÉ</var><span class="hyp-type"><b>: </b><span>Signature</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>Algebra œÉ</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">s</span> : <span class="kn">Sort</span> œÉ, A s -&gt; B s</span></span></span><br><span><var>IsHomomorphism0</var><span class="hyp-type"><b>: </b><span>IsHomomorphism f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsIsomorphism f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">Œª</span> <span class="nv">X</span> : Carriers œÉ,
   <span class="kr">forall</span> <span class="nv">u</span> : Symbol œÉ, Operation X (œÉ u))
  (path_forall A B
     (<span class="kr">Œª</span> <span class="nv">i</span> : <span class="kn">Sort</span> œÉ,
      path_universe (equiv_isomorphism f i)))
  (operations A) = operations B</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(* Make the last part abstract because it relies on [path_operations_equiv],</span>
<span class="c">   which is opaque. In cases where the involved algebras are set algebras,</span>
<span class="c">   then this part is a mere proposition. *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span> (
      funext u;
      <span class="bp">exact</span> (transport_forall_constant _ _ u
             @ path_operations_isomorphism f u)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">path_isomorphism</span>.</span></span></pre>
</div>
</div></body>
</html>
