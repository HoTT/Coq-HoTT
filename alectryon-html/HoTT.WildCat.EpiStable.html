<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>EpiStable.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk0"><span class="kn">Require Import</span> WildCat.SetoidRewrite.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file tauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file cc_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file firstorder_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Basics.Overture Basics.Tactics Basics.Equivalences.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Core WildCat.Equiv WildCat.EquivGpd WildCat.PointedCat
  WildCat.Yoneda WildCat.Graph WildCat.ZeroGroupoid WildCat.Pullbacks
  WildCat.AbEnriched WildCat.FunctorCat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Epi-stable categories *)</span>

<span class="sd">(** Epi-stable categories are those in which pullbacks exist and epimorphisms are stable under pullback.  This is somewhat similar to a regular category, but differs in a couple of ways.  First, we use the ordinary epimorphisms rather than the effective epimorphisms, mostly because they are easier to formalize.  Second, we don&#39;t assume that kernel pairs have co-equalizers. *)</span>

<span class="sd">(** ** Definition *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsEpiStable</span> (<span class="nv">A</span> : <span class="kt">Type</span>) `{Is1Cat A} := {
    haspullbacks :: HasPullbacks A;
    stable_epic :: <span class="kr">forall</span> {<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span>} (<span class="nv">f</span> : a $-&gt; c) (<span class="nv">g</span> : b $-&gt; c) {<span class="nv">ep</span> : Epic f},
        Epic (cat_pb_pr2 (CatPullback:=haspullbacks a b c f g));
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Diagram chasing in an epi-stable category *)</span>

<span class="sd">(** One can do a certain amount of diagram chasing in an epi-stable category.  We&#39;ll see below that more can be done with an enrichment over abelian groups. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">EpiStable</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{IsEpiStable A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A generalized element of [B] with domain [P]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">elt</span> (<span class="nv">P</span> <span class="nv">B</span> : A) := P $-&gt; B.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A generalized lift of a generalized element. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Lift</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">P</span> : A} (<span class="nv">c</span> : elt P C) (<span class="nv">f</span> : B $-&gt; C)
    := { P&#39; : A &amp; { e : P&#39; $-&gt;&gt; P &amp; { b : elt P&#39; B &amp; f $o b $== c $o e }}}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Epimorphisms are characterized by the existence of generalized lifts. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1"><span class="kn">Definition</span> <span class="nf">epic_elt_lift</span> {<span class="nv">B</span> <span class="nv">C</span> : A} (<span class="nv">f</span> : B $-&gt; C)
    (<span class="nv">lift</span> : <span class="kr">forall</span> <span class="nv">P</span> (<span class="nv">c</span> : elt P C), Lift c f)
    : Epic f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>lift</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">c</span> : elt P C), Lift c f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>lift</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">c</span> : elt P C), Lift c f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk3"><span class="nb">specialize</span> (lift C (Id C)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>lift</var><span class="hyp-type"><b>: </b><span>Lift (Id C) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk4"><span class="nb">destruct</span> lift <span class="kr">as</span> [P&#39; [[e ep] [b h]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt; C</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== Id C $o (e; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk5"><span class="nb">cbn</span> <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt; C</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== Id C $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk6"><span class="nb">pose proof</span> (h&#39; := h $@ cat_idl e); <span class="nb">clear</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt; C</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o b $== e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk7">rapply (epic_cancel b f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt; C</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o b $== e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic (f $o b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (epic_homotopic _ _ h&#39;^$).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** For the converse, we need the pullback epi of an epi. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk8"><span class="kn">Definition</span> <span class="nf">cat_pb_pr2_epi</span> {<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A} (<span class="nv">f</span> : a $-&gt;&gt; c) (<span class="nv">g</span> : b $-&gt; c)
    : cat_pb f g $-&gt;&gt; b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt;&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cat_pb f g $-&gt;&gt; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt;&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cat_pb f g $-&gt;&gt; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chka"><span class="kr">exists</span> (<span class="nv">cat_pb_pr2</span> (f:=f) (g:=g)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt;&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic cat_pb_pr2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chkb"><span class="kn">Definition</span> <span class="nf">elt_lift_epic</span> {<span class="nv">B</span> <span class="nv">C</span> : A} (<span class="nv">f</span> : B $-&gt; C) {<span class="nv">ef</span> : Epic f}
    {<span class="nv">P</span>} (<span class="nv">c</span> : elt P C)
    : Lift c f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>Epic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift c f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>Epic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift c f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chkd"><span class="kr">exists</span> (<span class="nv">cat_pb</span> <span class="nv">f</span> <span class="nv">c</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>Epic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{e : cat_pb f c $-&gt;&gt; P &amp;
{b : elt (cat_pb f c) B &amp; f $o b $== c $o e}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chke"><span class="kr">exists</span> (<span class="nv">cat_pb_pr2_epi</span> (f; ef) c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>Epic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{b : elt (cat_pb f c) B &amp;
f $o b $== c $o cat_pb_pr2_epi (f; ef) c}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chkf"><span class="kr">exists</span> (<span class="nv">cat_pb_pr1</span> (f:=f) (g:=c)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>ef</var><span class="hyp-type"><b>: </b><span>Epic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o cat_pb_pr1 $== c $o cat_pb_pr2_epi (f; ef) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_pb_glue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The definition of [Monic] already implicitly involves generalized elements.  So this result isn&#39;t really needed, but might become more useful if we introduce a separate notation for applying a function to an [elt]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">monic_via_elt</span> {<span class="nv">B</span> <span class="nv">C</span> : A} (<span class="nv">f</span> : B $-&gt; C)
    (<span class="nv">m</span> : <span class="kr">forall</span> <span class="nv">P</span> (<span class="nv">b</span> <span class="nv">b&#39;</span> : elt P B), f $o b $== f $o b&#39; -&gt; b $== b&#39;)
    : Monic f
    := m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** To lift [b] through [f], it&#39;s enough to lift a pullback of [b] along an epi through [f]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk10"><span class="kn">Definition</span> <span class="nf">lift_helper</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">P</span> <span class="nv">P&#39;</span> : A} {<span class="nv">b</span> : elt P C} {<span class="nv">f</span> : B $-&gt; C}
    (<span class="nv">e</span> : P&#39; $-&gt;&gt; P) (<span class="nv">l</span> : Lift (b $o e) f)
    : Lift b f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>Lift (b $o e) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>Lift (b $o e) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk12"><span class="nb">destruct</span> l <span class="kr">as</span> [P&#39;&#39; [[e&#39; ep] [b&#39; h]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>P''</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>P&#39;&#39; $-&gt; P&#39;</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e&#39;</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>elt P&#39;&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== b $o e $o (e&#39;; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk13"><span class="kr">exists</span> <span class="nv">P&#39;&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>P''</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>P&#39;&#39; $-&gt; P&#39;</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e&#39;</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>elt P&#39;&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== b $o e $o (e&#39;; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{e : P&#39;&#39; $-&gt;&gt; P &amp;
{b0 : elt P&#39;&#39; B &amp; f $o b0 $== b $o e}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk14"><span class="kr">exists</span> (<span class="nv">e</span> $o e&#39;; epic_compose _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>P''</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>P&#39;&#39; $-&gt; P&#39;</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e&#39;</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>elt P&#39;&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== b $o e $o (e&#39;; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{b0 : elt P&#39;&#39; B &amp;
f $o b0 $== b $o (e $o e&#39;; epic_compose e&#39; e)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk15"><span class="kr">exists</span> <span class="nv">b&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>P''</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>P&#39;&#39; $-&gt; P&#39;</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e&#39;</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>elt P&#39;&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== b $o e $o (e&#39;; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o b&#39; $== b $o (e $o e&#39;; epic_compose e&#39; e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk16">rhs&#39; <span class="nb">apply</span> (cat_assoc_opp e&#39; e b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEpiStable A</span></span></span><br><span><var>B, C, P, P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>P''</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span>P&#39;&#39; $-&gt; P&#39;</span></span></span><br><span><var>ep</var><span class="hyp-type"><b>: </b><span>Epic e&#39;</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>elt P&#39;&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== b $o e $o (e&#39;; ep)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o b&#39; $== b $o e $o e&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> h.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">EpiStable</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Many proofs using diagram chasing end by supplying an element of [Lift] with [e] being the identity map.  This helps with this common case. See below for an example. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;provide_lift&quot;</span> <span class="kp">uconstr</span>(a) :=
  <span class="nb">refine</span> (_; id_epi _; a; _);
  <span class="kp">try</span> rhs&#39; napply cat_idr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Epi-stable categories enriched in abelian groups *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">IsAbEpiStable</span> (<span class="nv">A</span> : <span class="kt">Type</span>) `{Is1Cat A} := {
    isepistable_abepistable :: IsEpiStable A;
    isabenriched_abepistable :: IsAbEnriched A;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">AbEpiStable</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{IsAbEpiStable A}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Open Scope</span> mc_add_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We *define* exactness using generalized elements, which avoids needing to assume the existence of kernels, cokernels or images (or even define them).  In a category with kernels and images, you can show that this implies that the natural map from the image to the kernel is monic and epic, so in a nice enough category it is an isomorphism. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">CatIsAbExact</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : A} (<span class="nv">f</span> : B $-&gt; C) (<span class="nv">g</span> : C $-&gt; D) :=
    {
      isabcomplex : g $o f $== <span class="mi">0</span>;
      isabexact : <span class="kr">forall</span> <span class="nv">P</span> (<span class="nv">b</span> : elt P C), g $o b $== <span class="mi">0</span> -&gt; Lift b f;
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** If a sequence [B $-&gt; C] and [0 : C $-&gt; D] is exact, then [B $-&gt; C] is epi. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk17"><span class="kn">Definition</span> <span class="nf">epic_isabexact_nil_morphism</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : A} (<span class="nv">f</span> : B $-&gt; C)
    `{!CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)}
    : Epic f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk18"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Epic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk19"><span class="nb">apply</span> epic_elt_lift.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">c</span> : elt P C), Lift c f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1a"><span class="nb">intros</span> P c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift c f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1b"><span class="nb">apply</span> isabexact.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> $o c $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> precomp_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** If [B $-&gt; C] is epi, then the sequence [B $-&gt; C] and [0 : C$-&gt; D] is exact. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1c"><span class="kn">Definition</span> <span class="nf">isabexact_nil_morphism_epic</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : A} (<span class="nv">f</span> : B $-&gt;&gt; C)
    : CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt;&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt;&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CatIsAbExact f (<span class="mi">0</span> : C $-&gt; D)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1e"><span class="nb">refine</span> {| isabcomplex := precomp_zero _ |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt;&gt; C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P C), <span class="mi">0</span> $o b $== <span class="mi">0</span> -&gt; Lift b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk1f"><span class="nb">intros</span> P c h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt;&gt; C</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o c $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift c f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">rapply elt_lift_epic.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** This is a variant of [ismonic], where the RHS is [0]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk20"><span class="kn">Definition</span> <span class="nf">ismonic&#39;</span> {<span class="nv">B</span> <span class="nv">C</span> : A} (<span class="nv">f</span> : B $-&gt; C) `{!Monic f}
    {P} (b : elt P B) (h : f $o b $== <span class="mi">0</span>)
    : b $== <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>Monic0</var><span class="hyp-type"><b>: </b><span>Monic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>Monic0</var><span class="hyp-type"><b>: </b><span>Monic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk22"><span class="nb">apply</span> (ismonic f).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>Monic0</var><span class="hyp-type"><b>: </b><span>Monic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o b $== f $o <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk23">lhs&#39; <span class="bp">exact</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>Monic0</var><span class="hyp-type"><b>: </b><span>Monic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> $== f $o <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk24"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>Monic0</var><span class="hyp-type"><b>: </b><span>Monic f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o <span class="mi">0</span> $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> postcomp_zero.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A map is monic if only the zero map is mapped to zero by post-composition. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk25"><span class="kn">Definition</span> <span class="nf">monic_via_elt_isemb_ab</span> {<span class="nv">B</span> <span class="nv">C</span> : A} (<span class="nv">f</span> : B $-&gt; C)
   (<span class="nv">h</span> : <span class="kr">forall</span> <span class="nv">P</span> : A, <span class="kr">forall</span> <span class="nv">b</span> : elt P B, f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span>)
    : Monic f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Monic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Monic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk27"><span class="nb">apply</span> monic_via_elt; <span class="nb">intros</span> P b&#39; b&#39;&#39; h&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b', b''</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o b&#39; $== f $o b&#39;&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b&#39; $== b&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk28"><span class="nb">apply</span> inverse_r_homotopy_0gpd <span class="kr">in</span> h&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b', b''</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o b&#39; - f $o b&#39;&#39; $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b&#39; $== b&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk29"><span class="nb">apply</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; postcomp_op_inv f b&#39; b&#39;&#39; $@ x) <span class="kr">in</span> h&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b', b''</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o (b&#39; - b&#39;&#39;) $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b&#39; $== b&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2a"><span class="nb">apply</span> moveL_0M_0gpd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B $-&gt; C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P B),
f $o b $== <span class="mi">0</span> -&gt; b $== <span class="mi">0</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b', b''</var><span class="hyp-type"><b>: </b><span>elt P B</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>f $o (b&#39; - b&#39;&#39;) $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b&#39; - b&#39;&#39; $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (h P (b&#39; - b&#39;&#39;) h&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** If [C $-&gt; D] is monic, then the sequence [0 : B $-&gt; C] and [C $-&gt; D] is exact. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2b"><span class="kn">Definition</span> <span class="nf">isabexact_nil_morphism_monic</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : A} (<span class="nv">f</span> : C $&gt;-&gt; D)
    : CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2d"><span class="nb">refine</span> {| isabcomplex := postcomp_zero _ |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> : elt P C), f $o b $== <span class="mi">0</span> -&gt; Lift b <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2e"><span class="nb">intros</span> P b h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Lift b <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk2f">provide_lift <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> $o <span class="mi">0</span> $== b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk30">lhs&#39; <span class="nb">apply</span> postcomp_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $&gt;-&gt; D</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> $== b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ismonic&#39; f b h)^$.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** If the sequence [0 : B $-&gt; C] and [C $-&gt; D] is exact, then [C $-&gt; D] is a mono. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk31"><span class="kn">Definition</span> <span class="nf">monic_isabexact_nil_morphism</span> {<span class="nv">B</span> <span class="nv">C</span> <span class="nv">D</span> : A} (<span class="nv">f</span> : C $-&gt; D)
    `{!CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f}
    : Monic f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Monic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk32"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Monic f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk33"><span class="nb">apply</span> monic_via_elt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">P</span> : A) (<span class="nv">b</span> <span class="nv">b&#39;</span> : elt P C),
f $o b $== f $o b&#39; -&gt; b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk34"><span class="nb">intros</span> P b b&#39; h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b $== f $o b&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk35"><span class="nb">apply</span> inverse_r_homotopy_0gpd <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o b - f $o b&#39; $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk36"><span class="nb">rewrite</span> &lt;- postcomp_op_inv <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f $o (b - b&#39;) $== <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk37"><span class="nb">apply</span> isabexact <span class="kr">in</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Lift (b - b&#39;) <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk38"><span class="nb">destruct</span> h <span class="kr">as</span> [P&#39; [e [b&#39;&#39; h]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>b''</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o b&#39;&#39; $== (b - b&#39;) $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $== b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk39"><span class="nb">apply</span> moveL_0M_0gpd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>b''</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o b&#39;&#39; $== (b - b&#39;) $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b - b&#39; $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk3a"><span class="nb">apply</span> (isepic e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>b''</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o b&#39;&#39; $== (b - b&#39;) $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b - b&#39;) $o e $== <span class="mi">0</span> $o e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk3b">rhs&#39; <span class="nb">apply</span> precomp_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>b''</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o b&#39;&#39; $== (b - b&#39;) $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b - b&#39;) $o e $== <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="epistable-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="epistable-v-chk3c">rhs_V&#39; <span class="nb">apply</span> (precomp_zero b&#39;&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsAbEpiStable A</span></span></span><br><span><var>B, C, D</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>C $-&gt; D</span></span></span><br><span><var>CatIsAbExact0</var><span class="hyp-type"><b>: </b><span>CatIsAbExact (<span class="mi">0</span> : B $-&gt; C) f</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b, b'</var><span class="hyp-type"><b>: </b><span>elt P C</span></span></span><br><span><var>P'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>P&#39; $-&gt;&gt; P</span></span></span><br><span><var>b''</var><span class="hyp-type"><b>: </b><span>elt P&#39; B</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> $o b&#39;&#39; $== (b - b&#39;) $o e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b - b&#39;) $o e $== <span class="mi">0</span> $o b&#39;&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> h^$.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">AbEpiStable</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Tactics *)</span>

<span class="sd">(** The [fix_left] tactic is the key to smooth diagram chasing in an [IsAbEpiStable] category.  Given [lift : Lift ? ?]; we extract the lifted element using the provided name [d] and the proof it is a lift using the name [l].  Then we update all other generalized elements to have the same domain as [d].  We could also have a limited version of this tactic for an [IsEpiStable] category. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">fix_lift</span> lift d l :=
  <span class="kr">let</span> <span class="nv">P2</span> := <span class="kp">fresh</span> <span class="s2">&quot;P&quot;</span> <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">e</span> := <span class="kp">fresh</span> <span class="s2">&quot;e&quot;</span> <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">ee</span> := <span class="kp">fresh</span> <span class="s2">&quot;ee&quot;</span> <span class="kr">in</span>
  <span class="nb">destruct</span> lift <span class="kr">as</span> [P2 [[e ee] [d l]]];
  <span class="nb">unfold</span> hom_epi, <span class="s2">&quot;.1&quot;</span> <span class="kr">in</span> l;
  <span class="kr">match</span> <span class="kp">type of</span> e <span class="kr">with</span>
  | P2 $-&gt; <span class="nl">?P</span> =&gt;
      <span class="c">(* Adjust everything involving the domain [P] to have domain [P2]: *)</span>
      <span class="kp">repeat</span> <span class="kr">match goal with</span>
        | [ |- @Lift _ _ _ _ _ _ _ P <span class="nl">?c</span> <span class="nl">?f</span> ] =&gt; <span class="nb">apply</span> (lift_helper (e; ee)); <span class="nb">unfold</span> hom_epi, <span class="s2">&quot;.1&quot;</span>
        | [ |- @GpdHom (@Hom _ _ P _) _ _ _ _ _ ] =&gt; <span class="nb">apply</span> ee
        | [ |- @GpdHom (@elt _ _ P _) _ _ _ _ _ ] =&gt; <span class="nb">apply</span> ee
        | [ h : @GpdHom (@Hom _ _ P _) _ _ _ _ _ |- _ ] =&gt;
            <span class="nb">apply</span> (<span class="kr">fun</span> <span class="nv">w</span> =&gt; cat_prewhisker w e) <span class="kr">in</span> h
        <span class="kr">end</span>;
      <span class="nb">clear</span> ee;
      <span class="c">(* Reassociate all homotopies so that [e] is right against the map to its left: *)</span>
      <span class="nb">rewrite</span> ? (cat_assoc e);
      <span class="kp">repeat</span> <span class="kr">match goal with</span>
        <span class="c">(* Replace [(g $o f) $o e] with [g $o (f $o e)]: *)</span>
        | [ h : @GpdHom (@Hom _ _ P2 _) _ _ _ _ _ |- _ ] =&gt;
            <span class="nb">rewrite</span> ! (cat_assoc e) <span class="kr">in</span> h
        <span class="c">(* The above sometimes doesn&#39;t do all of the reassociating it could.  In the notation of the next line, we know that [B] and [D] are definitionally equal, but they might not be syntactically equal, and this can cause the rewrite to fail. So we coerce it to be of the right type. The previous line is thus redundant, but having it causes no slowdown, and it makes it clear what we are doing here. Similar issues may arise with the four other rewrites in this tactic, as well as the [cat_prewhisker].  An alternative to fixing them all would be to &quot;sanitize&quot; all [cat_comp] occurences to have the canonical objects as implicit arguments. *)</span>
        | [ h : <span class="kp">context</span> [ @cat_comp <span class="nl">?A</span> _ _ P2 P <span class="nl">?B</span> (@cat_comp <span class="nl">?A</span> _ _ P <span class="nl">?C</span> <span class="nl">?D</span> <span class="nl">?g</span> <span class="nl">?f</span>) e ] |- _ ] =&gt;
            <span class="nb">rewrite</span> (cat_assoc e f g : @cat_comp A _ _ P2 P B (@cat_comp A _ _ P C D g f) e $== _) <span class="kr">in</span> h
        <span class="c">(* Replace [(f - g) $o e] with [f $o e - (g $o e)]: *)</span>
        | [ h : @GpdHom (@Hom _ _ P2 _) _ _ _ _ _ |- _ ] =&gt;
            <span class="nb">rewrite</span> ! (precomp_op_inv e) <span class="kr">in</span> h
        <span class="c">(* Replace [(f + g) $o e] with [f $o e + g $o e]: *)</span>
        | [ h : @GpdHom (@Hom _ _ P2 _) _ _ _ _ _ |- _ ] =&gt;
            <span class="nb">rewrite</span> ! (precomp_op e) <span class="kr">in</span> h
        <span class="c">(* Replace [(-f) $o e] with [-(f $o e)]: *)</span>
        | [ h : @GpdHom (@Hom _ _ P2 _) _ _ _ _ _ |- _ ] =&gt;
            <span class="nb">rewrite</span> ! (precomp_inv e) <span class="kr">in</span> h
        <span class="kr">end</span>;
      <span class="c">(* At this point, all generalized elements [c] with domain [P] should only appear in the form [c $o e], so by generalizing [c $o e] we can replace them with elements with domain [P2]. *)</span>
      <span class="kp">repeat</span> <span class="kr">match goal with</span>
        | [ c : elt P <span class="nl">?C</span> |- _ ] =&gt;
            <span class="kr">let</span> <span class="nv">tmp</span> := <span class="kp">fresh</span> <span class="kr">in</span>
            <span class="nb">set</span> (tmp := c $o e : elt P2 _) <span class="kr">in</span> *;
            <span class="c">(* Unfortunately, [set] doesn&#39;t always find all occurrences, sometimes because the implicit arguments giving the domains/codomains of [c] and [e] are syntactically different. The next match handles this. *)</span>
            <span class="kp">repeat</span> <span class="kr">match goal with</span>
              | [ h : <span class="kp">context</span> [ <span class="nl">?f</span> $o e ] |- _ ] =&gt; <span class="nb">change</span> (f $o e) <span class="kr">with</span> tmp <span class="kr">in</span> h
            <span class="kr">end</span>;
            <span class="nb">clearbody</span> tmp; <span class="nb">clear</span> c; <span class="nb">rename</span> tmp <span class="nb">into</span> c
        <span class="kr">end</span>;
      <span class="c">(* We may also have expressions of the form [0 $o e], so we replace those with [0]. *)</span>
      <span class="nb">rewrite</span> ? (precomp_zero e) <span class="kr">in</span> *;
      <span class="c">(* Now we can get rid of [e] and [P]. Add [try] before these two lines when debugging. *)</span>
      <span class="nb">clear</span> e P;
      <span class="nb">rename</span> P2 <span class="nb">into</span> P
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Ideas for making the above tactic faster:</span>
<span class="sd">    - In localized tests, defining and using things like</span>
<span class="sd">        [pose (cp := fun c f g w =&gt; cat_prewhisker (c:=c) (f:=f) (g:=g) w e).]</span>
<span class="sd">      made things faster, maybe because typeclass inference of the wild category structure didn&#39;t need to be repeated.  But when done here, the overall speed does not improve.</span>
<span class="sd">    - In the last clause of the first [repeat match], we could add &quot;revert h&quot;.  Then instead of the second [repeat match] we would just need to do rewriting in the goal, without scanning the context for appropriate terms, using something like:</span>
<span class="sd">        [repeat progress rewrite ? (cat_assoc e), ? (precomp_op_inv e), ? (precomp_op e), ? (precomp_inv e).]</span>
<span class="sd">      For this to work, we need to extend setoid rewriting to handle [-&gt;].</span>
<span class="sd">   - Alternatively, in the second [repeat match], we could make the matches more specific to ensure that the lemmas we try apply to the situation.</span>
<span class="sd">*)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">elt_lift_epic</span> f a b l := fix_lift (elt_lift_epic f a) b l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;elt_lift_exact&quot;</span> <span class="kp">constr</span>(f) <span class="kp">constr</span>(g) <span class="kp">constr</span>(a) <span class="kn">ident</span>(b) <span class="kn">ident</span>(l) :=
  <span class="kr">let</span> <span class="nv">lift</span> := <span class="kp">fresh</span> <span class="kr">in</span>
  <span class="nb">unshelve</span> <span class="nb">epose proof</span> (lift := isabexact (f:=f) (g:=g) _ a _);
  <span class="kp">only</span> <span class="mi">2</span>: fix_lift lift b l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This allows us to insert a tactic [tac] before [fix_lift] is called.  Typically this is used to clear unneeded hypotheses from the context, which speeds up [fix_lift]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Tactic Notation</span> <span class="s2">&quot;elt_lift_exact&quot;</span> <span class="kp">constr</span>(f) <span class="kp">constr</span>(g) <span class="kp">constr</span>(a) <span class="kn">ident</span>(b) <span class="kn">ident</span>(l) <span class="s2">&quot;using&quot;</span> tactic3(tac) :=
  <span class="kr">let</span> <span class="nv">lift</span> := <span class="kp">fresh</span> <span class="kr">in</span>
  <span class="nb">unshelve</span> <span class="nb">epose proof</span> (lift := isabexact (f:=f) (g:=g) _ a _);
  <span class="kp">only</span> <span class="mi">2</span>: (tac; fix_lift lift b l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Other tactics that are convenient when diagram chasing. *)</span>

<span class="sd">(** Given a homotopy [h : a $o b = a&#39; $o b&#39;], use associativity to change [a $o (b $o c)] to [a&#39; $o (b&#39; $o c)]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">rewrite_with_assoc</span> h :=
  <span class="nb">rewrite</span> (cat_assoc_opp _ _ _ $@ cat_prewhisker h _ $@ cat_assoc _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Similar, with the other parenthesization. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">rewrite_with_assoc_opp</span> h :=
  <span class="nb">rewrite</span> (cat_assoc _ _ _ $@ cat_postwhisker _ h $@ cat_assoc_opp _ _ _).</span></span></pre>
</div>
</div></body>
</html>
