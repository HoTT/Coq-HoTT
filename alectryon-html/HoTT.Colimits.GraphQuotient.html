<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>GraphQuotient.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Tactics Basics.PathGroupoids Basics.Equivalences.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Types.<span class="kn">Universe</span> <span class="nf">Types</span>.Paths Types.Forall Types.Arrow Types.Sigma Cubical.DPath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Homotopy.IdentitySystems.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Quotient of a graph *)</span>

<span class="sd">(** ** Definition *)</span>

<span class="sd">(** The quotient of a graph is one of the simplest HITs that can be found in HoTT. It consists of a base type and a relation on it, and for every witness of a relation between two points of the type, a path.</span>

<span class="sd">We use graph quotients to build up all our other non-recursive HITs. Their simplicity means that we can easily prove results about them and generalise them to other HITs. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Unset Elimination Schemes</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">Export</span> GraphQuotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1"><span class="kn">Section</span> <span class="nf">GraphQuotient</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Trying to mask the absolute name <span class="s2">&quot;GraphQuotient.GraphQuotient&quot;</span>!
[masking-absolute-name,deprecated-since-<span class="mi">8</span>.<span class="mi">8</span>,deprecated,default]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Universes i j u.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Constraint</span> <span class="nf">i</span> &lt;= u, j &lt;= u.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>@{i}}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">Private <span class="kn">Inductive</span> <span class="nf">GraphQuotient</span> (<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>@{j}) : <span class="kt">Type</span>@{u} :=
  | gq : A -&gt; GraphQuotient R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> gq {R} a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>@{j}}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Axiom</span> <span class="nv">gqglue</span> : <span class="kr">forall</span> {<span class="nv">a</span> <span class="nv">b</span> : A},
    R a b -&gt; paths (@gq R a) (gq b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">GraphQuotient_ind</span>
    (<span class="nv">P</span> : GraphQuotient R -&gt; <span class="kt">Type</span>@{k})
    (<span class="nv">gq&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (gq a))
    (<span class="nv">gqglue&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> (<span class="nv">s</span> : R a b), gqglue s # gq&#39; a = gq&#39; b)
    : <span class="kr">forall</span> <span class="nv">x</span>, P x := <span class="kr">fun</span> <span class="nv">x</span> =&gt;
    <span class="kr">match</span> x <span class="kr">with</span>
    | gq a =&gt; <span class="kr">fun</span> <span class="nv">_</span> =&gt; gq&#39; a
    <span class="kr">end</span> gqglue&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="sd">(** Above we did a match with output type a function, and then outside of the match we provided the argument [gqglue&#39;].  If we instead end with [| gq a =&gt; gq&#39; a end.], the definition will not depend on [gqglue&#39;], which would be incorrect.  This is the idiom referred to in ../../test/bugs/github1758.v and github1759.v. *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Axiom</span> <span class="nv">GraphQuotient_ind_beta_gqglue</span>
  : <span class="kr">forall</span> (<span class="nv">P</span> : GraphQuotient R -&gt; <span class="kt">Type</span>@{k})
    (<span class="nv">gq&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (gq a))
    (<span class="nv">gqglue&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> (<span class="nv">s</span> : R a b), gqglue s # gq&#39; a = gq&#39; b)
    (<span class="nv">a</span> <span class="nv">b</span>: A) (<span class="nv">s</span> : R a b),
    apD (GraphQuotient_ind P gq&#39; gqglue&#39;) (gqglue s) = gqglue&#39; a b s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">GraphQuotient</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">GraphQuotient</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> gq {A R} a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2"><span class="kn">Definition</span> <span class="nf">GraphQuotient_rec</span> {<span class="nv">A</span> <span class="nv">R</span> <span class="nv">P</span>} (<span class="nv">c</span> : A -&gt; P) (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; c a = c b)
  : GraphQuotient R -&gt; P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4">srapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk5"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) (gqglue s)
  (<span class="nl">?gq&#39;</span> a) = <span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6"><span class="mi">1</span>: <span class="bp">exact</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) (gqglue s)
  (c a) = c b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7"><span class="nb">intros</span> a b s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) (gqglue s)
  (c a) = c b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport_const _ _ @ g a b s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8"><span class="kn">Definition</span> <span class="nf">GraphQuotient_rec_beta_gqglue</span> {<span class="nv">A</span> <span class="nv">R</span> <span class="nv">P</span>}
  (<span class="nv">c</span> : A -&gt; P) (<span class="nv">g</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; c a = c b)
  (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b)
  : ap (GraphQuotient_rec c g) (gqglue s) = g a b s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (GraphQuotient_rec c g) (gqglue s) = g a b s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (GraphQuotient_rec c g) (gqglue s) = g a b s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka"><span class="nb">unfold</span> GraphQuotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (GraphQuotient_ind (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) c
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b) =&gt;
      transport_const (gqglue s) (c a) @ g a b s))
  (gqglue s) = g a b s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb"><span class="nb">refine</span> (cancelL _ _ _ _ ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal0</span> @
ap
  (GraphQuotient_ind (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) c
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b) =&gt;
      transport_const (gqglue s) (c a) @ g a b s))
  (gqglue s) = <span class="nl">?Goal0</span> @ g a b s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc"><span class="nb">refine</span> ((apD_const _ _)^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; c a = c b</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apD
  (GraphQuotient_ind (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) c
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b) =&gt;
      transport_const (gqglue s) (c a) @ g a b s))
  (gqglue s) =
transport_const (gqglue s)
  (GraphQuotient_ind (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; P) c
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b) =&gt;
      transport_const (gqglue s) (c a) @ g a b s)
     (gq a)) @ g a b s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply GraphQuotient_ind_beta_gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Descent *)</span>

<span class="sd">(** We study &quot;equifibrant&quot; type families over a graph [A], with edges indexed by [R].  By univalence, the descent property tells us that these type families correspond to type families over the graph quotient, and we obtain an induction principle for such type families.  Dependent descent data over some particular descent data are &quot;equifibrant&quot; type families over this descent data.  The &quot;equifibrancy&quot; is only taken over the graph [A] and [R], but there is an extra level of dependency coming from the descent data.  In this case, we obtain an induction and recursion principle, but only with a computation rule for the recursion principle.</span>

<span class="sd">The theory of descent is interesting to consider in itself.  However, we will use it as a means to structure the code, and to obtain induction and recursion principles that are valuable in proving the flattening lemma, and characterizing path spaces.  Thus we will gloss over the bigger picture, and not consider equivalences of descent data, nor homotopies of their sections.  We will also not elaborate on uniqueness of the induced families.</span>

<span class="sd">It&#39;s possible to prove the results in the Descent, Flattening and Paths Sections without univalence, by replacing all equivalences with paths, but in practice these results will be used with equivalences as input, making the form below more convenient.  See https://github.com/HoTT/Coq-HoTT/pull/2147#issuecomment-2521570830 for further information. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Descent</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Descent data over a graph [A] and [R] is an &quot;equifibrant&quot; or &quot;cartesian&quot; type family [gqd_fam : A -&gt; Type].  If [a b : A] are related by [r : R a b], then the fibers [gqd_fam a] and [gqd_fam b] are equivalent, witnessed by [gqd_e]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">gqDescent</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>} := {
    gqd_fam (a : A) : <span class="kt">Type</span>;
    gqd_e {a b : A} (r : R a b) : gqd_fam a &lt;~&gt; gqd_fam b
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> gqDescent {A} R.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Let [A] and [R] be a graph. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Descent data induces a type family over [GraphQuotient R]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd"><span class="kn">Definition</span> <span class="nf">fam_gqdescent</span> (<span class="nv">Pe</span> : gqDescent R)
    : GraphQuotient R -&gt; <span class="kt">Type</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkf">snapply (GraphQuotient_rec (gqd_fam Pe)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; gqd_fam Pe a = gqd_fam Pe b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk10"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqd_fam Pe a = gqd_fam Pe b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (path_universe_uncurried (gqd_e Pe r)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A type family over [GraphQuotient R] induces descent data. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk11"><span class="kn">Definition</span> <span class="nf">gqdescent_fam</span> (<span class="nv">P</span> : GraphQuotient R -&gt; <span class="kt">Type</span>) : gqDescent R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDescent R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDescent R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk13">snapply Build_gqDescent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk14"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; <span class="nl">?gqd_fam</span> a &lt;~&gt; <span class="nl">?gqd_fam</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (P o gq).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk16">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; (P o gq) a &lt;~&gt; (P o gq) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk17"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>GraphQuotient R -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(P o gq) a &lt;~&gt; (P o gq) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_transport P (gqglue r)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Transporting over [fam_gqdescent] along [gqglue r] is given by [gqd_e]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk18"><span class="kn">Definition</span> <span class="nf">transport_fam_gqdescent_gqglue</span>
    (<span class="nv">Pe</span> : gqDescent R) {<span class="nv">a</span> <span class="nv">b</span> : A} (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a)
    : transport (fam_gqdescent Pe) (gqglue r) pa = gqd_e Pe r pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) (gqglue r) pa =
gqd_e Pe r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) (gqglue r) pa =
gqd_e Pe r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1a">napply transport_path_universe&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (fam_gqdescent Pe) (gqglue r) =
path_universe (gqd_e Pe r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">napply GraphQuotient_rec_beta_gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A section on the descent data is a fiberwise section that respects the equivalences. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">gqDescentSection</span> {<span class="nv">Pe</span> : gqDescent R} := {
    gqds_sect (a : A) : gqd_fam Pe a;
    gqds_e {a b : A} (r : R a b)
      : gqd_e Pe r (gqds_sect a) = gqds_sect b
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> gqDescentSection Pe : <span class="kn">clear implicits</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A descent section induces a genuine section of [fam_gqdescent Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1b"><span class="kn">Definition</span> <span class="nf">gqdescent_ind</span> {<span class="nv">Pe</span> : gqDescent R}
    (<span class="nv">f</span> : gqDescentSection Pe)
    : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R), fam_gqdescent Pe x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDescentSection Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDescentSection Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1d">snapply (GraphQuotient_ind _ (gqds_sect f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDescentSection Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport (fam_gqdescent Pe) (gqglue s)
  (gqds_sect f a) = gqds_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1e"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDescentSection Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) (gqglue r)
  (gqds_sect f a) = gqds_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport_fam_gqdescent_gqglue Pe r _ @ gqds_e f r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We record its computation rule *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">gqdescent_ind_beta_gqglue</span> {<span class="nv">Pe</span> : gqDescent R}
    (<span class="nv">f</span> : gqDescentSection Pe) {<span class="nv">a</span> <span class="nv">b</span> : A} (<span class="nv">r</span> : R a b)
    : apD (gqdescent_ind f) (gqglue r) = transport_fam_gqdescent_gqglue Pe r _ @ gqds_e f r
    := GraphQuotient_ind_beta_gqglue _ (gqds_sect f) _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Dependent descent data over descent data [Pe : gqDescent R] consists of a type family [gqdd_fam : forall (a : A), gqd_fam Pe a -&gt; Type] together with coherences [gqdd_e r pa]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">gqDepDescent</span> {<span class="nv">Pe</span> : gqDescent R} := {
    gqdd_fam (a : A) (pa : gqd_fam Pe a) : <span class="kt">Type</span>;
    gqdd_e {a b : A} (r :  R a b) (pa : gqd_fam Pe a)
      : gqdd_fam a pa &lt;~&gt; gqdd_fam b (gqd_e Pe r pa)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> gqDepDescent Pe : <span class="kn">clear implicits</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A dependent type family over [fam_gqdescent Pe] induces dependent descent data over [Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk1f"><span class="kn">Definition</span> <span class="nf">gqdepdescent_fam</span> {<span class="nv">Pe</span> : gqDescent R}
    (<span class="nv">Q</span> : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R), (fam_gqdescent Pe) x -&gt; <span class="kt">Type</span>)
    : gqDepDescent Pe.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDepDescent Pe</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk20"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDepDescent Pe</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk21">snapply Build_gqDepDescent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, gqd_fam Pe a -&gt; <span class="kt">Type</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk22"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
<span class="nl">?gqdd_fam</span> a pa &lt;~&gt; <span class="nl">?gqdd_fam</span> b (gqd_e Pe r pa)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk23">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, gqd_fam Pe a -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk24"><span class="nb">intro</span> a; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqd_fam Pe a -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Q (gq a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk25">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Q (gq a0) : gqd_fam Pe a0 -&gt; <span class="kt">Type</span>) a pa &lt;~&gt;
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; Q (gq a0) : gqd_fam Pe a0 -&gt; <span class="kt">Type</span>) b
  (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk26"><span class="nb">intros</span> a b r pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; Q (gq a) : gqd_fam Pe a -&gt; <span class="kt">Type</span>) a pa &lt;~&gt;
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; Q (gq a) : gqd_fam Pe a -&gt; <span class="kt">Type</span>) b
  (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_transportDD (fam_gqdescent Pe) Q
               (gqglue r) (transport_fam_gqdescent_gqglue Pe r pa)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Dependent descent data over [Pe] induces a dependent type family over [fam_gqdescent Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk27"><span class="kn">Definition</span> <span class="nf">fam_gqdepdescent</span> {<span class="nv">Pe</span> : gqDescent R} (<span class="nv">Qe</span> : gqDepDescent Pe)
    : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R), (fam_gqdescent Pe x) -&gt; <span class="kt">Type</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x -&gt; <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk29">snapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt; fam_gqdescent Pe x -&gt; <span class="kt">Type</span>)
  (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk2a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   fam_gqdescent Pe x -&gt; <span class="kt">Type</span>) (gqglue s) (<span class="nl">?gq&#39;</span> a) =
<span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt; fam_gqdescent Pe x -&gt; <span class="kt">Type</span>)
  (gq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (gqdd_fam Qe).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   fam_gqdescent Pe x -&gt; <span class="kt">Type</span>) (gqglue s)
  (gqdd_fam Qe a) = gqdd_fam Qe b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2d"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   fam_gqdescent Pe x -&gt; <span class="kt">Type</span>) (gqglue r)
  (gqdd_fam Qe a) = gqdd_fam Qe b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2e">napply (moveR_transport_p _ (gqglue r)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdd_fam Qe a =
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   fam_gqdescent Pe x -&gt; <span class="kt">Type</span>) (gqglue r)^
  (gqdd_fam Qe b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk2f">funext pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdd_fam Qe a pa =
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   fam_gqdescent Pe x -&gt; <span class="kt">Type</span>) (gqglue r)^
  (gqdd_fam Qe b) pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk30">rhs napply transport_arrow_toconst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdd_fam Qe a pa =
gqdd_fam Qe b
  (transport (fam_gqdescent Pe) ((gqglue r)^)^ pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk31">rhs nrefine (ap (gqdd_fam Qe b) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdd_fam Qe a pa = gqdd_fam Qe b <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk32"><hr></label><div class="goal-conclusion">transport (fam_gqdescent Pe) ((gqglue r)^)^ pa = <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk33">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdd_fam Qe a pa = gqdd_fam Qe b <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (path_universe (gqdd_e Qe r pa)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk34">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) ((gqglue r)^)^ pa =
gqd_e Pe r pa</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk35">lhs napply (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; (transport _ x _)) (inv_V (gqglue r))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Qe</var><span class="hyp-type"><b>: </b><span>gqDepDescent Pe</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) (gqglue r) pa =
gqd_e Pe r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport_fam_gqdescent_gqglue _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A section of dependent descent data [Qe : gqDepDescent Pe] is a fiberwise section [gqdds_sect], together with coherences [gqdd_e]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">gqDepDescentSection</span> {<span class="nv">Pe</span> : gqDescent R} {<span class="nv">Qe</span> : gqDepDescent Pe} := {
    gqdds_sect (a : A) (pa : gqd_fam Pe a) : gqdd_fam Qe a pa;
    gqdds_e {a b : A} (r : R a b) (pa : gqd_fam Pe a)
      : gqdd_e Qe r pa (gqdds_sect a pa) = gqdds_sect b (gqd_e Pe r pa)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> gqDepDescentSection {Pe} Qe.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** A dependent descent section induces a genuine section over the total space of [fam_gqdescent Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk36"><span class="kn">Definition</span> <span class="nf">gqdepdescent_ind</span> {<span class="nv">Pe</span> : gqDescent R}
    {<span class="nv">Q</span> : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R), (fam_gqdescent Pe) x -&gt; <span class="kt">Type</span>}
    (<span class="nv">f</span> : gqDepDescentSection (gqdepdescent_fam Q))
    : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R) (<span class="nv">px</span> : fam_gqdescent Pe x), Q x px.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R)
(<span class="nv">px</span> : fam_gqdescent Pe x), Q x px</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R)
(<span class="nv">px</span> : fam_gqdescent Pe x), Q x px</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk38">napply (GraphQuotient_ind _ (gqdds_sect f) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   <span class="kr">forall</span> <span class="nv">px</span> : fam_gqdescent Pe x, Q x px) (gqglue s)
  (gqdds_sect f a) = gqdds_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk39"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   <span class="kr">forall</span> <span class="nv">px</span> : fam_gqdescent Pe x, Q x px) (gqglue r)
  (gqdds_sect f a) = gqdds_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3a"><span class="nb">apply</span> dpath_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y1</span> : fam_gqdescent Pe (gq a),
transportD (fam_gqdescent Pe) Q (gqglue r) y1
  (gqdds_sect f a y1) =
gqdds_sect f b
  (transport (fam_gqdescent Pe) (gqglue r) y1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3b"><span class="nb">intro</span> pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transportD (fam_gqdescent Pe) Q (gqglue r) pa
  (gqdds_sect f a pa) =
gqdds_sect f b
  (transport (fam_gqdescent Pe) (gqglue r) pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3c"><span class="nb">apply</span> (equiv_inj (transport (Q (gq b)) (transport_fam_gqdescent_gqglue Pe r pa))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (Q (gq b))
  (transport_fam_gqdescent_gqglue Pe r pa)
  (transportD (fam_gqdescent Pe) Q (gqglue r) pa
     (gqdds_sect f a pa)) =
transport (Q (gq b))
  (transport_fam_gqdescent_gqglue Pe r pa)
  (gqdds_sect f b
     (transport (fam_gqdescent Pe) (gqglue r) pa))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3d">rhs <span class="bp">exact</span> (apD (gqdds_sect f b) (transport_fam_gqdescent_gqglue Pe r pa)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R,
fam_gqdescent Pe x -&gt; <span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentSection (gqdepdescent_fam Q)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (Q (gq b))
  (transport_fam_gqdescent_gqglue Pe r pa)
  (transportD (fam_gqdescent Pe) Q (gqglue r) pa
     (gqdds_sect f a pa)) =
gqdds_sect f b (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (gqdds_e f r pa).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The data for a section into a constant type family. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">gqDepDescentConstSection</span> {<span class="nv">Pe</span> : gqDescent R} {<span class="nv">Q</span> : <span class="kt">Type</span>} := {
    gqddcs_sect (a : A) (pa : gqd_fam Pe a) : Q;
    gqddcs_e {a b : A} (r : R a b) (pa : gqd_fam Pe a)
      : gqddcs_sect a pa = gqddcs_sect b (gqd_e Pe r pa)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Arguments</span> gqDepDescentConstSection Pe Q : <span class="kn">clear implicits</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** The data for a section of a constant family induces a section over the total space of [fam_gqdescent Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3e"><span class="kn">Definition</span> <span class="nf">gqdepdescent_rec</span> {<span class="nv">Pe</span> : gqDescent R} {<span class="nv">Q</span> : <span class="kt">Type</span>}
    (<span class="nv">f</span> : gqDepDescentConstSection Pe Q)
    : <span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R), fam_gqdescent Pe x -&gt; Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x -&gt; Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk3f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : GraphQuotient R, fam_gqdescent Pe x -&gt; Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk40">snapply (GraphQuotient_ind _ (gqddcs_sect f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt; fam_gqdescent Pe x -&gt; Q)
  (gqglue s) (gqddcs_sect f a) = gqddcs_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk41"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt; fam_gqdescent Pe x -&gt; Q)
  (gqglue r) (gqddcs_sect f a) = gqddcs_sect f b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk42">napply dpath_arrow.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y1</span> : fam_gqdescent Pe (gq a),
transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
  (gqddcs_sect f a y1) =
gqddcs_sect f b
  (transport (fam_gqdescent Pe) (gqglue r) y1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk43"><span class="nb">intro</span> pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
  (gqddcs_sect f a pa) =
gqddcs_sect f b
  (transport (fam_gqdescent Pe) (gqglue r) pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk44">lhs napply transport_const.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqddcs_sect f a pa =
gqddcs_sect f b
  (transport (fam_gqdescent Pe) (gqglue r) pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk45">rhs napply (ap _ (transport_fam_gqdescent_gqglue Pe r pa)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe (gq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqddcs_sect f a pa = gqddcs_sect f b (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (gqddcs_e f r pa).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Here is the computation rule on paths. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk46"><span class="kn">Definition</span> <span class="nf">gqdepdescent_rec_beta_gqglue</span> {<span class="nv">Pe</span> : gqDescent R} {<span class="nv">Q</span> : <span class="kt">Type</span>}
    (<span class="nv">f</span> : gqDepDescentConstSection Pe Q)
    {<span class="nv">a</span> <span class="nv">b</span> : A} {<span class="nv">pa</span> : gqd_fam Pe a} {<span class="nv">pb</span> : gqd_fam Pe b} (<span class="nv">r</span> : R a b) (<span class="nv">pr</span> : gqd_e Pe r pa = pb)
    : ap (sig_rec (gqdepdescent_rec f)) (path_sigma _ (gq a; pa) (gq b; pb) (gqglue r) (transport_fam_gqdescent_gqglue Pe r pa @ pr))
      = gqddcs_e f r pa @ ap (gqddcs_sect f b) pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (sig_rec (gqdepdescent_rec f))
  (path_sigma (fam_gqdescent Pe) (gq a; pa) (gq b; pb)
     (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa @ pr)) =
gqddcs_e f r pa @ ap (gqddcs_sect f b) pr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk47"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (sig_rec (gqdepdescent_rec f))
  (path_sigma (fam_gqdescent Pe) (gq a; pa) (gq b; pb)
     (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa @ pr)) =
gqddcs_e f r pa @ ap (gqddcs_sect f b) pr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk48"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (sig_rec (gqdepdescent_rec f))
  (path_sigma (fam_gqdescent Pe) (gq a; pa) (gq b; pb)
     (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; pr)) =
gqddcs_e f r pa
@&#39; ap (gqddcs_sect f b) pr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk49"><span class="nb">destruct</span> pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (sig_rec (gqdepdescent_rec f))
  (path_sigma (fam_gqdescent Pe) (gq a; pa)
     (gq b; gqd_e Pe r pa) (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; <span class="mi">1</span>)) =
gqddcs_e f r pa
@&#39; ap (gqddcs_sect f b) <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4a">rhs napply concat_p1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (sig_rec (gqdepdescent_rec f))
  (path_sigma (fam_gqdescent Pe) (gq a; pa)
     (gq b; gqd_e Pe r pa) (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; <span class="mi">1</span>)) = gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4b">lhs napply ap_sig_rec_path_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_const (gqglue r)
   (gqdepdescent_rec f (gq a) pa))^
@&#39; (ap
      (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
       transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
         (gqglue r) (gqdepdescent_rec f (gq a) x))
      (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ap10 (apD (gqdepdescent_rec f) (gqglue r))
     (transport (fam_gqdescent Pe) (gqglue r) pa)
@&#39; ap (gqdepdescent_rec f (gq b))
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; <span class="mi">1</span>) = gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4c">lhs napply (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; _ (ap10 x _) @ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apD (gqdepdescent_rec f) (gqglue r) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk4d"><hr></label><div class="goal-conclusion">(transport_const (gqglue r)
   (gqdepdescent_rec f (gq a) pa))^
@&#39; (ap
      (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
       transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
         (gqglue r) (gqdepdescent_rec f (gq a) x))
      (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ap10 <span class="nl">?Goal</span>
     (transport (fam_gqdescent Pe) (gqglue r) pa)
@&#39; ap (gqdepdescent_rec f (gq b))
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; <span class="mi">1</span>) = gqddcs_e f r pa</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4e"><span class="mi">1</span>: napply GraphQuotient_ind_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_const (gqglue r)
   (gqdepdescent_rec f (gq a) pa))^
@&#39; (ap
      (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
       transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
         (gqglue r) (gqdepdescent_rec f (gq a) x))
      (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ap10
     (dpath_arrow (fam_gqdescent Pe)
        (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
        (gqddcs_sect f a) (gqddcs_sect f b)
        (<span class="kr">fun</span> <span class="nv">pa</span> : fam_gqdescent Pe (gq a) =&gt;
         transport_const (gqglue r)
           (gqddcs_sect f a pa)
         @&#39; (gqddcs_e f r pa
             @&#39; (ap (gqddcs_sect f b)
                   (transport_fam_gqdescent_gqglue Pe
                      r pa))^)))
     (transport (fam_gqdescent Pe) (gqglue r) pa)
@&#39; ap (gqdepdescent_rec f (gq b))
     (transport_fam_gqdescent_gqglue Pe r pa
      @&#39; <span class="mi">1</span>) = gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk4f"><span class="kp">do</span> <span class="mi">3</span> lhs napply concat_pp_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_const (gqglue r)
   (gqdepdescent_rec f (gq a) pa))^
@&#39; ((ap
       (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
        transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
          (gqglue r) (gqdepdescent_rec f (gq a) x))
       (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
    @&#39; ((transport_arrow (gqglue r)
           (gqdepdescent_rec f (gq a))
           (transport (fam_gqdescent Pe) (gqglue r) pa))^
        @&#39; (ap10
              (dpath_arrow (fam_gqdescent Pe)
                 (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
                 (gqglue r) (gqddcs_sect f a)
                 (gqddcs_sect f b)
                 (<span class="kr">fun</span> <span class="nv">pa</span> : fam_gqdescent Pe (gq a) =&gt;
                  transport_const (gqglue r)
                    (gqddcs_sect f a pa)
                  @&#39; (gqddcs_e f r pa
                      @&#39; (ap (gqddcs_sect f b)
                            (transport_fam_gqdescent_gqglue
                               Pe r pa))^)))
              (transport (fam_gqdescent Pe) (gqglue r)
                 pa)
            @&#39; ap (gqdepdescent_rec f (gq b))
                 (transport_fam_gqdescent_gqglue Pe r
                    pa
                  @&#39; <span class="mi">1</span>)))) = gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk50"><span class="nb">apply</span> moveR_Vp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
    transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
      (gqglue r) (gqdepdescent_rec f (gq a) x))
   (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ((transport_arrow (gqglue r)
       (gqdepdescent_rec f (gq a))
       (transport (fam_gqdescent Pe) (gqglue r) pa))^
    @&#39; (ap10
          (dpath_arrow (fam_gqdescent Pe)
             (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
             (gqddcs_sect f a) (gqddcs_sect f b)
             (<span class="kr">fun</span> <span class="nv">pa</span> : fam_gqdescent Pe (gq a) =&gt;
              transport_const (gqglue r)
                (gqddcs_sect f a pa)
              @&#39; (gqddcs_e f r pa
                  @&#39; (ap (gqddcs_sect f b)
                        (transport_fam_gqdescent_gqglue
                           Pe r pa))^)))
          (transport (fam_gqdescent Pe) (gqglue r) pa)
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa
              @&#39; <span class="mi">1</span>))) =
transport_const (gqglue r)
  (gqdepdescent_rec f (gq a) pa)
@&#39; gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk51">lhs nrefine (<span class="mi">1</span> @@ (<span class="mi">1</span> @@ (_ @@ <span class="mi">1</span>))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap10
  (dpath_arrow (fam_gqdescent Pe)
     (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
     (gqddcs_sect f a) (gqddcs_sect f b)
     (<span class="kr">fun</span> <span class="nv">pa</span> : fam_gqdescent Pe (gq a) =&gt;
      transport_const (gqglue r) (gqddcs_sect f a pa)
      @&#39; (gqddcs_e f r pa
          @&#39; (ap (gqddcs_sect f b)
                (transport_fam_gqdescent_gqglue Pe r
                   pa))^)))
  (transport (fam_gqdescent Pe) (gqglue r) pa) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk52" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk52"><hr></label><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
    transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
      (gqglue r) (gqdepdescent_rec f (gq a) x))
   (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ((transport_arrow (gqglue r)
       (gqdepdescent_rec f (gq a))
       (transport (fam_gqdescent Pe) (gqglue r) pa))^
    @&#39; (<span class="nl">?Goal</span>
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa
              @&#39; <span class="mi">1</span>))) =
transport_const (gqglue r)
  (gqdepdescent_rec f (gq a) pa)
@&#39; gqddcs_e f r pa</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk53"><span class="mi">1</span>: napply (ap10_dpath_arrow (fam_gqdescent Pe) (<span class="kr">fun</span> <span class="nv">_</span> =&gt; Q) (gqglue r)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
    transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
      (gqglue r) (gqdepdescent_rec f (gq a) x))
   (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; ((transport_arrow (gqglue r)
       (gqdepdescent_rec f (gq a))
       (transport (fam_gqdescent Pe) (gqglue r) pa))^
    @&#39; (transport_arrow (gqglue r)
          (gqdepdescent_rec f (gq a))
          (transport (fam_gqdescent Pe) (gqglue r) pa)
        @&#39; ap
             (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
              transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
                (gqglue r)
                (gqdepdescent_rec f (gq a) x))
             (transport_Vp (fam_gqdescent Pe)
                (gqglue r) pa)
        @&#39; (<span class="kr">fun</span> <span class="nv">pa</span> : fam_gqdescent Pe (gq a) =&gt;
            transport_const (gqglue r)
              (gqddcs_sect f a pa)
            @&#39; (gqddcs_e f r pa
                @&#39; (ap (gqddcs_sect f b)
                      (transport_fam_gqdescent_gqglue
                         Pe r pa))^)) pa
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa
              @&#39; <span class="mi">1</span>))) =
transport_const (gqglue r)
  (gqdepdescent_rec f (gq a) pa)
@&#39; gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk54">lhs nrefine (<span class="mi">1</span> @@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_arrow (gqglue r)
   (gqdepdescent_rec f (gq a))
   (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa)
    @&#39; ap
         (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
          transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
            (gqglue r) (gqdepdescent_rec f (gq a) x))
         (transport_Vp (fam_gqdescent Pe) (gqglue r)
            pa)
    @&#39; (transport_const (gqglue r)
          (gqddcs_sect f a pa)
        @&#39; (gqddcs_e f r pa
            @&#39; (ap (gqddcs_sect f b)
                  (transport_fam_gqdescent_gqglue Pe r
                     pa))^))
    @&#39; ap (gqdepdescent_rec f (gq b))
         (transport_fam_gqdescent_gqglue Pe r pa
          @&#39; <span class="mi">1</span>)) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk55"><hr></label><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
    transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
      (gqglue r) (gqdepdescent_rec f (gq a) x))
   (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; <span class="nl">?Goal</span> =
transport_const (gqglue r)
  (gqdepdescent_rec f (gq a) pa)
@&#39; gqddcs_e f r pa</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk56">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_arrow (gqglue r)
   (gqdepdescent_rec f (gq a))
   (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa)
    @&#39; ap
         (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
          transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
            (gqglue r) (gqdepdescent_rec f (gq a) x))
         (transport_Vp (fam_gqdescent Pe) (gqglue r)
            pa)
    @&#39; (transport_const (gqglue r)
          (gqddcs_sect f a pa)
        @&#39; (gqddcs_e f r pa
            @&#39; (ap (gqddcs_sect f b)
                  (transport_fam_gqdescent_gqglue Pe r
                     pa))^))
    @&#39; ap (gqdepdescent_rec f (gq b))
         (transport_fam_gqdescent_gqglue Pe r pa
          @&#39; <span class="mi">1</span>)) = <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk57">lhs napply (<span class="mi">1</span> @@ concat_pp_p _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_arrow (gqglue r)
   (gqdepdescent_rec f (gq a))
   (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa)
    @&#39; ap
         (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
          transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
            (gqglue r) (gqdepdescent_rec f (gq a) x))
         (transport_Vp (fam_gqdescent Pe) (gqglue r)
            pa)
    @&#39; (transport_const (gqglue r)
          (gqddcs_sect f a pa)
        @&#39; (gqddcs_e f r pa
            @&#39; (ap (gqddcs_sect f b)
                  (transport_fam_gqdescent_gqglue Pe r
                     pa))^)
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa
              @&#39; <span class="mi">1</span>))) = <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk58">lhs napply (<span class="mi">1</span> @@ concat_pp_p _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(transport_arrow (gqglue r)
   (gqdepdescent_rec f (gq a))
   (transport (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (transport_arrow (gqglue r)
      (gqdepdescent_rec f (gq a))
      (transport (fam_gqdescent Pe) (gqglue r) pa)
    @&#39; (ap
          (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
           transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
             (gqglue r) (gqdepdescent_rec f (gq a) x))
          (transport_Vp (fam_gqdescent Pe) (gqglue r)
             pa)
        @&#39; (transport_const (gqglue r)
              (gqddcs_sect f a pa)
            @&#39; (gqddcs_e f r pa
                @&#39; (ap (gqddcs_sect f b)
                      (transport_fam_gqdescent_gqglue
                         Pe r pa))^)
            @&#39; ap (gqdepdescent_rec f (gq b))
                 (transport_fam_gqdescent_gqglue Pe r
                    pa
                  @&#39; <span class="mi">1</span>)))) = <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk59">lhs napply concat_V_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
     (gqdepdescent_rec f (gq a) x))
  (transport_Vp (fam_gqdescent Pe) (gqglue r) pa)
@&#39; (transport_const (gqglue r) (gqddcs_sect f a pa)
    @&#39; (gqddcs_e f r pa
        @&#39; (ap (gqddcs_sect f b)
              (transport_fam_gqdescent_gqglue Pe r pa))^)
    @&#39; ap (gqdepdescent_rec f (gq b))
         (transport_fam_gqdescent_gqglue Pe r pa
          @&#39; <span class="mi">1</span>)) = <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5a">lhs napply (<span class="mi">1</span> @@ concat_pp_p _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
     (gqdepdescent_rec f (gq a) x))
  (transport_Vp (fam_gqdescent Pe) (gqglue r) pa)
@&#39; (transport_const (gqglue r) (gqddcs_sect f a pa)
    @&#39; (gqddcs_e f r pa
        @&#39; (ap (gqddcs_sect f b)
              (transport_fam_gqdescent_gqglue Pe r pa))^
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa
              @&#39; <span class="mi">1</span>))) = <span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5b"><span class="nb">rewrite</span> concat_p1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
   transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q) (gqglue r)
     (gqdepdescent_rec f (gq a) x))
  (transport_Vp (fam_gqdescent Pe) (gqglue r) pa)
@&#39; (transport_const (gqglue r) (gqddcs_sect f a pa)
    @&#39; (gqddcs_e f r pa
        @&#39; (ap (gqddcs_sect f b)
              (transport_fam_gqdescent_gqglue Pe r pa))^
        @&#39; ap (gqdepdescent_rec f (gq b))
             (transport_fam_gqdescent_gqglue Pe r pa))) =
<span class="nl">?Goal</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="mi">1</span> @@ (<span class="mi">1</span> @@ concat_pV_p _ _)).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>gqDepDescentConstSection Pe Q</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
    transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
      (gqglue r) (gqdepdescent_rec f (gq a) x))
   (transport_Vp (fam_gqdescent Pe) (gqglue r) pa))^
@&#39; (ap
      (<span class="kr">fun</span> <span class="nv">x</span> : fam_gqdescent Pe (gq a) =&gt;
       transport (<span class="kr">fun</span> <span class="nv">_</span> : GraphQuotient R =&gt; Q)
         (gqglue r) (gqdepdescent_rec f (gq a) x))
      (transport_Vp (fam_gqdescent Pe) (gqglue r) pa)
    @&#39; (transport_const (gqglue r)
          (gqddcs_sect f a pa)
        @&#39; gqddcs_e f r pa)) =
transport_const (gqglue r)
  (gqdepdescent_rec f (gq a) pa)
@&#39; gqddcs_e f r pa</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">napply concat_V_pp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Descent</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The flattening lemma *)</span>

<span class="sd">(** We saw above that given descent data [Pe] over a graph [A] and [R] we obtained a type family [fam_gqdescent Pe] over the graph quotient.  The flattening lemma describes the total space [sig (fam_gqdescent Pe)] of this type family as a graph quotient of [sig (gqd_fam Pe)] by a certain relation.  This follows from the work above, which shows that [sig (fam_gqdescent Pe)] has the same universal property as this graph quotient. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Flattening</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence} {A : <span class="kt">Type</span>} {R : A -&gt; A -&gt; <span class="kt">Type</span>} (Pe : gqDescent R).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** We mimic the constructors of [GraphQuotient] for the total space.  Here is the point constructor, in curried form. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">flatten_gqd</span> {<span class="nv">a</span> : A} (<span class="nv">pa</span> : gqd_fam Pe a) : sig (fam_gqdescent Pe)
    := (gq a; pa).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** And here is the path constructor. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5d"><span class="kn">Definition</span> <span class="nf">flatten_gqd_glue</span> {<span class="nv">a</span> <span class="nv">b</span> : A} (<span class="nv">r</span> : R a b)
    {<span class="nv">pa</span> : gqd_fam Pe a} {<span class="nv">pb</span> : gqd_fam Pe b} (<span class="nv">pr</span> : gqd_e Pe r pa = pb)
    : flatten_gqd pa = flatten_gqd pb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">flatten_gqd pa = flatten_gqd pb</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">flatten_gqd pa = flatten_gqd pb</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk5f">snapply path_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(flatten_gqd pa).<span class="mi">1</span> = (flatten_gqd pb).<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk60" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk60"><hr></label><div class="goal-conclusion">transport (fam_gqdescent Pe) <span class="nl">?p</span> (flatten_gqd pa).<span class="mi">2</span> =
(flatten_gqd pb).<span class="mi">2</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk61">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(flatten_gqd pa).<span class="mi">1</span> = (flatten_gqd pb).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (fam_gqdescent Pe) (gqglue r)
  (flatten_gqd pa).<span class="mi">2</span> = (flatten_gqd pb).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk63">lhs napply transport_fam_gqdescent_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>pb</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r pa = pb</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqd_e Pe r (flatten_gqd pa).<span class="mi">2</span> = (flatten_gqd pb).<span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> pr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Now that we&#39;ve shown that [fam_gqdescent Pe] acts like a [GraphQuotient] of [sig (gqd_fam Pe)] by an appropriate relation, we can use this to prove the flattening lemma.  The maps back and forth are very easy so this could almost be a formal consequence of the induction principle. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk64"><span class="kn">Lemma</span> <span class="nf">equiv_gqd_flatten</span> : sig (fam_gqdescent Pe) &lt;~&gt;
    GraphQuotient (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt; {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; fam_gqdescent Pe x} &lt;~&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk65"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; fam_gqdescent Pe x} &lt;~&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk66">snapply equiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; fam_gqdescent Pe x} -&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk67"><hr></label><div class="goal-conclusion">GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) -&gt;
{x : _ &amp; fam_gqdescent Pe x}</div></blockquote><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk68" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk68"><hr></label><div class="goal-conclusion"><span class="nl">?f</span> o <span class="nl">?g</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk69"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o <span class="nl">?f</span> == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; fam_gqdescent Pe x} -&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6b">snapply sig_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">proj1</span> : GraphQuotient R,
fam_gqdescent Pe proj1 -&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6c">snapply gqdepdescent_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDepDescentConstSection Pe
  (GraphQuotient
     (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6d">snapply Build_gqDepDescentConstSection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
gqd_fam Pe a -&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a0.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk6e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk6e"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
<span class="nl">?gqddcs_sect</span> a pa = <span class="nl">?gqddcs_sect</span> b (gqd_e Pe r pa)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk6f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
gqd_fam Pe a -&gt;
GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a0.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b.<span class="mi">2</span>})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">x</span> =&gt; gq (a; x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk70">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
(<span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x</span> : gqd_fam Pe a0) =&gt; gq (a0; x)) a pa =
(<span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x</span> : gqd_fam Pe a0) =&gt; gq (a0; x)) b
  (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk71"><span class="nb">intros</span> a b r pa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x)) a pa =
(<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x)) b
  (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> gqglue; <span class="bp">exact</span> (r; <span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk72">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) -&gt;
{x : _ &amp; fam_gqdescent Pe x}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk73">snapply GraphQuotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; gqd_fam Pe x} -&gt; {x : _ &amp; fam_gqdescent Pe x}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk74" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk74"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x},
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
 {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b -&gt;
<span class="nl">?c</span> a = <span class="nl">?c</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk75">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; gqd_fam Pe x} -&gt; {x : _ &amp; fam_gqdescent Pe x}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (<span class="kr">fun</span> &#39;(a; x) =&gt; (gq a; x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk76">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x},
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
 {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b -&gt;
(<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
 <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">a0</span> := x.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x0</span> := x.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x0)) a =
(<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
 <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
 <span class="kr">let</span> <span class="nv">a0</span> := x.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x0</span> := x.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x0)) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk77"><span class="nb">intros</span> [a x] [b y] [r pr]; <span class="nb">cbn</span> <span class="kr">in</span> r, pr; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(gq a; x) = (gq b; y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (flatten_gqd_glue r pr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk78">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sig_rec
  (gqdepdescent_rec
     {|
       gqddcs_sect :=
         <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
       gqddcs_e :=
         <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a)
         =&gt; gqglue (r; <span class="mi">1</span>)
     |})
o GraphQuotient_rec
    (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
     <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">a</span> := x.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x0</span> := x.<span class="mi">2</span> <span class="kr">in</span> (gq a; x0))
    (<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
     (<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a)
        (<span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x}) =&gt;
      (<span class="kr">fun</span> (<span class="nv">b</span> : A) (<span class="nv">y</span> : gqd_fam Pe b)
         (<span class="nv">X</span> : {r : R (a; x).<span class="mi">1</span> (b; y).<span class="mi">1</span> &amp;
              gqd_e Pe r (a; x).<span class="mi">2</span> = (b; y).<span class="mi">2</span>}) =&gt;
       (<span class="kr">fun</span> (<span class="nv">r</span> : R (a; x).<span class="mi">1</span> (b; y).<span class="mi">1</span>)
          (<span class="nv">pr</span> : gqd_e Pe r (a; x).<span class="mi">2</span> = (b; y).<span class="mi">2</span>) =&gt;
        flatten_gqd_glue r pr
        :
        (<span class="kr">let</span> <span class="nv">x0</span> := (a; x) <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a1</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a1; x1)) =
        (<span class="kr">let</span> <span class="nv">x0</span> := (b; y) <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a1</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a1; x1))) X.<span class="mi">1</span> X.<span class="mi">2</span>) b0.<span class="mi">1</span>
        b0.<span class="mi">2</span>) a0.<span class="mi">1</span> a0.<span class="mi">2</span>) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk79">snapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : {x : _ &amp; gqd_fam Pe x},
(<span class="kr">fun</span>
   <span class="nv">x</span> : GraphQuotient
         (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
          {r : R a0.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b.<span class="mi">2</span>}) =&gt;
 (sig_rec
    (gqdepdescent_rec
       {|
         gqddcs_sect :=
           <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
           gq (a0; x0);
         gqddcs_e :=
           <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a0 b)
             (<span class="nv">pa</span> : gqd_fam Pe a0) =&gt; gqglue (r; <span class="mi">1</span>)
       |})
  o GraphQuotient_rec
      (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
       <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
      (<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
       (<span class="kr">fun</span> (<span class="nv">a1</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a1)
          (<span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x}) =&gt;
        (<span class="kr">fun</span> (<span class="nv">b</span> : A) (<span class="nv">y</span> : gqd_fam Pe b)
           (<span class="nv">X</span> : {r : R (a1; x0).<span class="mi">1</span> (b; y).<span class="mi">1</span> &amp;
                gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b; y).<span class="mi">2</span>}) =&gt;
         (<span class="kr">fun</span> (<span class="nv">r</span> : R (a1; x0).<span class="mi">1</span> (b; y).<span class="mi">1</span>)
            (<span class="nv">pr</span> : gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b; y).<span class="mi">2</span>) =&gt;
          flatten_gqd_glue r pr
          :
          (<span class="kr">let</span> <span class="nv">x1</span> := (a1; x0) <span class="kr">in</span>
           <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span>
           <span class="kr">let</span> <span class="nv">x2</span> := x1.<span class="mi">2</span> <span class="kr">in</span> (...; x2)) =
          (<span class="kr">let</span> <span class="nv">x1</span> := (b; y) <span class="kr">in</span>
           <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span>
           <span class="kr">let</span> <span class="nv">x2</span> := x1.<span class="mi">2</span> <span class="kr">in</span> (...; x2))) X.<span class="mi">1</span> X.<span class="mi">2</span>) b0.<span class="mi">1</span>
          b0.<span class="mi">2</span>) a0.<span class="mi">1</span> a0.<span class="mi">2</span>)) x = idmap x) (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk7a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk7a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x})
(<span class="nv">s</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b),
transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
            {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>})
   =&gt;
   (sig_rec
      (gqdepdescent_rec
         {|
           gqddcs_sect :=
             <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
             gq (a0; x0);
           gqddcs_e :=
             <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A) (<span class="nv">r</span> : R a0 b0)
               (<span class="nv">pa</span> : gqd_fam Pe a0) =&gt; gqglue (r; <span class="mi">1</span>)
         |})
    o GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         (<span class="kr">fun</span> (<span class="nv">a1</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a1)
            (<span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x}) =&gt;
          (<span class="kr">fun</span> (<span class="nv">b1</span> : A) (<span class="nv">y</span> : gqd_fam Pe b1)
             (<span class="nv">X</span> : {r : R (a1; x0).<span class="mi">1</span> (b1; y).<span class="mi">1</span> &amp;
                  gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b1; y).<span class="mi">2</span>})
           =&gt;
           (<span class="kr">fun</span> (<span class="nv">r</span> : R (a1; x0).<span class="mi">1</span> (b1; y).<span class="mi">1</span>)
              (<span class="nv">pr</span> : gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b1; y).<span class="mi">2</span>)
            =&gt;
            flatten_gqd_glue r pr
            :
            (<span class="kr">let</span> <span class="nv">x1</span> := (a1; x0) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span> ... ...) =
            (<span class="kr">let</span> <span class="nv">x1</span> := (b1; y) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span> ... ...)) X.<span class="mi">1</span> X.<span class="mi">2</span>) b0.<span class="mi">1</span>
            b0.<span class="mi">2</span>) a0.<span class="mi">1</span> a0.<span class="mi">2</span>)) x = idmap x) (gqglue s)
  (<span class="nl">?gq&#39;</span> a) = <span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7b"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x})
(<span class="nv">s</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b),
transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
            {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>})
   =&gt;
   (sig_rec
      (gqdepdescent_rec
         {|
           gqddcs_sect :=
             <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
             gq (a0; x0);
           gqddcs_e :=
             <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A) (<span class="nv">r</span> : R a0 b0)
               (<span class="nv">pa</span> : gqd_fam Pe a0) =&gt; gqglue (r; <span class="mi">1</span>)
         |})
    o GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         (<span class="kr">fun</span> (<span class="nv">a1</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a1)
            (<span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x}) =&gt;
          (<span class="kr">fun</span> (<span class="nv">b1</span> : A) (<span class="nv">y</span> : gqd_fam Pe b1)
             (<span class="nv">X</span> : {r : R (a1; x0).<span class="mi">1</span> (b1; y).<span class="mi">1</span> &amp;
                  gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b1; y).<span class="mi">2</span>})
           =&gt;
           (<span class="kr">fun</span> (<span class="nv">r</span> : R (a1; x0).<span class="mi">1</span> (b1; y).<span class="mi">1</span>)
              (<span class="nv">pr</span> : gqd_e Pe r (a1; x0).<span class="mi">2</span> = (b1; y).<span class="mi">2</span>)
            =&gt;
            flatten_gqd_glue r pr
            :
            (<span class="kr">let</span> <span class="nv">x1</span> := (a1; x0) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span> ... ...) =
            (<span class="kr">let</span> <span class="nv">x1</span> := (b1; y) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">a2</span> := x1.<span class="mi">1</span> <span class="kr">in</span> ... ...)) X.<span class="mi">1</span> X.<span class="mi">2</span>) b0.<span class="mi">1</span>
            b0.<span class="mi">2</span>) a0.<span class="mi">1</span> a0.<span class="mi">2</span>)) x = idmap x) (gqglue s)
  ((<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt; <span class="mi">1</span>) a) =
(<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt; <span class="mi">1</span>) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7c"><span class="nb">intros</span> [a x] [b y] [r pr]; <span class="nb">cbn</span> <span class="kr">in</span> r, pr; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe b</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pr</var><span class="hyp-type"><b>: </b><span>gqd_e Pe r x = y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
            {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) =&gt;
   sig_rec
     (gqdepdescent_rec
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a) =&gt;
            gq (a; x0);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |})
     (GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
                gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>) x) = x)
  (gqglue (r; pr)) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7d"><span class="nb">destruct</span> pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
            {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; gqd_e Pe r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) =&gt;
   sig_rec
     (gqdepdescent_rec
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a) =&gt;
            gq (a; x0);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |})
     (GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
                gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>) x) = x)
  (gqglue (r; <span class="mi">1</span>)) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7e">transport_paths FFlr; <span class="nb">apply</span> equiv_p1_1q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (sig_rec
     (gqdepdescent_rec
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
            gq (a; x);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |}))
  (ap
     (GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
                gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)) (gqglue (r; <span class="mi">1</span>))) =
gqglue (r; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk7f"><span class="nb">rewrite</span> GraphQuotient_rec_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (sig_rec
     (gqdepdescent_rec
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
            gq (a; x);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |})) (flatten_gqd_glue r <span class="mi">1</span>) = gqglue (r; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk80">lhs napply gqdepdescent_rec_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqddcs_e
  {|
    gqddcs_sect :=
      <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
    gqddcs_e :=
      <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a) =&gt;
      gqglue (r; <span class="mi">1</span>)
  |} r x @
ap
  (gqddcs_sect
     {|
       gqddcs_sect :=
         <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
       gqddcs_e :=
         <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a)
         =&gt; gqglue (r; <span class="mi">1</span>)
     |} b) <span class="mi">1</span> = gqglue (r; <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">napply concat_p1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk81">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient_rec
  (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   <span class="kr">let</span> <span class="nv">x</span> := pat <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">a</span> := x.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x0</span> := x.<span class="mi">2</span> <span class="kr">in</span> (gq a; x0))
  (<span class="kr">fun</span> <span class="nv">a0</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   (<span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a)
      (<span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x}) =&gt;
    (<span class="kr">fun</span> (<span class="nv">b</span> : A) (<span class="nv">y</span> : gqd_fam Pe b)
       (<span class="nv">X</span> : {r : R (a; x).<span class="mi">1</span> (b; y).<span class="mi">1</span> &amp;
            gqd_e Pe r (a; x).<span class="mi">2</span> = (b; y).<span class="mi">2</span>}) =&gt;
     (<span class="kr">fun</span> (<span class="nv">r</span> : R (a; x).<span class="mi">1</span> (b; y).<span class="mi">1</span>)
        (<span class="nv">pr</span> : gqd_e Pe r (a; x).<span class="mi">2</span> = (b; y).<span class="mi">2</span>) =&gt;
      flatten_gqd_glue r pr
      :
      (<span class="kr">let</span> <span class="nv">x0</span> := (a; x) <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">a1</span> := x0.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a1; x1)) =
      (<span class="kr">let</span> <span class="nv">x0</span> := (b; y) <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">a1</span> := x0.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a1; x1)))
       X.<span class="mi">1</span> X.<span class="mi">2</span>) b0.<span class="mi">1</span> b0.<span class="mi">2</span>) a0.<span class="mi">1</span> a0.<span class="mi">2</span>)
o sig_rec
    (gqdepdescent_rec
       {|
         gqddcs_sect :=
           <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
         gqddcs_e :=
           <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
             (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
       |}) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk82"><span class="nb">intros</span> [x px]; <span class="nb">revert</span> x px.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : GraphQuotient R)
(<span class="nv">px</span> : fam_gqdescent Pe x),
GraphQuotient_rec
  (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
   <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">a</span> := x0.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a; x1))
  (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
     (<span class="nv">X</span> : {r : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span> &amp;
          gqd_e Pe r (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> = (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>})
   =&gt; flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
  (sig_rec
     (gqdepdescent_rec
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a) =&gt;
            gq (a; x0);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |}) (x; px)) = (x; px)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk83">snapply gqdepdescent_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDepDescentSection
  (gqdepdescent_fam
     (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R)
        (<span class="nv">px</span> : fam_gqdescent Pe x) =&gt;
      GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a</span> := x0.<span class="mi">1</span> <span class="kr">in</span> <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a; x1))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span> &amp;
                gqd_e Pe r (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> =
                (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
        (sig_rec
           (gqdepdescent_rec
              {|
                gqddcs_sect :=
                  <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a) =&gt;
                  gq (a; x0);
                gqddcs_e :=
                  <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
                    (<span class="nv">pa</span> : gqd_fam Pe a) =&gt;
                  gqglue (r; <span class="mi">1</span>)
              |}) (x; px)) = (x; px)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk84">snapply Build_gqDepDescentSection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">pa</span> : gqd_fam Pe a),
gqdd_fam
  (gqdepdescent_fam
     (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R)
        (<span class="nv">px</span> : fam_gqdescent Pe x) =&gt;
      GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span> &amp;
                gqd_e Pe r (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> =
                (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
        (sig_rec
           (gqdepdescent_rec
              {|
                gqddcs_sect :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
                  gq (a0; x0);
                gqddcs_e :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a0 b)
                    (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt;
                  gqglue (r; <span class="mi">1</span>)
              |}) (x; px)) = (x; px))) a pa</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk85"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
gqdd_e
  (gqdepdescent_fam
     (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R)
        (<span class="nv">px</span> : fam_gqdescent Pe x) =&gt;
      GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r0 : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span>
                &amp;
                gqd_e Pe r0 (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> =
                (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
        (sig_rec
           (gqdepdescent_rec
              {|
                gqddcs_sect :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
                  gq (a0; x0);
                gqddcs_e :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A) (<span class="nv">r0</span> : R a0 b0)
                    (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt;
                  gqglue (r0; <span class="mi">1</span>)
              |}) (x; px)) = (x; px))) r pa
  (<span class="nl">?gqdds_sect</span> a pa) = <span class="nl">?gqdds_sect</span> b (gqd_e Pe r pa)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk86">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">pa</span> : gqd_fam Pe a),
gqdd_fam
  (gqdepdescent_fam
     (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R)
        (<span class="nv">px</span> : fam_gqdescent Pe x) =&gt;
      GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span> &amp;
                gqd_e Pe r (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> =
                (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
        (sig_rec
           (gqdepdescent_rec
              {|
                gqddcs_sect :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
                  gq (a0; x0);
                gqddcs_e :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a0 b)
                    (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt;
                  gqglue (r; <span class="mi">1</span>)
              |}) (x; px)) = (x; px))) a pa</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> a pa.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk87">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a),
gqdd_e
  (gqdepdescent_fam
     (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R)
        (<span class="nv">px</span> : fam_gqdescent Pe x) =&gt;
      GraphQuotient_rec
        (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
         <span class="kr">let</span> <span class="nv">x0</span> := pat <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">a0</span> := x0.<span class="mi">1</span> <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">x1</span> := x0.<span class="mi">2</span> <span class="kr">in</span> (gq a0; x1))
        (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
           (<span class="nv">X</span> : {r0 : R (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">1</span> (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">1</span>
                &amp;
                gqd_e Pe r0 (a0.<span class="mi">1</span>; a0.<span class="mi">2</span>).<span class="mi">2</span> =
                (b0.<span class="mi">1</span>; b0.<span class="mi">2</span>).<span class="mi">2</span>}) =&gt;
         flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
        (sig_rec
           (gqdepdescent_rec
              {|
                gqddcs_sect :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a0) =&gt;
                  gq (a0; x0);
                gqddcs_e :=
                  <span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A) (<span class="nv">r0</span> : R a0 b0)
                    (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt;
                  gqglue (r0; <span class="mi">1</span>)
              |}) (x; px)) = (x; px))) r pa
  ((<span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt; <span class="mi">1</span>) a pa) =
(<span class="kr">fun</span> (<span class="nv">a0</span> : A) (<span class="nv">pa0</span> : gqd_fam Pe a0) =&gt; <span class="mi">1</span>) b
  (gqd_e Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk88"><span class="nb">intros</span> a b r pa; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transportDD (fam_gqdescent Pe)
  (<span class="kr">fun</span> (<span class="nv">x</span> : GraphQuotient R) (<span class="nv">px</span> : fam_gqdescent Pe x)
   =&gt;
   GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
     (sig_rec
        (gqdepdescent_rec
           {|
             gqddcs_sect :=
               <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x0</span> : gqd_fam Pe a) =&gt;
               gq (a; x0);
             gqddcs_e :=
               <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
                 (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
           |}) (x; px)) = (x; px)) (gqglue r)
  (transport_fam_gqdescent_gqglue Pe r pa) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk89">lhs napply transportDD_is_transport.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">ab</span> : {x : _ &amp; fam_gqdescent Pe x} =&gt;
   GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>)
     (sig_rec
        (gqdepdescent_rec
           {|
             gqddcs_sect :=
               <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
               gq (a; x);
             gqddcs_e :=
               <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
                 (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
           |}) (ab.<span class="mi">1</span>; ab.<span class="mi">2</span>)) = (ab.<span class="mi">1</span>; ab.<span class="mi">2</span>))
  (path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
     (transport_fam_gqdescent_gqglue Pe r pa)) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8a">transport_paths FFlr; <span class="nb">apply</span> equiv_p1_1q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>))
  (ap
     (sig_rec
        (gqdepdescent_rec
           {|
             gqddcs_sect :=
               <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
               gq (a; x);
             gqddcs_e :=
               <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
                 (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
           |}))
     (path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
        (transport_fam_gqdescent_gqglue Pe r pa))) =
path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
  (transport_fam_gqdescent_gqglue Pe r pa)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8b"><span class="nb">rewrite</span> &lt;- (concat_p1 (transport_fam_gqdescent_gqglue _ _ _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>))
  (ap
     (sig_rec
        (gqdepdescent_rec
           {|
             gqddcs_sect :=
               <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
               gq (a; x);
             gqddcs_e :=
               <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
                 (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
           |}))
     (path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
        (transport_fam_gqdescent_gqglue Pe r pa @ <span class="mi">1</span>))) =
path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
  (transport_fam_gqdescent_gqglue Pe r pa @ <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8c"><span class="nb">rewrite</span> gqdepdescent_rec_beta_gqglue. <span class="c">(* This needs to be in the form [transport_fam_gqdescent_gqglue Pe r pa @ p] to work, and the other [@ 1] introduced comes in handy as well. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>))
  (gqddcs_e
     {|
       gqddcs_sect :=
         <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
       gqddcs_e :=
         <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a)
         =&gt; gqglue (r; <span class="mi">1</span>)
     |} r pa @
   ap
     (gqddcs_sect
        {|
          gqddcs_sect :=
            <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt;
            gq (a; x);
          gqddcs_e :=
            <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b)
              (<span class="nv">pa</span> : gqd_fam Pe a) =&gt; gqglue (r; <span class="mi">1</span>)
        |} b) <span class="mi">1</span>) =
path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
  (transport_fam_gqdescent_gqglue Pe r pa @ <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8d">lhs napply (ap _ (concat_p1 _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br><span><var>pa</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (GraphQuotient_rec
     (<span class="kr">fun</span> <span class="nv">pat</span> : {x : _ &amp; gqd_fam Pe x} =&gt;
      (gq pat.<span class="mi">1</span>; pat.<span class="mi">2</span>))
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; gqd_fam Pe x})
        (<span class="nv">X</span> : {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp;
             gqd_e Pe r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) =&gt;
      flatten_gqd_glue X.<span class="mi">1</span> X.<span class="mi">2</span>))
  (gqddcs_e
     {|
       gqddcs_sect :=
         <span class="kr">fun</span> (<span class="nv">a</span> : A) (<span class="nv">x</span> : gqd_fam Pe a) =&gt; gq (a; x);
       gqddcs_e :=
         <span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) (<span class="nv">pa</span> : gqd_fam Pe a)
         =&gt; gqglue (r; <span class="mi">1</span>)
     |} r pa) =
path_sigma&#39; (fam_gqdescent Pe) (gqglue r)
  (transport_fam_gqdescent_gqglue Pe r pa @ <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (GraphQuotient_rec_beta_gqglue _ _ (a; pa) (b; _) (r; <span class="mi">1</span>)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Flattening</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Characterization of path spaces*)</span>

<span class="sd">(** A pointed type family over a graph quotient has an identity system structure precisely when its associated descent data satisfies Kraus and von Raumer&#39;s induction principle, https://arxiv.org/pdf/1901.06022. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Paths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Let [A] and [R] be a graph, with a distinguished point [a0 : A].  Let [Pe : gqDescent R] be descent data over [A] and [R] with a distinguished point [p0 : gqd_fam Pe a0].  Assume that any dependent descent data [Qe : gqDepDescent Pe] with a distinguished point [q0 : gqdd_fam Qe a0 p0] has a section that respects the distinguished points.  This is the induction principle provided by Kraus and von Raumer. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence} {A : <span class="kt">Type</span>} {R : A -&gt; A -&gt; <span class="kt">Type</span>} (a0 : A)
    (Pe : gqDescent R) (p0 : gqd_fam Pe a0)
    (based_gqdepdescent_ind : <span class="kr">forall</span> (<span class="nv">Qe</span> : gqDepDescent Pe) (<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
      gqDepDescentSection Qe)
    (based_gqdepdescent_ind_beta : <span class="kr">forall</span> (<span class="nv">Qe</span> : gqDepDescent Pe) (<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
      gqdds_sect (based_gqdepdescent_ind Qe q0) a0 p0 = q0).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** Under these hypotheses, we get an identity system structure on [fam_gqdescent Pe]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8e"><span class="kn">Local Instance</span> <span class="nf">idsys_flatten_gqdescent</span>
    : @IsIdentitySystem _ (gq a0) (fam_gqdescent Pe) p0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIdentitySystem (fam_gqdescent Pe) p0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk8f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsIdentitySystem (fam_gqdescent Pe) p0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk90">snapply Build_IsIdentitySystem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">D</span> : <span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
    fam_gqdescent Pe a -&gt; <span class="kt">Type</span>,
D (gq a0) p0 -&gt;
<span class="kr">forall</span> (<span class="nv">a</span> : GraphQuotient R) (<span class="nv">r</span> : fam_gqdescent Pe a),
D a r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk91" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk91"><hr></label><div class="goal-conclusion"><span class="kr">forall</span>
(<span class="nv">D</span> : <span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
     fam_gqdescent Pe a -&gt; <span class="kt">Type</span>) 
(<span class="nv">d</span> : D (gq a0) p0), 
<span class="nl">?idsys_ind</span> D d (gq a0) p0 = d</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk92">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
<span class="nv">D</span> : <span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
    fam_gqdescent Pe a -&gt; <span class="kt">Type</span>,
D (gq a0) p0 -&gt;
<span class="kr">forall</span> (<span class="nv">a</span> : GraphQuotient R) (<span class="nv">r</span> : fam_gqdescent Pe a),
D a r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk93"><span class="nb">intros</span> Q q0 x p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
fam_gqdescent Pe a -&gt; <span class="kt">Type</span></span></span></span><br><span><var>q0</var><span class="hyp-type"><b>: </b><span>Q (gq a0) p0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Q x p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk94">snapply gqdepdescent_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
fam_gqdescent Pe a -&gt; <span class="kt">Type</span></span></span></span><br><span><var>q0</var><span class="hyp-type"><b>: </b><span>Q (gq a0) p0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fam_gqdescent Pe x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqDepDescentSection (gqdepdescent_fam Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> based_gqdepdescent_ind.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk95">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span>
(<span class="nv">D</span> : <span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
     fam_gqdescent Pe a -&gt; <span class="kt">Type</span>) (<span class="nv">d</span> : D (gq a0) p0),
(<span class="kr">fun</span>
   (<span class="nv">Q</span> : <span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
        fam_gqdescent Pe a -&gt; <span class="kt">Type</span>)
   (<span class="nv">q0</span> : Q (gq a0) p0) (<span class="nv">x</span> : GraphQuotient R)
   (<span class="nv">p</span> : fam_gqdescent Pe x) =&gt;
 gqdepdescent_ind
   (based_gqdepdescent_ind (gqdepdescent_fam Q) q0) x
   p) D d (gq a0) p0 = d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk96"><span class="nb">intros</span> Q q0; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Pe</var><span class="hyp-type"><b>: </b><span>gqDescent R</span></span></span><br><span><var>p0</var><span class="hyp-type"><b>: </b><span>gqd_fam Pe a0</span></span></span><br><span><var>based_gqdepdescent_ind</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">Qe</span> : gqDepDescent Pe,
gqdd_fam Qe a0 p0 -&gt;
gqDepDescentSection Qe</span></span></span><br><span><var>based_gqdepdescent_ind_beta</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span>
(<span class="nv">Qe</span> : gqDepDescent Pe)
(<span class="nv">q0</span> : gqdd_fam Qe a0 p0),
gqdds_sect
  (based_gqdepdescent_ind
     Qe q0) a0 p0 = q0</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : GraphQuotient R,
fam_gqdescent Pe a -&gt; <span class="kt">Type</span></span></span></span><br><span><var>q0</var><span class="hyp-type"><b>: </b><span>Q (gq a0) p0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqdds_sect
  (based_gqdepdescent_ind (gqdepdescent_fam Q) q0) a0
  p0 = q0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">napply (based_gqdepdescent_ind_beta (gqdepdescent_fam Q)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** It follows that the fibers [fam_gqdescent Pe x] are equivalent to path spaces [(gq a0) = x]. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fam_gqdescent_equiv_path</span> (<span class="nv">x</span> : GraphQuotient R)
    : (gq a0) = x &lt;~&gt; fam_gqdescent Pe x
    := @equiv_transport_identitysystem _ (gq a0) (fam_gqdescent Pe) p0 _ x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Paths</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Functoriality of graph quotients *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk97"><span class="kn">Lemma</span> <span class="nf">functor_gq</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B)
  {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>} {<span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Type</span>} (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f a) (f b))
  : GraphQuotient R -&gt; GraphQuotient S.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; GraphQuotient S</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk98"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient R -&gt; GraphQuotient S</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk99">snapply GraphQuotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; GraphQuotient S</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chk9a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chk9a"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; <span class="nl">?c</span> a = <span class="nl">?c</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9b"><span class="mi">1</span>: <span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; gq (f x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
R a b -&gt;
(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; gq (f x)) a = (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; gq (f x)) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9c"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; gq (f x)) a = (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; gq (f x)) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9d"><span class="nb">apply</span> gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (f a) (f b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9e"><span class="nb">apply</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">functor_gq_beta_gqglue</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B)
  {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>} {<span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Type</span>}
  (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f a) (f b))
  {<span class="nv">a</span> <span class="nv">b</span> : A} (<span class="nv">s</span> : R a b)
  : ap (functor_gq f e) (gqglue s) = gqglue (e a b s)
  := GraphQuotient_rec_beta_gqglue _ _ _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chk9f"><span class="kn">Lemma</span> <span class="nf">functor_gq_idmap</span> {<span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>}
  : functor_gq (A:=A) (B:=A) (S:=R) idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">r</span> =&gt; r) == idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka1">snapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span>
   <span class="nv">x</span> : GraphQuotient
         (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b</span> : A =&gt; R (idmap a0) (idmap b)) =&gt;
 functor_gq idmap (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b</span> : A =&gt; idmap) x = idmap x)
  (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chka2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chka2"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A)
(<span class="nv">s</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R (idmap a0) (idmap b0)) a b),
transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R (idmap a0) (idmap b0))
   =&gt;
   functor_gq idmap (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; idmap) x =
   idmap x) (gqglue s) (<span class="nl">?gq&#39;</span> a) = <span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka3"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A)
(<span class="nv">s</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R (idmap a0) (idmap b0)) a b),
transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R (idmap a0) (idmap b0))
   =&gt;
   functor_gq idmap (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; idmap) x =
   idmap x) (gqglue s) ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="mi">1</span>) a) =
(<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="mi">1</span>) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka4"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; R (idmap a) (idmap b)) a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span>
     <span class="nv">x</span> : GraphQuotient
           (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; R (idmap a) (idmap b)) =&gt;
   functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap) x = idmap x)
  (gqglue r) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) a) = (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka5">transport_paths Flr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; R (idmap a) (idmap b)) a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap))
  (gqglue r) @ <span class="mi">1</span> = <span class="mi">1</span> @ gqglue r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka6"><span class="nb">apply</span> equiv_p1_1q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; R (idmap a) (idmap b)) a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap))
  (gqglue r) = gqglue r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply GraphQuotient_rec_beta_gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka7"><span class="kn">Lemma</span> <span class="nf">functor_gq_compose</span> {<span class="nv">A</span> <span class="nv">B</span> <span class="nv">C</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) (<span class="nv">g</span> : B -&gt; C)
  {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>} {<span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Type</span>} {<span class="nv">T</span> : C -&gt; C -&gt; <span class="kt">Type</span>}
  (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f a) (f b)) (<span class="nv">e&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, S a b -&gt; T (g a) (g b))
  : functor_gq g e&#39; o (functor_gq f e) == functor_gq (g o f) (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">r</span> =&gt; e&#39; _ _ (e _ _ r)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq g e&#39; o functor_gq f e ==
functor_gq (g o f)
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R a0 b0) a b)
   =&gt; e&#39; (f a) (f b) (e a b r))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq g e&#39; o functor_gq f e ==
functor_gq (g o f)
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : (<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : A =&gt; R a0 b0) a b)
   =&gt; e&#39; (f a) (f b) (e a b r))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chka9">snapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
 (functor_gq g e&#39; o functor_gq f e) x =
 functor_gq (g o f)
   (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b</span> : A)
      (<span class="nv">r</span> : (<span class="kr">fun</span> <span class="nv">a1</span> <span class="nv">b0</span> : A =&gt; R a1 b0) a0 b) =&gt;
    e&#39; (f a0) (f b) (e a0 b r)) x) (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkaa"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   (functor_gq g e&#39; o functor_gq f e) x =
   functor_gq (g o f)
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A)
        (<span class="nv">r</span> : (<span class="kr">fun</span> <span class="nv">a1</span> <span class="nv">b1</span> : A =&gt; R a1 b1) a0 b0) =&gt;
      e&#39; (f a0) (f b0) (e a0 b0 r)) x) (gqglue s)
  (<span class="nl">?gq&#39;</span> a) = <span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkab"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   (functor_gq g e&#39; o functor_gq f e) x =
   functor_gq (g o f)
     (<span class="kr">fun</span> (<span class="nv">a0</span> <span class="nv">b0</span> : A)
        (<span class="nv">r</span> : (<span class="kr">fun</span> <span class="nv">a1</span> <span class="nv">b1</span> : A =&gt; R a1 b1) a0 b0) =&gt;
      e&#39; (f a0) (f b0) (e a0 b0 r)) x) (gqglue s)
  ((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="mi">1</span>) a) = (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="mi">1</span>) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkac"><span class="nb">intros</span> a b s; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   functor_gq g e&#39; (functor_gq f e x) =
   functor_gq (<span class="kr">fun</span> <span class="nv">x0</span> : A =&gt; g (f x0))
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
      e&#39; (f a) (f b) (e a b r)) x) (gqglue s) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkad">transport_paths FFlFr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq g e&#39;) (ap (functor_gq f e) (gqglue s)) @
<span class="mi">1</span> =
<span class="mi">1</span> @
ap
  (functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
      e&#39; (f a) (f b) (e a b r))) (gqglue s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkae"><span class="nb">apply</span> equiv_p1_1q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq g e&#39;) (ap (functor_gq f e) (gqglue s)) =
ap
  (functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
      e&#39; (f a) (f b) (e a b r))) (gqglue s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkaf">lhs napply ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq f e) (gqglue s) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkb0"><hr></label><div class="goal-conclusion">ap (functor_gq g e&#39;) <span class="nl">?Goal</span> =
ap
  (functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
      e&#39; (f a) (f b) (e a b r))) (gqglue s)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb1"><span class="mi">1</span>: <span class="nb">apply</span> functor_gq_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq g e&#39;) (gqglue (e a b s)) =
ap
  (functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; g (f x))
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
      e&#39; (f a) (f b) (e a b r))) (gqglue s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb2">rhs napply (functor_gq_beta_gqglue (g o f)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B, C</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>B -&gt; C</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>C -&gt; C -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; T (g a) (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq g e&#39;) (gqglue (e a b s)) =
gqglue (e&#39; (f a) (f b) (e a b s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">napply (functor_gq_beta_gqglue g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb3"><span class="kn">Lemma</span> <span class="nf">functor2_gq</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> <span class="nv">f&#39;</span> : A -&gt; B)
  {<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>} {<span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Type</span>}
  (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f a) (f b)) (<span class="nv">e&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f&#39; a) (f&#39; b))
  (<span class="nv">p</span> : f == f&#39;)
  (<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">r</span>, transport011 S (p a) (p b) (e a b r) = e&#39; a b r)
  : functor_gq f e == functor_gq f&#39; e&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f e == functor_gq f&#39; e&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f e == functor_gq f&#39; e&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb5">snapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
 functor_gq f e x = functor_gq f&#39; e&#39; x) (gq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkb6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkb6"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   functor_gq f e x = functor_gq f&#39; e&#39; x) (gqglue s)
  (<span class="nl">?gq&#39;</span> a) = <span class="nl">?gq&#39;</span> b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
 functor_gq f e x = functor_gq f&#39; e&#39; x) (gq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb8"><span class="nb">simpl</span>; <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gq (f a) = gq (f&#39; a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkb9"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a = f&#39; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkba">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">s</span> : R a b),
transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   functor_gq f e x = functor_gq f&#39; e&#39; x) (gqglue s)
  (((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; ap gq (p a0))
    :
    <span class="kr">forall</span> <span class="nv">a0</span> : A,
    (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
     functor_gq f e x = functor_gq f&#39; e&#39; x) (gq a0)) a) =
((<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; ap gq (p a0))
 :
 <span class="kr">forall</span> <span class="nv">a0</span> : A,
 (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
  functor_gq f e x = functor_gq f&#39; e&#39; x) (gq a0)) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkbb"><span class="nb">intros</span> a b s; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">x</span> : GraphQuotient R =&gt;
   functor_gq f e x = functor_gq f&#39; e&#39; x) (gqglue s)
  (ap gq (p a)) = ap gq (p b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkbc">transport_paths (transport_paths_FlFr (gqglue s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq f e) (gqglue s) @ ap gq (p b) =
ap gq (p a) @ ap (functor_gq f&#39; e&#39;) (gqglue s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkbd">rhs napply whiskerL.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq f e) (gqglue s) @ ap gq (p b) =
ap gq (p a) @ <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkbe"><hr></label><div class="goal-conclusion">ap (functor_gq f&#39; e&#39;) (gqglue s) = <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkbf"><span class="mi">2</span>: napply functor_gq_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq f e) (gqglue s) @ ap gq (p b) =
ap gq (p a) @ gqglue (e&#39; a b s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc0">lhs napply whiskerR.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_gq f e) (gqglue s) = <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkc1"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> @ ap gq (p b) = ap gq (p a) @ gqglue (e&#39; a b s)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc2"><span class="mi">1</span>: napply functor_gq_beta_gqglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqglue (e a b s) @ ap gq (p b) =
ap gq (p a) @ gqglue (e&#39; a b s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc3"><span class="nb">apply</span> moveL_Mp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap gq (p a))^ @ (gqglue (e a b s) @ ap gq (p b)) =
gqglue (e&#39; a b s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc4"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqglue (e&#39; a b s) =
(ap gq (p a))^ @ (gqglue (e a b s) @ ap gq (p b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc5"><span class="nb">destruct</span> (q a b s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gqglue (transport011 S (p a) (p b) (e a b s)) =
(ap gq (p a))^ @ (gqglue (e a b s) @ ap gq (p b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc6">lhs napply (ap_transport011 _ _ (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">_</span> =&gt; gqglue)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">H</span> : B =&gt; gq s = gq H) (p a) (p b)
  (gqglue (e a b s)) =
(ap gq (p a))^ @ (gqglue (e a b s) @ ap gq (p b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc7">rhs napply concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, f'</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>e'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f&#39; a) (f&#39; b)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f == f&#39;</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 S (p a) (p b) (e a b r) = e&#39; a b r</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">H</span> : B =&gt; gq s = gq H) (p a) (p b)
  (gqglue (e a b s)) =
((ap gq (p a))^ @ gqglue (e a b s)) @ ap gq (p b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">napply transport011_paths.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Equivalence of graph quotients *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc8"><span class="kn">Instance</span> <span class="nf">isequiv_functor_gq</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A -&gt; B) `{IsEquiv _ _ f}
  {R : A -&gt; A -&gt; <span class="kt">Type</span>} {S : B -&gt; B -&gt; <span class="kt">Type</span>} (e : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b -&gt; S (f a) (f b))
  `{<span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, IsEquiv (e a b)}
  : IsEquiv (functor_gq f e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_gq f e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkc9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv (functor_gq f e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkca">srapply isequiv_adjointify.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient S -&gt; GraphQuotient R</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkcb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkcb"><hr></label><div class="goal-conclusion">functor_gq f e o <span class="nl">?g</span> == idmap</div></blockquote><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkcc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkcc"><hr></label><div class="goal-conclusion"><span class="nl">?g</span> o functor_gq f e == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkcd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient S -&gt; GraphQuotient R</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkce">napply (functor_gq f^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : B, S a b -&gt; R (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkcf"><span class="nb">intros</span> a b s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd0"><span class="nb">apply</span> (e _ _)^-<span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (f (f^-<span class="mi">1</span> a)) (f (f^-<span class="mi">1</span> b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (transport011 S (eisretr f a)^ (eisretr f b)^ s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f e
o functor_gq f^-<span class="mi">1</span>
    (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">s</span> : S a b) =&gt;
     (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
       (transport011 S (eisretr f a)^ (eisretr f b)^ s)) ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd2"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f e
  (functor_gq f^-<span class="mi">1</span>
     (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">s</span> : S a b) =&gt;
      (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           s)) x) = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd3">lhs napply functor_gq_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f (f^-<span class="mi">1</span> x))
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">r</span> : S a b) =&gt;
   e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)
     ((e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           r))) x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd4">rhs_V napply functor_gq_idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f (f^-<span class="mi">1</span> x))
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">r</span> : S a b) =&gt;
   e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)
     ((e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           r))) x =
functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : B =&gt; idmap) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd5">snapply functor2_gq; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f (f^-<span class="mi">1</span> x)) == idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chkd6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chkd6"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">r</span> : S a b),
transport011 S (<span class="nl">?Goal0</span> a) (<span class="nl">?Goal0</span> b)
  (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)
     ((e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           r))) = r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd7"><span class="mi">1</span>: <span class="nb">apply</span> eisretr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">r</span> : S a b),
transport011 S (eisretr f a) (eisretr f b)
  (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)
     ((e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd8"><span class="nb">intros</span> a b s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 S (eisretr f a) (eisretr f b)
  (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b)
     ((e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
        (transport011 S (eisretr f a)^ (eisretr f b)^
           s))) = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkd9"><span class="nb">rewrite</span> (eisretr (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 S (eisretr f a) (eisretr f b)
  (transport011 S (eisretr f a)^ (eisretr f b)^ s) = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkda">lhs_V napply transport011_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient S</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>S a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 S ((eisretr f a)^ @ eisretr f a)
  ((eisretr f b)^ @ eisretr f b) s = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> <span class="mi">2</span> concat_Vp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkdb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f^-<span class="mi">1</span>
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">s</span> : S a b) =&gt;
   (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
     (transport011 S (eisretr f a)^ (eisretr f b)^ s))
o functor_gq f e == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkdc"><span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq f^-<span class="mi">1</span>
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : B) (<span class="nv">s</span> : S a b) =&gt;
   (e (f^-<span class="mi">1</span> a) (f^-<span class="mi">1</span> b))^-<span class="mi">1</span>
     (transport011 S (eisretr f a)^ (eisretr f b)^ s))
  (functor_gq f e x) = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkdd">lhs napply functor_gq_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f^-<span class="mi">1</span> (f x))
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
   (e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (eisretr f (f a))^
        (eisretr f (f b))^ (e a b r))) x = x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkde">rhs_V napply functor_gq_idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_gq (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f^-<span class="mi">1</span> (f x))
  (<span class="kr">fun</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b) =&gt;
   (e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (eisretr f (f a))^
        (eisretr f (f b))^ (e a b r))) x =
functor_gq idmap (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : A =&gt; idmap) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chkdf">snapply functor2_gq; <span class="nb">cbn</span> beta.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; f^-<span class="mi">1</span> (f x)) == idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="graphquotient-v-chke0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><label class="goal-separator" for="graphquotient-v-chke0"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 R (<span class="nl">?Goal</span> a) (<span class="nl">?Goal</span> b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (eisretr f (f a))^
        (eisretr f (f b))^ (e a b r))) = r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke1"><span class="mi">1</span>: <span class="nb">apply</span> eissect.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A) (<span class="nv">r</span> : R a b),
transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (eisretr f (f a))^
        (eisretr f (f b))^ (e a b r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke2"><span class="nb">intros</span> a b r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (eisretr f (f a))^
        (eisretr f (f b))^ (e a b r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke3"><span class="nb">rewrite</span> <span class="mi">2</span> eisadj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (ap f (eissect f a))^
        (ap f (eissect f b))^ (e a b r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke4"><span class="nb">rewrite</span> &lt;- <span class="mi">2</span> ap_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 S (ap f (eissect f a)^)
        (ap f (eissect f b)^) (e a b r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke5"><span class="nb">rewrite</span> &lt;- (transport011_compose S).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (transport011 (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> : A =&gt; S (f x) (f y))
        (eissect f a)^ (eissect f b)^ (e a b r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke6"><span class="nb">rewrite</span> &lt;- (ap_transport011 (Q := <span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; S (f x) (f y)) (eissect f a)^ (eissect f b)^ e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  ((e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))^-<span class="mi">1</span>
     (e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b))
        (transport011 R (eissect f a)^ (eissect f b)^
           r))) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke7"><span class="nb">rewrite</span> (eissect (e (f^-<span class="mi">1</span> (f a)) (f^-<span class="mi">1</span> (f b)))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R (eissect f a) (eissect f b)
  (transport011 R (eissect f a)^ (eissect f b)^ r) = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="graphquotient-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="graphquotient-v-chke8">lhs_V napply transport011_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>A -&gt; B</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv f</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>A -&gt; A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>B -&gt; B -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, R a b -&gt; S (f a) (f b)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A, IsEquiv (e a b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>GraphQuotient R</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>R a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport011 R ((eissect f a)^ @ eissect f a)
  ((eissect f b)^ @ eissect f b) r = r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> <span class="mi">2</span> concat_Vp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_functor_gq</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>} (<span class="nv">f</span> : A &lt;~&gt; B)
  (<span class="nv">R</span> : A -&gt; A -&gt; <span class="kt">Type</span>) (<span class="nv">S</span> : B -&gt; B -&gt; <span class="kt">Type</span>) (<span class="nv">e</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span>, R a b &lt;~&gt; S (f a) (f b))
  : GraphQuotient R &lt;~&gt; GraphQuotient S
  := Build_Equiv _ _ (functor_gq f e) _.</span></span></pre>
</div>
</div></body>
</html>
