<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Yoneda.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk0"><span class="kn">Require Import</span> Basics.Overture Basics.Tactics.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Equiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.<span class="kn">Universe</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Opposite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.FunctorCat.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.NatTrans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Bifunctor.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.ZeroGroupoid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Two-variable hom-functors *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk1"><span class="kn">Instance</span> <span class="nf">is0functor_hom</span> {<span class="nv">A</span>} `{Is01Cat A}
  : @Is0Functor (A^op * A) <span class="kt">Type</span> _ _ (uncurry (@Hom A _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3"><span class="nb">apply</span> Build_Is0Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A^op * A,
(a $-&gt; b) -&gt; uncurry Hom a $-&gt; uncurry Hom b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4"><span class="nb">intros</span> [a1 a2] [b1 b2] [f1 f2] g; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b1 $-&gt; b2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (f2 $o g $o f1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This requires morphism extensionality! *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5"><span class="kn">Instance</span> <span class="nf">is1functor_hom</span> {<span class="nv">A</span>} `{HasMorExt A}
  : @Is1Functor (A^op * A) <span class="kt">Type</span> _ _ _ _ _ _ _ _ (uncurry (@Hom A _)) _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk7"><span class="nb">apply</span> Build_Is1Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A^op * A) 
(<span class="nv">f</span> <span class="nv">g</span> : a $-&gt; b),
f $== g -&gt;
fmap (uncurry Hom) f $== fmap (uncurry Hom) g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk8"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A^op * A,
fmap (uncurry Hom) (Id a) $== Id (uncurry Hom a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk9"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A^op * A) 
(<span class="nv">f</span> : a $-&gt; b) (<span class="nv">g</span> : b $-&gt; c),
fmap (uncurry Hom) (g $o f) $==
fmap (uncurry Hom) g $o fmap (uncurry Hom) f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A^op * A) 
(<span class="nv">f</span> <span class="nv">g</span> : a $-&gt; b),
f $== g -&gt;
fmap (uncurry Hom) f $== fmap (uncurry Hom) g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkb"><span class="nb">intros</span> [a1 a2] [b1 b2] [f1 f2] [g1 g2] [p1 p2] q;
      <span class="nb">unfold</span> fst, snd <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; b1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>f1 $-&gt; g1</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>f2 $-&gt; g2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>uncurry Hom (a1, a2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (uncurry Hom) (f1, f2) q =
fmap (uncurry Hom) (g1, g2) q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkc"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; b1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>p1</var><span class="hyp-type"><b>: </b><span>f1 $-&gt; g1</span></span></span><br><span><var>p2</var><span class="hyp-type"><b>: </b><span>f2 $-&gt; g2</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>uncurry Hom (a1, a2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (uncurry Hom) (f1, f2) q $==
fmap (uncurry Hom) (g1, g2) q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (((p2 $@R q) $@R _) $@ ((g2 $o q) $@L p1)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A^op * A,
fmap (uncurry Hom) (Id a) $== Id (uncurry Hom a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chke"><span class="nb">intros</span> [a1 a2] f; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Id a2 $o f $o Id a1 = f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkf"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Id a2 $o f $o Id a1 $== f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_idr _ $@ cat_idl f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk10">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A^op * A) 
(<span class="nv">f</span> : a $-&gt; b) (<span class="nv">g</span> : b $-&gt; c),
fmap (uncurry Hom) (g $o f) $==
fmap (uncurry Hom) g $o fmap (uncurry Hom) f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk11"><span class="nb">intros</span> [a1 a2] [b1 b2] [c1 c2] [f1 f2] [g1 g2] h; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o f2 $o h $o (f1 $o g1) =
g2 $o (f2 $o h $o f1) $o g1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk12"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o f2 $o h $o (f1 $o g1) $==
g2 $o (f2 $o h $o f1) $o g1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk13"><span class="nb">refine</span> (cat_assoc _ _ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o f2 $o (h $o (f1 $o g1)) $==
g2 $o (f2 $o h $o f1) $o g1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk14"><span class="nb">refine</span> (cat_assoc _ _ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o (f2 $o (h $o (f1 $o g1))) $==
g2 $o (f2 $o h $o f1) $o g1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk15"><span class="nb">refine</span> (_ $@ cat_assoc_opp _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o (f2 $o (h $o (f1 $o g1))) $==
g2 $o (f2 $o h $o f1 $o g1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk16"><span class="nb">refine</span> (g2 $@L _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f2 $o (h $o (f1 $o g1)) $== f2 $o h $o f1 $o g1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk17"><span class="nb">refine</span> (_ $@ cat_assoc_opp _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>c1 $-&gt; b1</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>b2 $-&gt; c2</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a1 $-&gt; a2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f2 $o (h $o (f1 $o g1)) $== f2 $o h $o (f1 $o g1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_assoc_opp _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk18"><span class="kn">Instance</span> <span class="nf">is0bifunctor_hom</span> {<span class="nv">A</span>} `{Is01Cat A}
  : Is0Bifunctor (A:=A^op) (B:=A) (C:=<span class="kt">Type</span>) (@Hom A _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Bifunctor Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Bifunctor Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk1a">napply Build_Is0Bifunctor&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is01Cat A^op</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk1b"><hr></label><div class="goal-conclusion">Is01Cat A</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk1c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk1c"><hr></label><div class="goal-conclusion">Is0Functor (uncurry Hom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk1d"><span class="mi">1</span>-<span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> is0functor_hom.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** While it is possible to prove the bifunctor coherence condition from [Is1Cat_Strong], 1-functoriality requires morphism extensionality.*)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk1e"><span class="kn">Instance</span> <span class="nf">is1bifunctor_hom</span> {<span class="nv">A</span>} `{Is1Cat A} `{HasMorExt A}
  : Is1Bifunctor (A:=A^op) (B:=A) (C:=<span class="kt">Type</span>) (@Hom A _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Bifunctor Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk1f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Bifunctor Hom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk20">napply Build_Is1Bifunctor&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>IsGraph1</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph1</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat1</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry Hom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> is1functor_hom.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fun01_hom</span> {<span class="nv">A</span>} `{Is01Cat A}
  : Fun01 (A^op * A) <span class="kt">Type</span>
  := @Build_Fun01 _ _ _ _ _ is0functor_hom.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The covariant Yoneda lemma *)</span>

<span class="sd">(** This is easier than the contravariant version because it doesn&#39;t involve any &quot;op&quot;s. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{IsGraph A} (a : A) : A -&gt; <span class="kt">Type</span>
  := <span class="kr">fun</span> <span class="nv">b</span> =&gt; (a $-&gt; b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We prove this explicitly instead of using the bifunctor instance above so that we can apply [fmap] in each argument independently without mapping an identity in the other. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk21"><span class="kn">Instance</span> <span class="nf">is0functor_opyon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A)
  : Is0Functor (opyon a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (opyon a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (opyon a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk23"><span class="nb">apply</span> Build_Is0Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> <span class="nv">b</span> : A,
(a0 $-&gt; b) -&gt; opyon a a0 $-&gt; opyon a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk24"><span class="nb">unfold</span> opyon; <span class="nb">intros</span> b c f g; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a $-&gt; c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (f $o g).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk25"><span class="kn">Instance</span> <span class="nf">is1functor_opyon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} `{!HasMorExt A} (a : A)
  : Is1Functor (opyon a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (opyon a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk26"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (opyon a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk27">rapply Build_Is1Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">f</span> <span class="nv">g</span> : a0 $-&gt; b),
f $== g -&gt; fmap (opyon a) f $== fmap (opyon a) g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk28" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk28"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A,
fmap (opyon a) (Id a0) $== Id (opyon a a0)</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk29"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> <span class="nv">c</span> : A) (<span class="nv">f</span> : a0 $-&gt; b) 
(<span class="nv">g</span> : b $-&gt; c),
fmap (opyon a) (g $o f) $==
fmap (opyon a) g $o fmap (opyon a) f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">f</span> <span class="nv">g</span> : a0 $-&gt; b),
f $== g -&gt; fmap (opyon a) f $== fmap (opyon a) g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2b"><span class="nb">intros</span> x y f g p h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $== g</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) f h = fmap (opyon a) g h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2c"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $== g</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) f h $== fmap (opyon a) g h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (cat_prewhisker p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A,
fmap (opyon a) (Id a0) $== Id (opyon a a0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2e"><span class="nb">intros</span> x h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) (Id x) h = Id (opyon a x) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk2f"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) (Id x) h $== Id (opyon a x) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_idl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk30">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> <span class="nv">c</span> : A) (<span class="nv">f</span> : a0 $-&gt; b) 
(<span class="nv">g</span> : b $-&gt; c),
fmap (opyon a) (g $o f) $==
fmap (opyon a) g $o fmap (opyon a) f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk31"><span class="nb">intros</span> x y z f g h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>y $-&gt; z</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) (g $o f) h =
(fmap (opyon a) g $o fmap (opyon a) f) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk32"><span class="nb">apply</span> path_hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>y $-&gt; z</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>opyon a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon a) (g $o f) h $==
(fmap (opyon a) g $o fmap (opyon a) f) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We record these corollaries here, since we use some of them below. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_postcompose_cat_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!HasMorExt A}
  {x y z : A} (f : y $&lt;~&gt; z)
  : (x $-&gt; y) &lt;~&gt; (x $-&gt; z)
  := emap (opyon x) f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_precompose_cat_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!HasMorExt A}
  {x y z : A} (f : x $&lt;~&gt; y)
  : (y $-&gt; z) &lt;~&gt; (x $-&gt; z)
  := @equiv_postcompose_cat_equiv A^op _ _ _ _ _ _ z y x f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* The following implicitly use [hasequivs_core].  Note that when [A] has morphism extensionality, it doesn&#39;t follow that [core A] does.  We&#39;d need to know that being an equivalence is a proposition, and we don&#39;t assume that (since even for [Type] it requires [Funext], see [hasmorext_core_type]). So we need to assume this in the following results. *)</span>

<span class="sd">(** Postcomposition with a cat_equiv is an equivalence between the types of equivalences. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk33"><span class="kn">Definition</span> <span class="nf">equiv_postcompose_core_cat_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!HasMorExt (core A)}
  {x y z : A} (f : y $&lt;~&gt; z)
  : (x $&lt;~&gt; y) &lt;~&gt; (x $&lt;~&gt; z).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>y $&lt;~&gt; z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x $&lt;~&gt; y) &lt;~&gt; (x $&lt;~&gt; z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk34"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>y $&lt;~&gt; z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x $&lt;~&gt; y) &lt;~&gt; (x $&lt;~&gt; z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk35"><span class="nb">change</span> ((Build_core x $-&gt; Build_core y) &lt;~&gt; (Build_core x $-&gt; Build_core z)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>y $&lt;~&gt; z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({| uncore := x |} $-&gt; {| uncore := y |}) &lt;~&gt;
({| uncore := x |} $-&gt; {| uncore := z |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk36"><span class="nb">refine</span> (equiv_postcompose_cat_equiv (A := core A) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>y $&lt;~&gt; z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{| uncore := y |} $&lt;~&gt; {| uncore := z |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> f.  <span class="c">(* It doesn&#39;t work to insert [f] on the previous line. *)</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk37"><span class="kn">Definition</span> <span class="nf">equiv_precompose_core_cat_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!HasMorExt (core A)}
  {x y z : A} (f : x $&lt;~&gt; y)
  : (y $&lt;~&gt; z) &lt;~&gt; (x $&lt;~&gt; z).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $&lt;~&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y $&lt;~&gt; z) &lt;~&gt; (x $&lt;~&gt; z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk38"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $&lt;~&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(y $&lt;~&gt; z) &lt;~&gt; (x $&lt;~&gt; z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk39"><span class="nb">change</span> ((Build_core y $-&gt; Build_core z) &lt;~&gt; (Build_core x $-&gt; Build_core z)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $&lt;~&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({| uncore := y |} $-&gt; {| uncore := z |}) &lt;~&gt;
({| uncore := x |} $-&gt; {| uncore := z |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3a"><span class="nb">refine</span> (equiv_precompose_cat_equiv (A := core A) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt (core A)</span></span></span><br><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $&lt;~&gt; y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{| uncore := x |} $&lt;~&gt; {| uncore := y |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> f.  <span class="c">(* It doesn&#39;t work to insert [f] on the previous line. *)</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3b"><span class="kn">Definition</span> <span class="nf">opyoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A)
           (F : A -&gt; <span class="kt">Type</span>) {ff : Is0Functor F}
  : F a -&gt; (opyon a $=&gt; F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ff</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F a -&gt; opyon a $=&gt; F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ff</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F a -&gt; opyon a $=&gt; F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3d"><span class="nb">intros</span> x b f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>ff</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fmap F f x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">un_opyoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A}
  (a : A) (F : A -&gt; <span class="kt">Type</span>) {ff : Is0Functor F}
  : (opyon a $=&gt; F) -&gt; F a
  := <span class="kr">fun</span> <span class="nv">alpha</span> =&gt; alpha a (Id a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3e"><span class="kn">Instance</span> <span class="nf">is1natural_opyoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  (a : A) (F : A -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F} (x : F a)
  : Is1Natural (opyon a) F (opyoneda a F x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon a) F (opyoneda a F x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk3f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon a) F (opyoneda a F x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk40">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a0 $-&gt; a&#39;),
opyoneda a F x a&#39; $o fmap (opyon a) f $==
fmap F f $o opyoneda a F x a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk41"><span class="nb">unfold</span> opyon, opyoneda; <span class="nb">intros</span> b c f g; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (f $o g) x = fmap F f (fmap F g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fmap_comp F g f x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This is form of injectivity of [opyoneda]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk42"><span class="kn">Definition</span> <span class="nf">opyoneda_isinj</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F}
  (x x&#39; : F a) (p : <span class="kr">forall</span> <span class="nv">b</span>, opyoneda a F x b == opyoneda a F x&#39; b)
  : x = x&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda a F x b == opyoneda a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk43"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda a F x b == opyoneda a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk44"><span class="nb">refine</span> ((fmap_id F a x)^ @ _ @ fmap_id F a x&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda a F x b == opyoneda a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (Id a) x = fmap F (Id a) x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk45"><span class="nb">cbn</span> <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda a F x b == opyoneda a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (Id a) x = fmap F (Id a) x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p a (Id a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This says that [opyon] is faithful, although we haven&#39;t yet defined a graph structure on natural transformations to express this in that way.  This follows from the previous result, but then would need [HasMorExt A], since the previous result assumes that [F] is a 1-functor, which is stronger than what is needed.  The direct proof below only needs the weaker assumption [Is1Cat_Strong A]. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon_faithful</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat_Strong A}
  (a b : A) (f g : b $-&gt; a)
  (p : <span class="kr">forall</span> (<span class="nv">c</span> : A) (<span class="nv">h</span> : a $-&gt; c), h $o f = h $o g)
  : f = g
  := (cat_idl_strong f)^ @ p a (Id a) @ cat_idl_strong g.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The composite in one direction is the identity map. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyoneda_issect</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
           (F : A -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F}
           (x : F a)
  : un_opyoneda a F (opyoneda a F x) = x
  := fmap_id F a x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** We assume for the converse that the coherences in [A] are equalities (this is a weak funext-type assumption).  Note that we do not in general recover the witness of 1-naturality.  Indeed, if [A] is fully coherent, then a transformation of the form [opyoneda a F x] is always also fully coherently natural, so an incoherent witness of 1-naturality could not be recovered in this way.  *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk46"><span class="kn">Definition</span> <span class="nf">opyoneda_isretr</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat_Strong A} (a : A)
           (F : A -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F}
           (alpha : opyon a $=&gt; F) {alnat : Is1Natural (opyon a) F alpha}
           (b : A)
  : opyoneda a F (un_opyoneda a F alpha) b $== alpha b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyoneda a F (un_opyoneda a F alpha) b $== alpha b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk47"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyoneda a F (un_opyoneda a F alpha) b $== alpha b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk48"><span class="nb">unfold</span> opyoneda, un_opyoneda, opyon; <span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F f (alpha a (Id a)) = alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk49"><span class="nb">refine</span> ((isnat alpha f (Id a))^ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(alpha b $o fmap (opyon a) f) (Id a) = alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4a"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">alpha b (f $o Id a) = alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4b"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f $o Id a = f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_idr_strong f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A natural transformation between representable functors induces a map between the representing objects. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon_cancel</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a b : A)
  : (opyon a $=&gt; opyon b) -&gt; (b $-&gt; a)
  := un_opyoneda a (opyon b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4c"><span class="kn">Definition</span> <span class="nf">opyon1</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A) : Fun01 A <span class="kt">Type</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fun01 A <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fun01 A <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Build_Fun01 _ _ (opyon a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4e"><span class="kn">Definition</span> <span class="nf">opyon11</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} `{!HasMorExt A} (a : A) : Fun11 A <span class="kt">Type</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fun11 A <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk4f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fun11 A <span class="kt">Type</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Build_Fun11 _ _ (opyon a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** An equivalence between representable functors induces an equivalence between the representing objects. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk50"><span class="kn">Definition</span> <span class="nf">opyon_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!Is1Cat_Strong A}
           {a b : A}
  : (opyon1 a $&lt;~&gt; opyon1 b) -&gt; (b $&lt;~&gt; a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1 a $&lt;~&gt; opyon1 b -&gt; b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk51"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1 a $&lt;~&gt; opyon1 b -&gt; b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk52"><span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk53"><span class="nb">refine</span> (cate_adjointify (f a (Id a)) (f^-<span class="mi">1</span>$ b (Id b)) _ _);
    <span class="nb">apply</span> GpdHom_path; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a (Id a) $o (f b)^-<span class="mi">1</span> (Id b) = Id a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk54"><hr></label><div class="goal-conclusion">(f b)^-<span class="mi">1</span> (Id b) $o f a (Id a) = Id b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a (Id a) $o (f b)^-<span class="mi">1</span> (Id b) = Id a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk56"><span class="nb">refine</span> ((isnat_natequiv (natequiv_inverse f) (f a (Id a)) (Id b))^ @ _); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(f a)^-<span class="mi">1</span> (f a (Id a) $o Id b) = Id a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk57"><span class="nb">refine</span> (_ @ cate_issect (f a) (Id a)); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(f a)^-<span class="mi">1</span> (f a (Id a) $o Id b) = (f a)^-<span class="mi">1</span> (f a (Id a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk58"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a (Id a) $o Id b = f a (Id a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">srapply cat_idr_strong.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(f b)^-<span class="mi">1</span> (Id b) $o f a (Id a) = Id b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5a"><span class="nb">refine</span> ((isnat_natequiv f (f^-<span class="mi">1</span>$ b (Id b)) (Id a))^ @ _); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b ((f b)^-<span class="mi">1</span> (Id b) $o Id a) = Id b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5b"><span class="nb">refine</span> (_ @ cate_isretr (f b) (Id b)); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b ((f b)^-<span class="mi">1</span> (Id b) $o Id a) = f b ((f b)^-<span class="mi">1</span> (Id b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5c"><span class="nb">apply</span> ap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>Is1Cat_Strong0</var><span class="hyp-type"><b>: </b><span>Is1Cat_Strong A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1 a $&lt;~&gt; opyon1 b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(f b)^-<span class="mi">1</span> (Id b) $o Id a = (f b)^-<span class="mi">1</span> (Id b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">srapply cat_idr_strong.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5d"><span class="kn">Definition</span> <span class="nf">natequiv_opyon_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  `{!HasMorExt A} {a b : A}
  : (b $&lt;~&gt; a) -&gt; (opyon1 a $&lt;~&gt; opyon1 b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a -&gt; opyon1 a $&lt;~&gt; opyon1 b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a -&gt; opyon1 a $&lt;~&gt; opyon1 b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk5f"><span class="nb">intro</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1 a $&lt;~&gt; opyon1 b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk60">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A, opyon1 a a0 $&lt;~&gt; opyon1 b a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk61"><hr></label><div class="goal-conclusion">Is1Natural (opyon1 a) (opyon1 b) (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="nl">?e</span> a0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A, opyon1 a a0 $&lt;~&gt; opyon1 b a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk63"><span class="nb">intros</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1 a c $&lt;~&gt; opyon1 b c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_precompose_cat_equiv e).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk64">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>HasMorExt0</var><span class="hyp-type"><b>: </b><span>HasMorExt A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon1 a) (opyon1 b)
  (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
   (<span class="kr">fun</span> <span class="nv">c</span> : A =&gt; equiv_precompose_cat_equiv e) a0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">rapply is1natural_opyoneda.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The covariant Yoneda lemma using 0-groupoids *)</span>

<span class="sd">(** We repeat the above, regarding [opyon] as landing in 0-groupoids, using the 1-category structure on [ZeroGpd] in [ZeroGroupoid.v].  This has many advantages.  It avoids [HasMorExt], which means that we don&#39;t need [Funext] in many examples.  It also avoids [Is1Cat_Strong], which means the results all have the same hypotheses, namely that [A] is a 1-category.  This allows us to simplify the proof of [opyon_equiv_0gpd], making use of [opyoneda_isretr_0gpd]. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A) : A -&gt; ZeroGpd
  := <span class="kr">fun</span> <span class="nv">b</span> =&gt; Build_ZeroGpd (a $-&gt; b) _ _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk65"><span class="kn">Instance</span> <span class="nf">is0functor_hom_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  : Is0Functor (A:=A^op*A) (B:=ZeroGpd) (uncurry (opyon_0gpd (A:=A))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk66"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk67">napply Build_Is0Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A^op * A,
(a $-&gt; b) -&gt;
uncurry opyon_0gpd a $-&gt; uncurry opyon_0gpd b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk68"><span class="nb">intros</span> [a1 a2] [b1 b2] [f1 f2]; <span class="nb">unfold</span> op <span class="kr">in</span> *; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1, a2, b1, b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>b1 $-&gt; a1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>a2 $-&gt; b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Fun01 (a1 $-&gt; a2) (b1 $-&gt; b2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply (Build_Fun01 (opyon_0gpd a1 a2) (opyon_0gpd b1 b2)
          (cat_postcomp b1 f2 o cat_precomp a2 f1)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk69"><span class="kn">Instance</span> <span class="nf">is1functor_hom_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  : Is1Functor (A:=A^op*A) (B:=ZeroGpd) (uncurry (opyon_0gpd (A:=A))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk6b">napply Build_Is1Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A^op * A) 
(<span class="nv">f</span> <span class="nv">g</span> : a $-&gt; b),
f $== g -&gt;
fmap (uncurry opyon_0gpd) f $==
fmap (uncurry opyon_0gpd) g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk6c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk6c"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A^op * A,
fmap (uncurry opyon_0gpd) (Id a) $==
Id (uncurry opyon_0gpd a)</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk6d"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A^op * A) 
(<span class="nv">f</span> : a $-&gt; b) (<span class="nv">g</span> : b $-&gt; c),
fmap (uncurry opyon_0gpd) (g $o f) $==
fmap (uncurry opyon_0gpd) g $o
fmap (uncurry opyon_0gpd) f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk6e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A^op * A) 
(<span class="nv">f</span> <span class="nv">g</span> : a $-&gt; b),
f $== g -&gt;
fmap (uncurry opyon_0gpd) f $==
fmap (uncurry opyon_0gpd) g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk6f"><span class="nb">intros</span> [a1 a2] [b1 b2] [f1 f2] [g1 g2] [p q] h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>fst (f1, f2) $-&gt; fst (g1, g2)</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>snd (f1, f2) $-&gt; snd (g1, g2)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (uncurry opyon_0gpd) (f1, f2) h $-&gt;
fmap (uncurry opyon_0gpd) (g1, g2) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (h $@L p $@@ q).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk70">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A^op * A,
fmap (uncurry opyon_0gpd) (Id a) $==
Id (uncurry opyon_0gpd a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk71"><span class="nb">intros</span> [a1 a2] h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (uncurry opyon_0gpd) (Id (a1, a2)) h $-&gt;
Id (uncurry opyon_0gpd (a1, a2)) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_idl _ $@ cat_idr _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk72">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A^op * A) 
(<span class="nv">f</span> : a $-&gt; b) (<span class="nv">g</span> : b $-&gt; c),
fmap (uncurry opyon_0gpd) (g $o f) $==
fmap (uncurry opyon_0gpd) g $o
fmap (uncurry opyon_0gpd) f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk73"><span class="nb">intros</span> [a1 a2] [b1 b2] [c1 c2] [f1 f2] [g1 g2] h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>fst (b1, b2) $-&gt; fst (c1, c2)</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>snd (b1, b2) $-&gt; snd (c1, c2)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (uncurry opyon_0gpd) ((g1, g2) $o (f1, f2)) h $-&gt;
(fmap (uncurry opyon_0gpd) (g1, g2) $o
 fmap (uncurry opyon_0gpd) (f1, f2)) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk74"><span class="nb">refine</span> (cat_assoc _ _ _ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>fst (b1, b2) $-&gt; fst (c1, c2)</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>snd (b1, b2) $-&gt; snd (c1, c2)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">g2 $o
(f2 $o cat_precomp a2 (fst ((g1, g2) $o (f1, f2))) h) $==
(fmap (uncurry opyon_0gpd) (g1, g2) $o
 fmap (uncurry opyon_0gpd) (f1, f2)) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk75"><span class="nb">refine</span> (g2 $@L _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>fst (b1, b2) $-&gt; fst (c1, c2)</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>snd (b1, b2) $-&gt; snd (c1, c2)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f2 $o cat_precomp a2 (fst ((g1, g2) $o (f1, f2))) h $==
cat_precomp b2 g1
  (fmap (uncurry opyon_0gpd) (f1, f2) h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk76"><span class="nb">refine</span> (_ $@L (cat_assoc_opp _ _ _) $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>c1</var><span class="hyp-type"><b>: </b><span>A^op</span></span></span><br><span><var>c2</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>fst (a1, a2) $-&gt; fst (b1, b2)</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>snd (a1, a2) $-&gt; snd (b1, b2)</span></span></span><br><span><var>g1</var><span class="hyp-type"><b>: </b><span>fst (b1, b2) $-&gt; fst (c1, c2)</span></span></span><br><span><var>g2</var><span class="hyp-type"><b>: </b><span>snd (b1, b2) $-&gt; snd (c1, c2)</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (uncurry opyon_0gpd (a1, a2)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f2 $o (h $o f1 $o g1) $==
cat_precomp b2 g1
  (fmap (uncurry opyon_0gpd) (f1, f2) h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_assoc_opp _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk77"><span class="kn">Instance</span> <span class="nf">is0bifunctor_hom_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  : Is0Bifunctor (A:=A^op) (B:=A) (C:=ZeroGpd) (opyon_0gpd (A:=A)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Bifunctor opyon_0gpd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk78"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Bifunctor opyon_0gpd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk79">snapply Build_Is0Bifunctor&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is01Cat A^op</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk7a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk7a"><hr></label><div class="goal-conclusion">Is01Cat A</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk7b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk7b"><hr></label><div class="goal-conclusion">Is0Functor (uncurry opyon_0gpd)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk7c"><span class="mi">1</span>,<span class="mi">2</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> is0functor_hom_0gpd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk7d"><span class="kn">Instance</span> <span class="nf">is1bifunctor_hom_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  : Is1Bifunctor (A:=A^op) (B:=A) (C:=ZeroGpd) (opyon_0gpd (A:=A)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Bifunctor opyon_0gpd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk7e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Bifunctor opyon_0gpd</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk7f">snapply Build_Is1Bifunctor&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (uncurry opyon_0gpd)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> is1functor_hom_0gpd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk80"><span class="kn">Instance</span> <span class="nf">is0functor_opyon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  : Is0Functor (opyon_0gpd a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (opyon_0gpd a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (opyon_0gpd a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk82"><span class="nb">apply</span> Build_Is0Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> <span class="nv">b</span> : A,
(a0 $-&gt; b) -&gt; opyon_0gpd a a0 $-&gt; opyon_0gpd a b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk83"><span class="nb">intros</span> b c f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon_0gpd a b $-&gt; opyon_0gpd a c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Build_Fun01 (opyon_0gpd a b) (opyon_0gpd a c) (cat_postcomp a f)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk84"><span class="kn">Instance</span> <span class="nf">is1functor_opyon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  : Is1Functor (opyon_0gpd a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (opyon_0gpd a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk85"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Functor (opyon_0gpd a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk86">rapply Build_Is1Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">f</span> <span class="nv">g</span> : a0 $-&gt; b),
f $== g -&gt;
fmap (opyon_0gpd a) f $== fmap (opyon_0gpd a) g</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk87"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A,
fmap (opyon_0gpd a) (Id a0) $== Id (opyon_0gpd a a0)</div></blockquote><input class="alectryon-extra-goal-toggle" id="yoneda-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chk88"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> <span class="nv">c</span> : A) (<span class="nv">f</span> : a0 $-&gt; b) 
(<span class="nv">g</span> : b $-&gt; c),
fmap (opyon_0gpd a) (g $o f) $==
fmap (opyon_0gpd a) g $o fmap (opyon_0gpd a) f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk89">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> : A) (<span class="nv">f</span> <span class="nv">g</span> : a0 $-&gt; b),
f $== g -&gt;
fmap (opyon_0gpd a) f $== fmap (opyon_0gpd a) g</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8a"><span class="nb">intros</span> x y f g p h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, x, y</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f $== g</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon_0gpd a) f h $-&gt; fmap (opyon_0gpd a) g h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (cat_prewhisker p).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A,
fmap (opyon_0gpd a) (Id a0) $== Id (opyon_0gpd a a0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8c"><span class="nb">intros</span> x h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon_0gpd a) (Id x) h $-&gt; Id (opyon_0gpd a x) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_idl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">b</span> <span class="nv">c</span> : A) (<span class="nv">f</span> : a0 $-&gt; b) 
(<span class="nv">g</span> : b $-&gt; c),
fmap (opyon_0gpd a) (g $o f) $==
fmap (opyon_0gpd a) g $o fmap (opyon_0gpd a) f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8e"><span class="nb">intros</span> x y z f g h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a, x, y, z</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>x $-&gt; y</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>y $-&gt; z</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap (opyon_0gpd a) (g $o f) h $-&gt;
(fmap (opyon_0gpd a) g $o fmap (opyon_0gpd a) f) h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cat_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk8f"><span class="kn">Definition</span> <span class="nf">opyoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
           (F : A -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  : F a -&gt; (opyon_0gpd a $=&gt; F).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F a -&gt; opyon_0gpd a $=&gt; F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk90"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">F a -&gt; opyon_0gpd a $=&gt; F</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk91"><span class="nb">intros</span> x b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon_0gpd a b $-&gt; F b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk92"><span class="nb">refine</span> (Build_Fun01 (opyon_0gpd a b) (F b) (<span class="kr">fun</span> <span class="nv">f</span> =&gt; fmap F f x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is0Functor (<span class="kr">fun</span> <span class="nv">f</span> : opyon_0gpd a b =&gt; fmap F f x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk93">rapply Build_Is0Functor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> <span class="nv">b0</span> : opyon_0gpd a b,
(a0 $-&gt; b0) -&gt; fmap F a0 x $-&gt; fmap F b0 x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk94"><span class="nb">intros</span> f1 f2 h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f1, f2</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a b</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>f1 $-&gt; f2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F f1 x $-&gt; fmap F f2 x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fmap2 F h x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">un_opyoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  (a : A) (F : A -&gt; ZeroGpd) {ff : Is0Functor F}
  : (opyon_0gpd a $=&gt; F) -&gt; F a
  := <span class="kr">fun</span> <span class="nv">alpha</span> =&gt; alpha a (Id a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk95"><span class="kn">Instance</span> <span class="nf">is1natural_opyoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  (a : A) (F : A -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F} (x : F a)
  : Is1Natural (opyon_0gpd a) F (opyoneda_0gpd a F x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon_0gpd a) F (opyoneda_0gpd a F x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon_0gpd a) F (opyoneda_0gpd a F x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk97">snapply Build_Is1Natural.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a0</span> <span class="nv">a&#39;</span> : A) (<span class="nv">f</span> : a0 $-&gt; a&#39;),
opyoneda_0gpd a F x a&#39; $o fmap (opyon_0gpd a) f $==
fmap F f $o opyoneda_0gpd a F x a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk98"><span class="nb">unfold</span> opyon_0gpd, opyoneda_0gpd; <span class="nb">intros</span> b c f g; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>b $-&gt; c</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>a $-&gt; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (cat_postcomp a f g) x $-&gt;
fmap F f (fmap F g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (fmap_comp F g f x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This is form of injectivity of [opyoneda_0gpd]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk99"><span class="kn">Definition</span> <span class="nf">opyoneda_isinj_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (x x&#39; : F a) (p : <span class="kr">forall</span> <span class="nv">b</span> : A, opyoneda_0gpd a F x b $== opyoneda_0gpd a F x&#39; b)
  : x $== x&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda_0gpd a F x b $== opyoneda_0gpd a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x $== x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda_0gpd a F x b $== opyoneda_0gpd a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x $== x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9b"><span class="nb">refine</span> ((fmap_id F a x)^$ $@ _ $@ fmap_id F a x&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
opyoneda_0gpd a F x b $== opyoneda_0gpd a F x&#39; b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (Id a) x $== fmap F (Id a) x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9c"><span class="nb">cbn</span> <span class="kr">in</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>x, x'</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : A,
(<span class="kr">fun</span> <span class="nv">f</span> : a $-&gt; b =&gt; fmap F f x) $=&gt;
(<span class="kr">fun</span> <span class="nv">f</span> : a $-&gt; b =&gt; fmap F f x&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fmap F (Id a) x $== fmap F (Id a) x&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (p a (Id a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** This says that [opyon_0gpd] is faithful, although we haven&#39;t yet defined a graph structure on natural transformations to express this in that way. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon_faithful_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a b : A)
  (f g : b $-&gt; a) (p : <span class="kr">forall</span> (<span class="nv">c</span> : A) (<span class="nv">h</span> : a $-&gt; c), h $o f $== h $o g)
  : f $== g
  := opyoneda_isinj_0gpd a _ f g p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The composite in one direction is the identity map. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyoneda_issect_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (x : F a)
  : un_opyoneda_0gpd a F (opyoneda_0gpd a F x) $== x
  := fmap_id F a x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For the other composite, note that we do not in general recover the witness of 1-naturality.  Indeed, if [A] is fully coherent, then a transformation of the form [opyoneda a F x] is always also fully coherently natural, so an incoherent witness of 1-naturality could not be recovered in this way.  *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9d"><span class="kn">Definition</span> <span class="nf">opyoneda_isretr_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (alpha : opyon_0gpd a $=&gt; F) {alnat : Is1Natural (opyon_0gpd a) F alpha}
  (b : A)
  : opyoneda_0gpd a F (un_opyoneda_0gpd a F alpha) b $== alpha b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyoneda_0gpd a F (un_opyoneda_0gpd a F alpha) b $==
alpha b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyoneda_0gpd a F (un_opyoneda_0gpd a F alpha) b $==
alpha b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chk9f"><span class="nb">unfold</span> opyoneda, un_opyoneda, opyon; <span class="nb">intros</span> f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyoneda_0gpd a F (un_opyoneda_0gpd a F alpha) b f $-&gt;
alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka0"><span class="nb">refine</span> ((isnat alpha f (Id a))^$ $@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(alpha b $o fmap (opyon_0gpd a) f) (Id a) $==
alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka1"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">alpha b (cat_postcomp a f (Id a)) $== alpha b f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka2"><span class="nb">apply</span> (fmap (alpha b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; ZeroGpd</span></span></span><br><span><var>Is0Functor0</var><span class="hyp-type"><b>: </b><span>Is0Functor F</span></span></span><br><span><var>Is1Functor0</var><span class="hyp-type"><b>: </b><span>Is1Functor F</span></span></span><br><span><var>alpha</var><span class="hyp-type"><b>: </b><span>opyon_0gpd a $=&gt; F</span></span></span><br><span><var>alnat</var><span class="hyp-type"><b>: </b><span>Is1Natural (opyon_0gpd a) F alpha</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon_0gpd a b))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cat_postcomp a f (Id a) $-&gt; f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cat_idr f).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A natural transformation between representable functors induces a map between the representing objects. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon_cancel_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a b : A)
  : (opyon_0gpd a $=&gt; opyon_0gpd b) -&gt; (b $-&gt; a)
  := un_opyoneda_0gpd a (opyon_0gpd b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Since no extra hypotheses are needed, we use the name with &quot;1&quot; for the [Fun11] version. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">opyon1_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A) : Fun11 A ZeroGpd
  := Build_Fun11 _ _ (opyon_0gpd a).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** An equivalence between representable functors induces an equivalence between the representing objects.  We explain how this compares to [opyon_equiv] above.  Instead of assuming that each [f c : (a $-&gt; c) -&gt; (b $-&gt; c)] is an equivalence of types, it only needs to be an equivalence of 0-groupoids.  For example, this means that we have a map [g c : (b $-&gt; c) -&gt; (a $-&gt; c)] such that for each [k : a $-&gt; c], [g c (f c k) $== k], rather than [g c (f c k) = k] as the version with types requires.  Similarly, the naturality is up to 2-cells, instead of up to paths.  This allows us to avoid [Funext] and [HasMorExt] when using this result.  As a side benefit, we also don&#39;t require that [A] is strong. The proof is also simpler, since we can re-use the work done in [opyoneda_isretr_0gpd]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka3"><span class="kn">Definition</span> <span class="nf">opyon_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {a b : A} (f : opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b)
  : b $&lt;~&gt; a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* These are the maps that will define the desired equivalence: *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka5"><span class="nb">set</span> (fa := (cate_fun f a) (Id a)).     <span class="c">(* Equivalently, [un_opyoneda_0gpd a _ f]. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka6"><span class="nb">set</span> (gb := (cate_fun f^-<span class="mi">1</span>$ b) (Id b)). <span class="c">(* Equivalently, [un_opyoneda_0gpd b _ f^-1$]. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br><span><var>gb</var><span><span class="hyp-body"><b>:= </b><span>f^-<span class="mi">1</span>$ b (Id b)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd a b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b $&lt;~&gt; a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka7">srapply (cate_adjointify fa gb).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br><span><var>gb</var><span><span class="hyp-body"><b>:= </b><span>f^-<span class="mi">1</span>$ b (Id b)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd a b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fa $o gb $== Id a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chka8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br><span><var>gb</var><span><span class="hyp-body"><b>:= </b><span>f^-<span class="mi">1</span>$ b (Id b)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd a b))</span></span></span></span><br></div><label class="goal-separator" for="yoneda-v-chka8"><hr></label><div class="goal-conclusion">gb $o fa $== Id b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  <span class="c">(* [opyoneda_0gpd] is defined by postcomposition, so [opyoneda_isretr_0gpd] simplifies both LHSs.*)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chka9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br><span><var>gb</var><span><span class="hyp-body"><b>:= </b><span>f^-<span class="mi">1</span>$ b (Id b)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd a b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fa $o gb $== Id a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (opyoneda_isretr_0gpd _ _ f^-<span class="mi">1</span>$ a fa $@ cat_eissect (f a) (Id a)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkaa">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</span></span></span><br><span><var>fa</var><span><span class="hyp-body"><b>:= </b><span>f a (Id a)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd b a))</span></span></span></span><br><span><var>gb</var><span><span class="hyp-body"><b>:= </b><span>f^-<span class="mi">1</span>$ b (Id b)</span></span><span class="hyp-type"><b>: </b><span>Graph.graph_carrier
  (zerogpd_graph (opyon1_0gpd a b))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">gb $o fa $== Id b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (opyoneda_isretr_0gpd _ _ f     b gb $@ cat_eisretr (f b) (Id b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** Since [opyon_0gpd] is a 1-functor, postcomposition with a [cat_equiv] is an equivalence between the hom 0-groupoids. Note that we do not require [HasMorExt], as [equiv_postcompose_cat_equiv] does. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_postcompose_cat_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {x y z : A} (f : y $&lt;~&gt; z)
  : opyon_0gpd x y $&lt;~&gt; opyon_0gpd x z
  := emap (opyon_0gpd x) f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The dual result, which is used in the next result. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_precompose_cat_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {x y z : A} (f : x $&lt;~&gt; y)
  : opyon_0gpd y z $&lt;~&gt; opyon_0gpd x z
  := @equiv_postcompose_cat_equiv_0gpd A^op _ _ _ _ _ z y x f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** A converse to [opyon_equiv_0gpd].  Together, we get a logical equivalence between [b $&lt;~&gt; a] and [opyon_0gpd a $&lt;~&gt; opyon_0gpd b], without [HasMorExt]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkab"><span class="kn">Definition</span> <span class="nf">natequiv_opyon_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {a b : A} (e : b $&lt;~&gt; a)
  : opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">opyon1_0gpd a $&lt;~&gt; opyon1_0gpd b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkad">snapply Build_NatEquiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A, opyon1_0gpd a a0 $&lt;~&gt; opyon1_0gpd b a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="yoneda-v-chkae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><label class="goal-separator" for="yoneda-v-chkae"><hr></label><div class="goal-conclusion">Is1Natural (opyon1_0gpd a) 
  (opyon1_0gpd b) (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt; <span class="nl">?e</span> a0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkaf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A, opyon1_0gpd a a0 $&lt;~&gt; opyon1_0gpd b a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intro</span> c; <span class="bp">exact</span> (equiv_precompose_cat_equiv_0gpd e).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="yoneda-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="yoneda-v-chkb0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IsGraph0</var><span class="hyp-type"><b>: </b><span>IsGraph A</span></span></span><br><span><var>Is2Graph0</var><span class="hyp-type"><b>: </b><span>Is2Graph A</span></span></span><br><span><var>Is01Cat0</var><span class="hyp-type"><b>: </b><span>Is01Cat A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Is1Cat A</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasEquivs A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b $&lt;~&gt; a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Is1Natural (opyon1_0gpd a) 
  (opyon1_0gpd b)
  (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
   (<span class="kr">fun</span> <span class="nv">c</span> : A =&gt; equiv_precompose_cat_equiv_0gpd e) a0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">tapply is1natural_opyoneda_0gpd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The contravariant Yoneda lemma *)</span>

<span class="sd">(** We can deduce this from the covariant version with some boilerplate. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{IsGraph A} (a : A) : A^op -&gt; <span class="kt">Type</span>
  := opyon (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is0functor_yon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{H : Is01Cat A} (a : A)
  : Is0Functor (yon a)
  := is0functor_opyon (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is1functor_yon</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{H : Is1Cat A} `{!HasMorExt A} (a : A)
  : Is1Functor (yon a)
  := is1functor_opyon (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A)
           (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F}
  : F a -&gt; (yon a $=&gt; F)
  := @opyoneda (A^op) _ _ a F _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">un_yoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A)
           (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F}
  : (yon a $=&gt; F) -&gt; F a
  := un_opyoneda (A:=A^op) a F.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is1natural_yoneda</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
       (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F} (x : F a)
  : Is1Natural (yon a) F (yoneda a F x)
  := is1natural_opyoneda (A:=A^op) a F x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_isinj</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F}
  (x x&#39; : F a) (p : <span class="kr">forall</span> <span class="nv">b</span>, yoneda a F x b == yoneda a F x&#39; b)
  : x = x&#39;
  := opyoneda_isinj (A:=A^op) a F x x&#39; p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_faithful</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat_Strong A}
  (a b : A) (f g : b $-&gt; a)
  (p : <span class="kr">forall</span> (<span class="nv">c</span> : A) (<span class="nv">h</span> : c $-&gt; b), f $o h = g $o h)
  : f = g
  := opyon_faithful (A:=A^op) b a f g p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_issect</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
           (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F, !Is1Functor F} (x : F a)
  : un_yoneda a F (yoneda a F x) = x
  := opyoneda_issect (A:=A^op) a F x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_isretr</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat_Strong A} (a : A)
           (F : A^op -&gt; <span class="kt">Type</span>) `{!Is0Functor F}
           <span class="c">(* Without the hint here, Coq guesses to first project from [Is1Cat_Strong A] and then pass to opposites, whereas what we need is to first pass to opposites and then project. *)</span>
           `{@Is1Functor _ _ _ _ _ (is1cat_is1cat_strong A^op) _ _ _ _ F _}
           (alpha : yon a $=&gt; F) {alnat : Is1Natural (yon a) F alpha}
           (b : A)
  : yoneda a F (un_yoneda a F alpha) b $== alpha b
  := opyoneda_isretr (A:=A^op) a F alpha b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_cancel</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a b : A)
  : (yon a $=&gt; yon b) -&gt; (a $-&gt; b)
  := un_yoneda a (yon b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon1</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is01Cat A} (a : A) : Fun01 A^op <span class="kt">Type</span>
  := opyon1 (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon11</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} `{!HasMorExt A} (a : A) : Fun11 A^op <span class="kt">Type</span>
  := opyon11 (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A} `{!Is1Cat_Strong A}
           (a b : A)
  : (yon1 a $&lt;~&gt; yon1 b) -&gt; (a $&lt;~&gt; b)
  := opyon_equiv (A:=A^op).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">natequiv_yon_equiv</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  `{!HasMorExt A} (a b : A)
  : (a $&lt;~&gt; b) -&gt; (yon1 a $&lt;~&gt; yon1 b)
  := natequiv_opyon_equiv (A:=A^op).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** The contravariant Yoneda lemma using 0-groupoids *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A) : A^op -&gt; ZeroGpd
  := opyon_0gpd (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is0functor_yon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  : Is0Functor (yon_0gpd a)
  := is0functor_opyon_0gpd (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is1functor_yon_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  : Is1Functor (yon_0gpd a)
  := is1functor_opyon_0gpd (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A^op -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  : F a -&gt; (yon_0gpd a $=&gt; F)
  := opyoneda_0gpd (A:=A^op) a F.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">un_yoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  (a : A) (F : A^op -&gt; ZeroGpd) {ff : Is0Functor F}
  : (yon_0gpd a $=&gt; F) -&gt; F a
  := un_opyoneda_0gpd (A:=A^op) a F.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Instance</span> <span class="nf">is1natural_yoneda_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A}
  (a : A) (F : A^op -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F} (x : F a)
  : Is1Natural (yon_0gpd a) F (yoneda_0gpd a F x)
  := is1natural_opyoneda_0gpd (A:=A^op) a F x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_isinj_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A^op -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (x x&#39; : F a) (p : <span class="kr">forall</span> <span class="nv">b</span> : A, yoneda_0gpd a F x b $== yoneda_0gpd a F x&#39; b)
  : x $== x&#39;
  := opyoneda_isinj_0gpd (A:=A^op) a F x x&#39; p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_faithful_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a b : A)
  (f g : b $-&gt; a) (p : <span class="kr">forall</span> (<span class="nv">c</span> : A) (<span class="nv">h</span> : c $-&gt; b), f $o h $== g $o h)
  : f $== g
  := opyon_faithful_0gpd (A:=A^op) b a f g p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_issect_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A^op -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (x : F a)
  : un_yoneda_0gpd a F (yoneda_0gpd a F x) $== x
  := opyoneda_issect_0gpd (A:=A^op) a F x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yoneda_isretr_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A)
  (F : A^op -&gt; ZeroGpd) `{!Is0Functor F, !Is1Functor F}
  (alpha : yon_0gpd a $=&gt; F) {alnat : Is1Natural (yon_0gpd a) F alpha}
  (b : A)
  : yoneda_0gpd a F (un_yoneda_0gpd a F alpha) b $== alpha b
  := opyoneda_isretr_0gpd (A:=A^op) a F alpha b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_cancel_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a b : A)
  : (yon_0gpd a $=&gt; yon_0gpd b) -&gt; (a $-&gt; b)
  := opyon_cancel_0gpd (A:=A^op) a b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon1_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{Is1Cat A} (a : A) : Fun11 A^op ZeroGpd
  := opyon1_0gpd (A:=A^op) a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">yon_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {a b : A} (f : yon1_0gpd a $&lt;~&gt; yon1_0gpd b)
  : a $&lt;~&gt; b
  := opyon_equiv_0gpd (A:=A^op) f.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">natequiv_yon_equiv_0gpd</span> {<span class="nv">A</span> : <span class="kt">Type</span>} `{HasEquivs A}
  {a b : A} (e : a $&lt;~&gt; b)
  : yon1_0gpd (A:=A) a $&lt;~&gt; yon1_0gpd b
  := natequiv_opyon_equiv_0gpd (A:=A^op) (e : CatEquiv (A:=A^op) b a).</span></span></pre>
</div>
</div></body>
</html>
