<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>DirectSum.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk0"><span class="kn">From</span> HoTT <span class="kn">Require Import</span> Basics Types Truncations.Core.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Pointed.Core.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> WildCat.Core Homotopy.ExactSequence.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> AbGroups.AbelianGroup AbSES.Core AbGroups.Biproduct.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> pointed_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> type_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> mc_add_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * The direct sum of short exact sequences *)</span>

<span class="sd">(** Biproducts of abelian groups preserve exactness. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1"><span class="kn">Lemma</span> <span class="nf">ab_biprod_exact</span> {<span class="nv">A</span> <span class="nv">E</span> <span class="nv">B</span> <span class="nv">X</span> <span class="nv">F</span> <span class="nv">Y</span> : AbGroup}
      (<span class="nv">i</span> : A $-&gt; E) (<span class="nv">p</span> : E $-&gt; B) `{ex0 : IsExact (Tr (-<span class="mi">1</span>)) _ _ _ i p}
      (j : X $-&gt; F) (q : F $-&gt; Y) `{ex1 : IsExact (Tr (-<span class="mi">1</span>)) _ _ _ j q}
  : IsExact (Tr (-<span class="mi">1</span>)) (functor_ab_biprod i j)
            (functor_ab_biprod p q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsExact (Tr (-<span class="mi">1</span>)) (functor_ab_biprod i j)
  (functor_ab_biprod p q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsExact (Tr (-<span class="mi">1</span>)) (functor_ab_biprod i j)
  (functor_ab_biprod p q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk3">snapply Build_IsExact.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComplex (functor_ab_biprod i j)
  (functor_ab_biprod p q)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk4"><hr></label><div class="goal-conclusion">ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (cxfib <span class="nl">?cx_isexact</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsComplex (functor_ab_biprod i j)
  (functor_ab_biprod p q)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk6">snapply phomotopy_homotopy_hset.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsHSet (ab_biprod B Y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk7"><hr></label><div class="goal-conclusion">functor_ab_biprod p q o* functor_ab_biprod i j ==
pconst</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk8"><span class="mi">1</span>: <span class="bp">exact</span> _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_ab_biprod p q o* functor_ab_biprod i j ==
pconst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk9"><span class="nb">intro</span> x; <span class="nb">apply</span> path_prod; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ab_biprod A X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (i (fst x)) = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ab_biprod A X</span></span></span><br></div><label class="goal-separator" for="directsum-v-chka"><hr></label><div class="goal-conclusion">q (j (snd x)) = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chkb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ab_biprod A X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (i (fst x)) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ex0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chkc">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ab_biprod A X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q (j (snd x)) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ex1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chkd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectiveSubuniverse.IsConnMap (Tr (-<span class="mi">1</span>))
  (cxfib
     (phomotopy_homotopy_hset
        ((<span class="kr">fun</span> <span class="nv">x</span> : ab_biprod A X =&gt;
          path_prod
            ((functor_ab_biprod p q
              o* functor_ab_biprod i j) x) (pconst x)
            ((<span class="kr">let</span> <span class="nv">X0</span> := cx_isexact <span class="kr">in</span>
              <span class="kr">let</span> <span class="nv">X1</span> := pointed_fun X0 <span class="kr">in</span> X1 (fst x))
             :
             fst
               ((functor_ab_biprod p q
                 o* functor_ab_biprod i j) x) =
             fst (pconst x))
            ((<span class="kr">let</span> <span class="nv">X0</span> := cx_isexact <span class="kr">in</span>
              <span class="kr">let</span> <span class="nv">X1</span> := pointed_fun X0 <span class="kr">in</span> X1 (snd x))
             :
             snd
               ((functor_ab_biprod p q
                 o* functor_ab_biprod i j) x) =
             snd (pconst x)))
         :
         functor_ab_biprod p q
         o* functor_ab_biprod i j == pconst)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chke"><span class="nb">intros</span> [[e f] u]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ReflectiveSubuniverse.IsConnected (Tr (-<span class="mi">1</span>))
  (hfiber
     (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
      ((i (fst x), j (snd x));
      path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
        (cx_isexact (fst x)) (cx_isexact (snd x))))
     ((e, f); u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chkf">rapply contr_inhabited_hprop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  (hfiber
     (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
      ((i (fst x), j (snd x));
      path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
        (cx_isexact (fst x)) (cx_isexact (snd x))))
     ((e, f); u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk10"><span class="nb">pose</span> (U := (equiv_path_prod _ _)^-<span class="mi">1</span> u); <span class="nb">cbn</span> <span class="kr">in</span> U.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  (hfiber
     (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
      ((i (fst x), j (snd x));
      path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
        (cx_isexact (fst x)) (cx_isexact (snd x))))
     ((e, f); u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk11"><span class="nb">pose proof</span> (a := isexact_preimage _ i p e (fst U)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>) (hfiber i e)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  (hfiber
     (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
      ((i (fst x), j (snd x));
      path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
        (cx_isexact (fst x)) (cx_isexact (snd x))))
     ((e, f); u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk12"><span class="nb">pose proof</span> (x := isexact_preimage _ j q f (snd U)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>) (hfiber i e)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Tr (-<span class="mi">1</span>) (hfiber j f)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tr (-<span class="mi">1</span>)
  (hfiber
     (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
      ((i (fst x), j (snd x));
      path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
        (cx_isexact (fst x)) (cx_isexact (snd x))))
     ((e, f); u))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk13">strip_truncations; <span class="nb">apply</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">hfiber
  (<span class="kr">fun</span> <span class="nv">x</span> : A * X =&gt;
   ((i (fst x), j (snd x));
   path_prod (p (i (fst x)), q (j (snd x))) (<span class="mi">0</span>, <span class="mi">0</span>)
     (cx_isexact (fst x)) (cx_isexact (snd x))))
  ((e, f); u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk14"><span class="kr">exists</span> (<span class="nv">ab_biprod_inl</span> <span class="nv">a</span>.<span class="mi">1</span> + ab_biprod_inr x.<span class="mi">1</span>); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((i (a.<span class="mi">1</span> + group_unit), j (group_unit + x.<span class="mi">1</span>));
path_prod
  (p (i (a.<span class="mi">1</span> + group_unit)), q (j (group_unit + x.<span class="mi">1</span>)))
  (<span class="mi">0</span>, <span class="mi">0</span>) (cx_isexact (a.<span class="mi">1</span> + group_unit))
  (cx_isexact (group_unit + x.<span class="mi">1</span>))) = ((e, f); u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk15"><span class="nb">pose</span> (IS := sg_set (ab_biprod B Y)). <span class="c">(* This hint speeds up the next line. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((i (a.<span class="mi">1</span> + group_unit), j (group_unit + x.<span class="mi">1</span>));
path_prod
  (p (i (a.<span class="mi">1</span> + group_unit)), q (j (group_unit + x.<span class="mi">1</span>)))
  (<span class="mi">0</span>, <span class="mi">0</span>) (cx_isexact (a.<span class="mi">1</span> + group_unit))
  (cx_isexact (group_unit + x.<span class="mi">1</span>))) = ((e, f); u)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk16"><span class="nb">apply</span> path_sigma_hprop; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(i (a.<span class="mi">1</span> + group_unit), j (group_unit + x.<span class="mi">1</span>)) = (e, f)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk17"><span class="nb">apply</span> path_prod; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i (a.<span class="mi">1</span> + group_unit) = e</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><label class="goal-separator" for="directsum-v-chk18"><hr></label><div class="goal-conclusion">j (group_unit + x.<span class="mi">1</span>) = f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk19">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i (a.<span class="mi">1</span> + group_unit) = e</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1a"><span class="nb">rewrite</span> right_identity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i a.<span class="mi">1</span> = e</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> a.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j (group_unit + x.<span class="mi">1</span>) = f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1c"><span class="nb">rewrite</span> left_identity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, E, B, X, F, Y</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>A $-&gt; E</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>E $-&gt; B</span></span></span><br><span><var>ex0</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) i p</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>X $-&gt; F</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>F $-&gt; Y</span></span></span><br><span><var>ex1</var><span class="hyp-type"><b>: </b><span>IsExact (Tr (-<span class="mi">1</span>)) j q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>E</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>F</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span>functor_ab_biprod p q (e, f) = pt</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span>(ap fst u, ap snd u)</span></span><span class="hyp-type"><b>: </b><span>(p e = <span class="mi">0</span>) * (q f = <span class="mi">0</span>)</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>hfiber j f</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>hfiber i e</span></span></span><br><span><var>IS</var><span><span class="hyp-body"><b>:= </b><span>sg_set (ab_biprod B Y)</span></span><span class="hyp-type"><b>: </b><span>IsHSet (ab_biprod B Y)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j x.<span class="mi">1</span> = f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> x.<span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** The pointwise direct sum of two short exact sequences. *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">abses_direct_sum</span> `{Funext} {B A B&#39; A&#39; : AbGroup} (E : AbSES B A) (F : AbSES B&#39; A&#39;)
  : AbSES (ab_biprod B B&#39;) (ab_biprod A A&#39;)
  := Build_AbSES (ab_biprod E F)
                 (functor_ab_biprod (inclusion E) (inclusion F))
                 (functor_ab_biprod (projection E) (projection F))
                 (functor_ab_biprod_embedding _ _)
                 (functor_ab_biprod_surjection _ _)
                 (ab_biprod_exact _ _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For any short exact sequences [E], [E&#39;], [F], [F&#39;], and morphisms [f : E -&gt; E&#39;] and [g : F -&gt; F&#39;] there is a morphism [E + F -&gt; E&#39; + F&#39;]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1d"><span class="kn">Lemma</span> <span class="nf">functor_abses_directsum</span> `{Funext} {A A&#39; B B&#39; C C&#39; D D&#39; : AbGroup}
      {E : AbSES B A} {E&#39; : AbSES B&#39; A&#39;} {F : AbSES D C} {F&#39; : AbSES D&#39; C&#39;}
      (f : AbSESMorphism E E&#39;) (g : AbSESMorphism F F&#39;)
  : AbSESMorphism (abses_direct_sum E F) (abses_direct_sum E&#39; F&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E F)
  (abses_direct_sum E&#39; F&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E F)
  (abses_direct_sum E&#39; F&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk1f">snapply Build_AbSESMorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod A C $-&gt; ab_biprod A&#39; C&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk20"><hr></label><div class="goal-conclusion">abses_direct_sum E F $-&gt; abses_direct_sum E&#39; F&#39;</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk21" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk21"><hr></label><div class="goal-conclusion">ab_biprod B D $-&gt; ab_biprod B&#39; D&#39;</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk22"><hr></label><div class="goal-conclusion">inclusion (abses_direct_sum E&#39; F&#39;) $o <span class="nl">?component1</span> ==
<span class="nl">?component2</span> $o inclusion (abses_direct_sum E F)</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk23"><hr></label><div class="goal-conclusion">projection (abses_direct_sum E&#39; F&#39;) $o <span class="nl">?component2</span> ==
<span class="nl">?component3</span> $o projection (abses_direct_sum E F)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk24">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod A C $-&gt; ab_biprod A&#39; C&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (functor_ab_biprod (component1 f) (component1 g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk25">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">abses_direct_sum E F $-&gt; abses_direct_sum E&#39; F&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (functor_ab_biprod (component2 f) (component2 g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk26">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod B D $-&gt; ab_biprod B&#39; D&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (functor_ab_biprod (component3 f) (component3 g)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk27">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inclusion (abses_direct_sum E&#39; F&#39;) $o
functor_ab_biprod (component1 f) (component1 g) ==
functor_ab_biprod (component2 f) (component2 g) $o
inclusion (abses_direct_sum E F)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk28"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>ab_biprod A C</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(inclusion (abses_direct_sum E&#39; F&#39;) $o
 functor_ab_biprod (component1 f) (component1 g)) x =
(functor_ab_biprod (component2 f) (component2 g) $o
 inclusion (abses_direct_sum E F)) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_prod; <span class="nb">apply</span> left_square.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk29">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection (abses_direct_sum E&#39; F&#39;) $o
functor_ab_biprod (component2 f) (component2 g) ==
functor_ab_biprod (component3 f) (component3 g) $o
projection (abses_direct_sum E F)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk2a"><span class="nb">intro</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B', C, C', D, D'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>E'</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES D C</span></span></span><br><span><var>F'</var><span class="hyp-type"><b>: </b><span>AbSES D&#39; C&#39;</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>AbSESMorphism E E&#39;</span></span></span><br><span><var>g</var><span class="hyp-type"><b>: </b><span>AbSESMorphism F F&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>abses_direct_sum E F</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(projection (abses_direct_sum E&#39; F&#39;) $o
 functor_ab_biprod (component2 f) (component2 g)) x =
(functor_ab_biprod (component3 f) (component3 g) $o
 projection (abses_direct_sum E F)) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> path_prod; <span class="nb">apply</span> right_square.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For any short exact sequence [E], there is a morphism [E -&gt; abses_direct_sum E E], where each component is ab_diagonal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk2b"><span class="kn">Definition</span> <span class="nf">abses_diagonal</span> `{Funext} {A B : AbGroup} (E : AbSES B A)
  : AbSESMorphism E (abses_direct_sum E E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism E (abses_direct_sum E E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism E (abses_direct_sum E E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk2d">snapply Build_AbSESMorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A $-&gt; ab_biprod A A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk2e"><hr></label><div class="goal-conclusion">E $-&gt; abses_direct_sum E E</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk2f"><hr></label><div class="goal-conclusion">B $-&gt; ab_biprod B B</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk30" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk30"><hr></label><div class="goal-conclusion">inclusion (abses_direct_sum E E) $o <span class="nl">?component1</span> ==
<span class="nl">?component2</span> $o inclusion E</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk31" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk31"><hr></label><div class="goal-conclusion">projection (abses_direct_sum E E) $o <span class="nl">?component2</span> ==
<span class="nl">?component3</span> $o projection E</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk32"><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>: <span class="bp">exact</span> ab_diagonal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inclusion (abses_direct_sum E E) $o ab_diagonal ==
ab_diagonal $o inclusion E</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk33"><hr></label><div class="goal-conclusion">projection (abses_direct_sum E E) $o ab_diagonal ==
ab_diagonal $o projection E</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For any short exact sequence [E], there is dually a morphism [abses_direct_sum E E -&gt; E], with each component being the codiagonal. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk34"><span class="kn">Definition</span> <span class="nf">abses_codiagonal</span> `{Funext} {A B : AbGroup} (E : AbSES B A)
  : AbSESMorphism (abses_direct_sum E E) E.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E E) E</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk35"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E E) E</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk36">snapply Build_AbSESMorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod A A $-&gt; A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk37" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk37"><hr></label><div class="goal-conclusion">abses_direct_sum E E $-&gt; E</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk38"><hr></label><div class="goal-conclusion">ab_biprod B B $-&gt; B</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk39"><hr></label><div class="goal-conclusion">inclusion E $o <span class="nl">?component1</span> ==
<span class="nl">?component2</span> $o inclusion (abses_direct_sum E E)</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk3a"><hr></label><div class="goal-conclusion">projection E $o <span class="nl">?component2</span> ==
<span class="nl">?component3</span> $o projection (abses_direct_sum E E)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk3b"><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>: <span class="bp">exact</span> ab_codiagonal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inclusion E $o ab_codiagonal ==
ab_codiagonal $o inclusion (abses_direct_sum E E)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk3c"><hr></label><div class="goal-conclusion">projection E $o ab_codiagonal ==
ab_codiagonal $o projection (abses_direct_sum E E)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="nb">intro</span> x; <span class="nb">cbn</span>; <span class="nb">apply</span> grp_homo_op.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** There is always a morphism [abses_direct_sum E F -&gt; abses_direct_sum F E] of short exact sequences, for any [E : AbSES B A] and [F : AbSES B&#39; A&#39;]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk3d"><span class="kn">Definition</span> <span class="nf">abses_swap_morphism</span> `{Funext} {A A&#39; B B&#39; : AbGroup}
           (E : AbSES B A) (F : AbSES B&#39; A&#39;)
  : AbSESMorphism (abses_direct_sum E F) (abses_direct_sum F E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E F)
  (abses_direct_sum F E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk3e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism (abses_direct_sum E F)
  (abses_direct_sum F E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk3f">snapply Build_AbSESMorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod A A&#39; $-&gt; ab_biprod A&#39; A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk40"><hr></label><div class="goal-conclusion">abses_direct_sum E F $-&gt; abses_direct_sum F E</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk41"><hr></label><div class="goal-conclusion">ab_biprod B B&#39; $-&gt; ab_biprod B&#39; B</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk42"><hr></label><div class="goal-conclusion">inclusion (abses_direct_sum F E) $o <span class="nl">?component1</span> ==
<span class="nl">?component2</span> $o inclusion (abses_direct_sum E F)</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk43" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk43"><hr></label><div class="goal-conclusion">projection (abses_direct_sum F E) $o <span class="nl">?component2</span> ==
<span class="nl">?component3</span> $o projection (abses_direct_sum E F)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk44"><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>: <span class="bp">exact</span> direct_sum_swap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inclusion (abses_direct_sum F E) $o direct_sum_swap ==
direct_sum_swap $o inclusion (abses_direct_sum E F)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk45" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, A', B, B'</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>AbSES B&#39; A&#39;</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk45"><hr></label><div class="goal-conclusion">projection (abses_direct_sum F E) $o direct_sum_swap ==
direct_sum_swap $o projection (abses_direct_sum E F)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** For [E, F, G : AbSES B A], there is a morphism [(E + F) + G -&gt; (G + F) + E] induced by the above map, where [+] denotes [abses_direct_sum]. *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk46"><span class="kn">Lemma</span> <span class="nf">abses_twist_directsum</span> `{Funext} {A B : AbGroup} (E F G : AbSES B A)
  : AbSESMorphism (abses_direct_sum (abses_direct_sum E F) G)
                  (abses_direct_sum (abses_direct_sum G F) E).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism
  (abses_direct_sum (abses_direct_sum E F) G)
  (abses_direct_sum (abses_direct_sum G F) E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk47"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">AbSESMorphism
  (abses_direct_sum (abses_direct_sum E F) G)
  (abses_direct_sum (abses_direct_sum G F) E)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk48">snapply Build_AbSESMorphism.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ab_biprod (ab_biprod A A) A $-&gt;
ab_biprod (ab_biprod A A) A</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk49"><hr></label><div class="goal-conclusion">abses_direct_sum (abses_direct_sum E F) G $-&gt;
abses_direct_sum (abses_direct_sum G F) E</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk4a"><hr></label><div class="goal-conclusion">ab_biprod (ab_biprod B B) B $-&gt;
ab_biprod (ab_biprod B B) B</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk4b"><hr></label><div class="goal-conclusion">inclusion (abses_direct_sum (abses_direct_sum G F) E) $o
<span class="nl">?component1</span> ==
<span class="nl">?component2</span> $o
inclusion (abses_direct_sum (abses_direct_sum E F) G)</div></blockquote><input class="alectryon-extra-goal-toggle" id="directsum-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk4c"><hr></label><div class="goal-conclusion">projection (abses_direct_sum (abses_direct_sum G F) E) $o
<span class="nl">?component2</span> ==
<span class="nl">?component3</span> $o
projection (abses_direct_sum (abses_direct_sum E F) G)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="directsum-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="directsum-v-chk4d"><span class="mi">1</span>,<span class="mi">2</span>,<span class="mi">3</span>: <span class="bp">exact</span> ab_biprod_twist.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">inclusion (abses_direct_sum (abses_direct_sum G F) E) $o
ab_biprod_twist ==
ab_biprod_twist $o
inclusion (abses_direct_sum (abses_direct_sum E F) G)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="directsum-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>A, B</var><span class="hyp-type"><b>: </b><span>AbGroup</span></span></span><br><span><var>E, F, G</var><span class="hyp-type"><b>: </b><span>AbSES B A</span></span></span><br></div><label class="goal-separator" for="directsum-v-chk4e"><hr></label><div class="goal-conclusion">projection (abses_direct_sum (abses_direct_sum G F) E) $o
ab_biprod_twist ==
ab_biprod_twist $o
projection (abses_direct_sum (abses_direct_sum E F) G)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span></span></pre>
</div>
</div></body>
</html>
