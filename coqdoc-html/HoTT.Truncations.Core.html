<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>HoTT.Truncations.Core</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library HoTT.Truncations.Core</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">HoTT</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Basics.html#"><span class="id" title="library">Basics</span></a> <a class="idref" href="HoTT.Types.html#"><span class="id" title="library">Types</span></a> <a class="idref" href="HoTT.WildCat.Core.html#"><span class="id" title="library">WildCat.Core</span></a> <a class="idref" href="HoTT.WildCat.Universe.html#"><span class="id" title="library">WildCat.Universe</span></a> <a class="idref" href="HoTT.HFiber.html#"><span class="id" title="library">HFiber</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="HoTT.Modalities.Modality.html#"><span class="id" title="library">Modalities.Modality</span></a>.<br/>
</div>

<div class="doc">
Users of this file almost always want to be able to write <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> for both a <span class="inlinecode"><a class="idref" href="HoTT.Modalities.Modality.html#Modality"><span class="id" title="record">Modality</span></a></span> and a <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#ReflectiveSubuniverse"><span class="id" title="record">ReflectiveSubuniverse</span></a></span>, so they want the coercion <span class="inlinecode"><a class="idref" href="HoTT.Modalities.Modality.html#modality_to_reflective_subuniverse"><span class="id" title="definition">modality_to_reflective_subuniverse</span></a></span>: 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> (<span class="id" title="var">coercions</span>) <a class="idref" href="HoTT.Modalities.Modality.html#"><span class="id" title="library">Modalities.Modality</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1771"></a><h1 class="section">Truncations of types</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">path_scope</span>.<br/>
<span class="id" title="keyword">Generalizable Variables</span> <span class="id" title="var">A</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1772"></a><h2 class="section">The definition</h2>

<div class="paragraph"> </div>

 The definition of <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span>, the n-truncation of a type.

<div class="paragraph"> </div>

If Coq supported higher inductive types natively, we would construct this as something like:

<div class="paragraph"> </div>

   Inductive Trunc n (A : Type) : Type :=
   | tr : A -&gt; Trunc n A
   | istrunc_truncation : forall (f : Sphere n.+1 -&gt; Trunc n A)
       (x : Sphere n.+1), f x = f North.

<div class="paragraph"> </div>

However, while we are faking our higher-inductives anyway, we can take some shortcuts, rather than translating the definition above.  Firstly, we directly posit a “constructor” giving truncatedness, rather than rephrasing it in terms of maps of spheres.  Secondly, we omit the “computation rule” for this constructor, since it is implied by truncatedness of the result type (and, for essentially that reason, is never wanted in practice anyway).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Export</span> <a id="Trunc" class="idref" href="#Trunc"><span class="id" title="module">Trunc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Cumulative Private Inductive</span> <a id="Trunc.Trunc" class="idref" href="#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a> (<a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>) (<a id="A:2" class="idref" href="#A:2"><span class="id" title="binder">A</span></a> :<span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Trunc.tr" class="idref" href="#Trunc.tr"><span class="id" title="constructor">tr</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:2"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Trunc:3"><span class="id" title="inductive">Trunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:1"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:2"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> {<span class="id" title="var">n</span> <span class="id" title="var">A</span>} <span class="id" title="var">a</span>.<br/>

<br/>
</div>

<div class="doc">
Because <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a></span> is cumulative, we can use only one universe variable here. 
</div>
<div class="code">
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Trunc.istrunc_truncation" class="idref" href="#Trunc.istrunc_truncation"><span class="id" title="instance">istrunc_truncation@</span></a>{<span class="id" title="var">i</span>} (<a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>) (<a id="A:6" class="idref" href="#A:6"><span class="id" title="binder">A</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>})<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc@</span></a><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">{</span></a><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">i</span></a><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">}</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:5"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc@</span></a><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">{</span></a><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">i</span></a><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">}</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:6"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Trunc.Trunc_ind" class="idref" href="#Trunc.Trunc_ind"><span class="id" title="definition">Trunc_ind</span></a> {<a id="n:7" class="idref" href="#n:7"><span class="id" title="binder">n</span></a> <a id="A:8" class="idref" href="#A:8"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P:9" class="idref" href="#P:9"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:7"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:8"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) {<a id="Pt:11" class="idref" href="#Pt:11"><span class="id" title="binder">Pt</span></a> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="aa:10" class="idref" href="#aa:10"><span class="id" title="binder">aa</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:7"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#P:9"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#aa:10"><span class="id" title="variable">aa</span></a>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="a:12" class="idref" href="#a:12"><span class="id" title="binder">a</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#P:9"><span class="id" title="variable">P</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#a:12"><span class="id" title="variable">a</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="aa:13" class="idref" href="#aa:13"><span class="id" title="binder">aa</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#P:9"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#aa:13"><span class="id" title="variable">aa</span></a><a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="f:14" class="idref" href="#f:14"><span class="id" title="binder">f</span></a> <a id="aa:15" class="idref" href="#aa:15"><span class="id" title="binder">aa</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="HoTT.Truncations.Core.html#aa:15"><span class="id" title="variable">aa</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc.tr"><span class="id" title="constructor">tr</span></a> <span class="id" title="var">a</span> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="HoTT.Truncations.Core.html#f:14"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="keyword">end</span> <a class="idref" href="HoTT.Truncations.Core.html#Pt:11"><span class="id" title="variable">Pt</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="HoTT.Truncations.Core.html#Trunc"><span class="id" title="module">Trunc</span></a>.<br/>

<br/>
</div>

<div class="doc">
The non-dependent version of the eliminator. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Trunc_rec" class="idref" href="#Trunc_rec"><span class="id" title="definition">Trunc_rec</span></a> {<a id="n:17" class="idref" href="#n:17"><span class="id" title="binder">n</span></a> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> <a id="X:19" class="idref" href="#X:19"><span class="id" title="binder">X</span></a>} `{<a id="IsTrunc0:20" class="idref" href="#IsTrunc0:20"><span class="id" title="binder">IsTrunc</span></a> <a id="IsTrunc0:20" class="idref" href="#IsTrunc0:20"><span class="id" title="binder">n</span></a> <a id="IsTrunc0:20" class="idref" href="#IsTrunc0:20"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Truncations.Core.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Truncations.Core.html#Trunc"><span class="id" title="inductive">Trunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:17"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:19"><span class="id" title="variable">X</span></a><a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Truncations.Core.html#Trunc_ind"><span class="id" title="definition">Trunc_ind</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="HoTT.Truncations.Core.html#X:19"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Trunc_rec_tr" class="idref" href="#Trunc_rec_tr"><span class="id" title="definition">Trunc_rec_tr</span></a> <a id="n:21" class="idref" href="#n:21"><span class="id" title="binder">n</span></a> {<a id="A:22" class="idref" href="#A:22"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Trunc_rec"><span class="id" title="definition">Trunc_rec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="HoTT.Truncations.Core.html#A:22"><span class="id" title="variable">A</span></a>) (<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> (<span class="id" title="var">n</span>:=<a class="idref" href="HoTT.Truncations.Core.html#n:21"><span class="id" title="variable">n</span></a>)) <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Truncations.Core.html#Trunc_ind"><span class="id" title="definition">Trunc_ind</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="a:23" class="idref" href="#a:23"><span class="id" title="binder">a</span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab1773"></a><h2 class="section">Tactic to remove truncations in hypotheses if possible</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">strip_truncations</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">T</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="var">revert_opaque</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (@<a class="idref" href="HoTT.Truncations.Core.html#Trunc_ind"><span class="id" title="definition">Trunc_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Ensure&nbsp;that&nbsp;we&nbsp;didn't&nbsp;generate&nbsp;more&nbsp;than&nbsp;one&nbsp;subgoal,&nbsp;i.e.&nbsp;that&nbsp;the&nbsp;goal&nbsp;was&nbsp;appropriately&nbsp;truncated:&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
See <span class="inlinecode"><span class="id" title="var">strip_reflections</span></span> and <span class="inlinecode"><span class="id" title="var">strip_modalities</span></span> for generalizations to other reflective subuniverses and modalities.  We provide this version because it sometimes needs fewer universes (due to the cumulativity of <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a></span>).  However, that same cumulativity sometimes causes free universe variables.  For a hypothesis of type <span class="inlinecode"><span class="id" title="var">Trunc@</span>{<a class="idref" href="HoTT.Classes.theory.ua_second_isomorphism.html#i"><span class="id" title="abbreviation">i</span></a>}</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span>, we can use <span class="inlinecode"><span class="id" title="var">Trunc_ind@</span>{<a class="idref" href="HoTT.Classes.theory.ua_second_isomorphism.html#i"><span class="id" title="abbreviation">i</span></a></span> <span class="inlinecode"><span class="id" title="var">j</span>}</span>, but sometimes Coq uses <span class="inlinecode"><span class="id" title="var">Trunc_ind@</span>{<span class="id" title="var">k</span></span> <span class="inlinecode"><span class="id" title="var">j</span>}</span> with <span class="inlinecode"><a class="idref" href="HoTT.Classes.theory.ua_second_isomorphism.html#i"><span class="id" title="abbreviation">i</span></a></span> <span class="inlinecode">≤</span> <span class="inlinecode"><span class="id" title="var">k</span></span> and <span class="inlinecode"><span class="id" title="var">k</span></span> otherwise free.  In these cases, <span class="inlinecode"><span class="id" title="var">strip_reflections</span></span> and/or <span class="inlinecode"><span class="id" title="var">strip_modalities</span></span> may generate fewer universe variables. 
<div class="paragraph"> </div>

<a id="lab1774"></a><h2 class="section"><span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a></span> is a modality</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Tr" class="idref" href="#Tr"><span class="id" title="definition">Tr</span></a> (<a id="n:24" class="idref" href="#n:24"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>) : <a class="idref" href="HoTT.Modalities.Modality.html#Modality"><span class="id" title="record">Modality</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<a class="idref" href="HoTT.Modalities.Modality.html#Build_Modality"><span class="id" title="definition">Build_Modality</span></a> (<span class="id" title="keyword">fun</span> <a id="A:25" class="idref" href="#A:25"><span class="id" title="binder"><span id="A:26" class="id">A</span></span></a> ⇒ <a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a> <span class="id" title="var">n</span> <a class="idref" href="HoTT.Truncations.Core.html#A:25"><span class="id" title="variable">A</span></a>)); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ? <span class="id" title="var">f</span> ?; <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Trunc.html#istrunc_isequiv_istrunc"><span class="id" title="definition">istrunc_isequiv_istrunc</span></a> <span class="id" title="var">A</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc"><span class="id" title="inductive">Trunc</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#istrunc_truncation"><span class="id" title="axiom">istrunc_truncation</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ? <span class="id" title="var">f</span> <span class="id" title="var">oa</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_ind"><span class="id" title="definition">Trunc_ind</span></a> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">oa</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (@<a class="idref" href="HoTT.Basics.Trunc.html#istrunc_paths'"><span class="id" title="instance">istrunc_paths'</span></a> <span class="id" title="var">n</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We don't usually declare modalities as coercions, but this particular one is convenient so that lemmas about (for instance) connected maps can be applied to truncation modalities without the user/reader needing to be (particularly) aware of the general notion of modality. 
</div>
<div class="code">
<span class="id" title="keyword">Coercion</span> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">:</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">trunc_index</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Modality</span></a>.<br/>
</div>

<div class="doc">
However, if the coercion is not printed, then we get things like <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode">(-1)</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> being printed as <span class="inlinecode">(-1)</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span>, which is terribly confusing.  So we tell Coq to always print this coercion.  This does mean that although the user can type things like <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#IsConnected"><span class="id" title="record">IsConnected</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span>, it will always be displayed back as <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#IsConnected"><span class="id" title="record">IsConnected</span></a></span> <span class="inlinecode">(<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Add</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Coercion</span> <span class="id" title="var">Tr</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="TruncationModality" class="idref" href="#TruncationModality"><span class="id" title="section">TruncationModality</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="n:27" class="idref" href="#n:27"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="trunc_iff_isequiv_truncation" class="idref" href="#trunc_iff_isequiv_truncation"><span class="id" title="definition">trunc_iff_isequiv_truncation</span></a> (<a id="A:28" class="idref" href="#A:28"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:28"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> (@<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:28"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#inO_iff_isequiv_to_O"><span class="id" title="definition">inO_iff_isequiv_to_O</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#A:28"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="isequiv_tr" class="idref" href="#isequiv_tr"><span class="id" title="instance">isequiv_tr</span></a> <a id="A:29" class="idref" href="#A:29"><span class="id" title="binder">A</span></a> `{<a id="IsTrunc0:30" class="idref" href="#IsTrunc0:30"><span class="id" title="binder">IsTrunc</span></a> <a id="IsTrunc0:30" class="idref" href="#IsTrunc0:30"><span class="id" title="binder">n</span></a> <a id="IsTrunc0:30" class="idref" href="#IsTrunc0:30"><span class="id" title="binder">A</span></a>} : <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> (@<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:29"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#fst"><span class="id" title="projection">fst</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#trunc_iff_isequiv_truncation"><span class="id" title="definition">trunc_iff_isequiv_truncation</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equiv_tr" class="idref" href="#equiv_tr"><span class="id" title="definition">equiv_tr</span></a> (<a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="IsTrunc0:32" class="idref" href="#IsTrunc0:32"><span class="id" title="binder">IsTrunc</span></a> <a id="IsTrunc0:32" class="idref" href="#IsTrunc0:32"><span class="id" title="binder">n</span></a> <a id="IsTrunc0:32" class="idref" href="#IsTrunc0:32"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:31"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#Build_Equiv"><span class="id" title="constructor">Build_Equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:31"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="untrunc_istrunc" class="idref" href="#untrunc_istrunc"><span class="id" title="definition">untrunc_istrunc</span></a> {<a id="A:33" class="idref" href="#A:33"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} `{<a id="IsTrunc0:34" class="idref" href="#IsTrunc0:34"><span class="id" title="binder">IsTrunc</span></a> <a id="IsTrunc0:34" class="idref" href="#IsTrunc0:34"><span class="id" title="binder">n</span></a> <a id="IsTrunc0:34" class="idref" href="#IsTrunc0:34"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:33"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:33"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">(</span></a>@<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:33"><span class="id" title="variable">A</span></a><a class="idref" href="HoTT.Basics.Overture.html#f3f2d22838b594a6e5dbfb541ecf90ae"><span class="id" title="notation">)^-1</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1775"></a><h2 class="section">Functoriality</h2>

<div class="paragraph"> </div>

 Since a modality lives on a single universe, by default if we simply define <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a></span> to be <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">O_functor</span></a></span> then it would force <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.HIT.iso.html#iso.Y"><span class="id" title="variable">Y</span></a></span> to live in the same universe.  But since we defined <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc.Trunc"><span class="id" title="inductive">Trunc</span></a></span> as a cumulative inductive, if we add universe annotations we can make <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a></span> more universe-polymorphic than <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">O_functor</span></a></span> is.  This is sometimes useful.  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Trunc_functor" class="idref" href="#Trunc_functor"><span class="id" title="definition">Trunc_functor@</span></a>{<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> | <span class="id" title="var">i</span> ≤ <span class="id" title="var">k</span>, <span class="id" title="var">j</span> ≤ <span class="id" title="var">k</span>} {<a id="X:35" class="idref" href="#X:35"><span class="id" title="binder">X</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}} {<a id="Y:36" class="idref" href="#Y:36"><span class="id" title="binder">Y</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">j</span>}} (<a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:35"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:36"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr@</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">{</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">i</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">}</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:35"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr@</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">{</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">j</span></a><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">}</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:36"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">O_functor@</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">{</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">k</span></a> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">k</span></a> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">k</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor"><span class="id" title="definition">}</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#f:37"><span class="id" title="variable">f</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="is0functor_Tr" class="idref" href="#is0functor_Tr"><span class="id" title="instance">is0functor_Tr</span></a> : <a class="idref" href="HoTT.WildCat.Core.html#Is0Functor"><span class="id" title="class">Is0Functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.WildCat.Core.html#Build_Is0Functor"><span class="id" title="constructor">Build_Is0Functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) (@<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Trunc_functor_isequiv" class="idref" href="#Trunc_functor_isequiv"><span class="id" title="instance">Trunc_functor_isequiv</span></a> {<a id="X:38" class="idref" href="#X:38"><span class="id" title="binder">X</span></a> <a id="Y:39" class="idref" href="#Y:39"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:40" class="idref" href="#f:40"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:38"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:39"><span class="id" title="variable">Y</span></a>) `{<a id="H:41" class="idref" href="#H:41"><span class="id" title="binder">IsEquiv</span></a> <a id="H:41" class="idref" href="#H:41"><span class="id" title="binder">_</span></a> <a id="H:41" class="idref" href="#H:41"><span class="id" title="binder">_</span></a> <a id="H:41" class="idref" href="#H:41"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:40"><span class="id" title="variable">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#isequiv_O_functor"><span class="id" title="instance">isequiv_O_functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <span class="id" title="var">f</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Trunc_functor_equiv" class="idref" href="#Trunc_functor_equiv"><span class="id" title="definition">Trunc_functor_equiv</span></a> {<a id="X:42" class="idref" href="#X:42"><span class="id" title="binder">X</span></a> <a id="Y:43" class="idref" href="#Y:43"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:44" class="idref" href="#f:44"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:42"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:43"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:42"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:43"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#equiv_O_functor"><span class="id" title="definition">equiv_O_functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#f:44"><span class="id" title="variable">f</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Trunc_functor_compose" class="idref" href="#Trunc_functor_compose"><span class="id" title="definition">Trunc_functor_compose</span></a> {<a id="X:45" class="idref" href="#X:45"><span class="id" title="binder">X</span></a> <a id="Y:46" class="idref" href="#Y:46"><span class="id" title="binder">Y</span></a> <a id="Z:47" class="idref" href="#Z:47"><span class="id" title="binder">Z</span></a>} (<a id="f:48" class="idref" href="#f:48"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:45"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:46"><span class="id" title="variable">Y</span></a>) (<a id="g:49" class="idref" href="#g:49"><span class="id" title="binder">g</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Y:46"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Z:47"><span class="id" title="variable">Z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#g:49"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:48"><span class="id" title="variable">f</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <a class="idref" href="HoTT.Truncations.Core.html#g:49"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:48"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor_compose"><span class="id" title="definition">O_functor_compose</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#f:48"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Truncations.Core.html#g:49"><span class="id" title="variable">g</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Trunc_functor_idmap" class="idref" href="#Trunc_functor_idmap"><span class="id" title="definition">Trunc_functor_idmap</span></a> (<a id="X:50" class="idref" href="#X:50"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:50"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:50"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a> <a class="idref" href="HoTT.Basics.Overture.html#2596316c6f2ff161cb03e25fd8914390"><span class="id" title="notation">==</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor_idmap"><span class="id" title="definition">O_functor_idmap</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#X:50"><span class="id" title="variable">X</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="equiv_Trunc_prod_cmp" class="idref" href="#equiv_Trunc_prod_cmp"><span class="id" title="definition">equiv_Trunc_prod_cmp</span></a> {<a id="X:51" class="idref" href="#X:51"><span class="id" title="binder">X</span></a> <a id="Y:52" class="idref" href="#Y:52"><span class="id" title="binder">Y</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#X:51"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:52"><span class="id" title="variable">Y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:51"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:52"><span class="id" title="variable">Y</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#equiv_O_prod_cmp"><span class="id" title="definition">equiv_O_prod_cmp</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#X:51"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:52"><span class="id" title="variable">Y</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="is1functor_Tr" class="idref" href="#is1functor_Tr"><span class="id" title="instance">is1functor_Tr</span></a> : <a class="idref" href="HoTT.WildCat.Core.html#Is1Functor"><span class="id" title="class">Is1Functor</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality.n"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.WildCat.Core.html#Build_Is1Functor"><span class="id" title="constructor">Build_Is1Functor</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> @<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_functor_homotopy"><span class="id" title="definition">O_functor_homotopy</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> @<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor_idmap"><span class="id" title="definition">Trunc_functor_idmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> @<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor_compose"><span class="id" title="definition">Trunc_functor_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="HoTT.Truncations.Core.html#TruncationModality"><span class="id" title="section">TruncationModality</span></a>.<br/>

<br/>
</div>

<div class="doc">
We have to teach Coq to translate back and forth between <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> and <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#In"><span class="id" title="record">In</span></a></span> <span class="inlinecode">(<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a id="inO_tr_istrunc" class="idref" href="#inO_tr_istrunc"><span class="id" title="instance">inO_tr_istrunc</span></a> {<a id="n:53" class="idref" href="#n:53"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>} (<a id="A:54" class="idref" href="#A:54"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="IsTrunc0:55" class="idref" href="#IsTrunc0:55"><span class="id" title="binder">IsTrunc</span></a> <a id="IsTrunc0:55" class="idref" href="#IsTrunc0:55"><span class="id" title="binder">n</span></a> <a id="IsTrunc0:55" class="idref" href="#IsTrunc0:55"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#In"><span class="id" title="class">In</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:53"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#A:54"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Having both of these as <span class="inlinecode"><span class="id" title="keyword">Instance</span></span>s would cause infinite loops. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="istrunc_inO_tr" class="idref" href="#istrunc_inO_tr"><span class="id" title="definition">istrunc_inO_tr</span></a> {<a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>} (<a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `{<a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">In</span></a> <a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">(</span></a><a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">Tr</span></a> <a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">n</span></a><a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">)</span></a> <a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:57"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Instead, we make the latter an immediate instance, but with high cost (i.e. low priority) so that it doesn't override the ordinary lemmas about truncation.  Unfortunately, <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Immediate</span></span> doesn't allow specifying a cost, so we use <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Extern</span></span> instead.  Hint Immediate istrunc_inO_tr : typeclass_instances.  See https://github.com/coq/coq/issues/11697 
</div>
<div class="code">
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Extern</span> 1000 (<a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Truncations.Core.html#istrunc_inO_tr"><span class="id" title="definition">istrunc_inO_tr</span></a>; <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">trivial</span> ] : <span class="id" title="var">typeclass_instances</span>.<br/>
</div>

<div class="doc">
This doesn't seem to be quite the same as <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Immediate</span></span> with a different cost either, though.  
<div class="paragraph"> </div>

 Unfortunately, this isn't perfect; Coq still can't always find <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#In"><span class="id" title="record">In</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> hypotheses in the context when it wants <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#IsTrunc"><span class="id" title="abbreviation">IsTrunc</span></a></span>.  You can always apply <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#istrunc_inO_tr"><span class="id" title="definition">istrunc_inO_tr</span></a></span> explicitly, but sometimes it also works to just <span class="inlinecode"><span class="id" title="tactic">pose</span></span> it into the context (at the risk of causing loops in typeclass search). 
<div class="paragraph"> </div>

 We do the same for <span class="inlinecode"><a class="idref" href="HoTT.Basics.Trunc.html#IsTruncMap"><span class="id" title="record">IsTruncMap</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> and <span class="inlinecode"><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#MapIn"><span class="id" title="record">MapIn</span></a></span> <span class="inlinecode">(<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span>)</span>. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a id="mapinO_tr_istruncmap" class="idref" href="#mapinO_tr_istruncmap"><span class="id" title="instance">mapinO_tr_istruncmap</span></a> {<a id="n:59" class="idref" href="#n:59"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>} {<a id="A:60" class="idref" href="#A:60"><span class="id" title="binder">A</span></a> <a id="B:61" class="idref" href="#B:61"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="f:62" class="idref" href="#f:62"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:60"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:61"><span class="id" title="variable">B</span></a>) `{<a id="H:63" class="idref" href="#H:63"><span class="id" title="binder">IsTruncMap</span></a> <a id="H:63" class="idref" href="#H:63"><span class="id" title="binder">n</span></a> <a id="H:63" class="idref" href="#H:63"><span class="id" title="binder">A</span></a> <a id="H:63" class="idref" href="#H:63"><span class="id" title="binder">B</span></a> <a id="H:63" class="idref" href="#H:63"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#MapIn"><span class="id" title="class">MapIn</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:59"><span class="id" title="variable">n</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#f:62"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="istruncmap_mapinO_tr" class="idref" href="#istruncmap_mapinO_tr"><span class="id" title="definition">istruncmap_mapinO_tr</span></a> {<a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>} {<a id="A:65" class="idref" href="#A:65"><span class="id" title="binder">A</span></a> <a id="B:66" class="idref" href="#B:66"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="f:67" class="idref" href="#f:67"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:65"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:66"><span class="id" title="variable">B</span></a>) `{<a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">MapIn</span></a> <a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">(</span></a><a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">Tr</span></a> <a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">n</span></a><a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">)</span></a> <a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">_</span></a> <a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">_</span></a> <a id="H:68" class="idref" href="#H:68"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Trunc.html#IsTruncMap"><span class="id" title="class">IsTruncMap</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:67"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="keyword">Immediate</span> <span class="id" title="var">istruncmap_mapinO_tr</span> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1776"></a><h2 class="section">How stability and decidability interact with truncation</h2>

<div class="paragraph"> </div>

 For <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">≥</span> <span class="inlinecode">-1</span>, a stable type is logically equivalent to its <span class="inlinecode"><span class="id" title="var">n</span></span>-truncation. (It follows that this is true for decidable types as well.) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="trunc_inhabited_iff_inhabited_stable" class="idref" href="#trunc_inhabited_iff_inhabited_stable"><span class="id" title="definition">trunc_inhabited_iff_inhabited_stable</span></a> (<a id="n:69" class="idref" href="#n:69"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>) {<a id="A:70" class="idref" href="#A:70"><span class="id" title="binder">A</span></a>} {<a id="A_stable:71" class="idref" href="#A_stable:71"><span class="id" title="binder">A_stable</span></a> : <a class="idref" href="HoTT.Basics.Decidable.html#Stable"><span class="id" title="class">Stable</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:70"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:69"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#b76e54fb8c8bc6b885dddb77bd7d01b8"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:70"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:70"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">nrefine</span> <a class="idref" href="HoTT.Basics.Overture.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Overture.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a><a class="idref" href="HoTT.Basics.Overture.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Decidable.html#stable"><span class="id" title="definition">stable</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">na</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">strip_truncations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">na</span> <span class="id" title="var">ma</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
The most common case involves <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a></span> <span class="inlinecode">(-1)</span>, so we give it its own name. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="merely_inhabited_iff_inhabited_stable" class="idref" href="#merely_inhabited_iff_inhabited_stable"><span class="id" title="definition">merely_inhabited_iff_inhabited_stable</span></a> {<a id="A:72" class="idref" href="#A:72"><span class="id" title="binder">A</span></a>} {<a id="A_stable:73" class="idref" href="#A_stable:73"><span class="id" title="binder">A_stable</span></a> : <a class="idref" href="HoTT.Basics.Decidable.html#Stable"><span class="id" title="class">Stable</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:72"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1) <a class="idref" href="HoTT.Truncations.Core.html#A:72"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:72"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="HoTT.Truncations.Core.html#trunc_inhabited_iff_inhabited_stable"><span class="id" title="definition">trunc_inhabited_iff_inhabited_stable</span></a> (-2).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="decidable_trunc_decidable" class="idref" href="#decidable_trunc_decidable"><span class="id" title="instance">decidable_trunc_decidable</span></a> (<a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>) {<a id="A:75" class="idref" href="#A:75"><span class="id" title="binder">A</span></a>} {<a id="A_decidable:76" class="idref" href="#A_decidable:76"><span class="id" title="binder">A_decidable</span></a> : <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:75"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Decidable.html#Decidable"><span class="id" title="class">Decidable</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:74"><span class="id" title="variable">n</span></a><a class="idref" href="HoTT.Basics.Overture.html#b76e54fb8c8bc6b885dddb77bd7d01b8"><span class="id" title="notation">.+1</span></a> <a class="idref" href="HoTT.Truncations.Core.html#A:75"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Basics.Decidable.html#decidable_iff"><span class="id" title="definition">decidable_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Truncations.Core.html#trunc_inhabited_iff_inhabited_stable"><span class="id" title="definition">trunc_inhabited_iff_inhabited_stable</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1777"></a><h2 class="section">A few special things about the (-2)-truncation</h2>

<div class="paragraph"> </div>

 The type of contractible types is contractible. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="contr_tr_minus_two" class="idref" href="#contr_tr_minus_two"><span class="id" title="definition">contr_tr_minus_two@</span></a>{<span class="id" title="var">u</span> <span class="id" title="var">su</span> | <span class="id" title="var">u</span> &lt; <span class="id" title="var">su</span>} `{<a id="H:77" class="idref" href="#H:77"><span class="id" title="binder">Univalence</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" title="abbreviation">Contr</span></a> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Type_"><span class="id" title="definition">Type_@</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Type_"><span class="id" title="definition">{</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Type_"><span class="id" title="definition">u</span></a> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Type_"><span class="id" title="definition">su</span></a><a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Type_"><span class="id" title="definition">}</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-2))).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="HoTT.Basics.Overture.html#Build_Contr"><span class="id" title="constructor">Build_Contr</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Basics.Overture.html#exist"><span class="id" title="constructor">exist@</span></a><a class="idref" href="HoTT.Basics.Overture.html#exist"><span class="id" title="constructor">{</span></a><a class="idref" href="HoTT.Basics.Overture.html#exist"><span class="id" title="constructor">su</span></a> <a class="idref" href="HoTT.Basics.Overture.html#exist"><span class="id" title="constructor">su</span></a><a class="idref" href="HoTT.Basics.Overture.html#exist"><span class="id" title="constructor">}</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Basics.Overture.html#Unit"><span class="id" title="inductive">Unit</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>}) (<a class="idref" href="HoTT.Truncations.Core.html#inO_tr_istrunc"><span class="id" title="instance">inO_tr_istrunc</span></a> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> <span class="id" title="var">ContrC</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sigma.html#equiv_path_sigma_hprop"><span class="id" title="definition">equiv_path_sigma_hprop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Universe.html#path_universe_uncurried"><span class="id" title="definition">path_universe_uncurried</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Types.Unit.html#equiv_contr_unit"><span class="id" title="definition">equiv_contr_unit</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1778"></a><h2 class="section">A few special things about the (-1)-truncation</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">trunc_scope</span>.<br/>

<br/>
</div>

<div class="doc">
We define <span class="inlinecode"><a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Spaces.No.Core.html#NoCodes.A"><span class="id" title="variable">A</span></a></span> to be an inhabitant of the universe <span class="inlinecode"><span class="id" title="var">hProp</span></span> of hprops, rather than a type.  We can always treat it as a type because there is a coercion, but this means that if we need an element of <span class="inlinecode"><span class="id" title="var">hProp</span></span> then we don't need a separate name for it. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="merely" class="idref" href="#merely"><span class="id" title="definition">merely</span></a> (<a id="A:78" class="idref" href="#A:78"><span class="id" title="binder">A</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">i</span>}) : <a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">HProp@</span></a><a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">{</span></a><a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">i</span></a><a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">}</span></a> := <a class="idref" href="HoTT.Basics.Trunc.html#Build_HProp"><span class="id" title="abbreviation">Build_HProp</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1) <a class="idref" href="HoTT.Truncations.Core.html#A:78"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hexists" class="idref" href="#hexists"><span class="id" title="definition">hexists</span></a> {<a id="X:79" class="idref" href="#X:79"><span class="id" title="binder">X</span></a>} (<a id="P:80" class="idref" href="#P:80"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:79"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>) : <a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">HProp</span></a> := <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#sig"><span class="id" title="record">sig</span></a> <a class="idref" href="HoTT.Truncations.Core.html#P:80"><span class="id" title="variable">P</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hor" class="idref" href="#hor"><span class="id" title="definition">hor</span></a> (<a id="P:81" class="idref" href="#P:81"><span class="id" title="binder">P</span></a> <a id="Q:82" class="idref" href="#Q:82"><span class="id" title="binder">Q</span></a> : <span class="id" title="keyword">Type</span>) : <a class="idref" href="HoTT.Basics.Trunc.html#HProp"><span class="id" title="abbreviation">HProp</span></a> := <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#P:81"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Basics.Overture.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Q:82"><span class="id" title="variable">Q</span></a>).<br/>

<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">hprop_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="3005e98219680d5ba7ae2f215cff67a2" class="idref" href="#3005e98219680d5ba7ae2f215cff67a2"><span class="id" title="notation">&quot;</span></a>A \/ B" := (<a class="idref" href="HoTT.Truncations.Core.html#hor"><span class="id" title="definition">hor</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">hprop_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="himage" class="idref" href="#himage"><span class="id" title="definition">himage</span></a> {<a id="X:83" class="idref" href="#X:83"><span class="id" title="binder">X</span></a> <a id="Y:84" class="idref" href="#Y:84"><span class="id" title="binder">Y</span></a>} (<a id="f:85" class="idref" href="#f:85"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:83"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:84"><span class="id" title="variable">Y</span></a>) := <a class="idref" href="HoTT.Modalities.Modality.html#image"><span class="id" title="definition">image</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <a class="idref" href="HoTT.Truncations.Core.html#f:85"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1779"></a><h2 class="section">Surjections</h2>

<div class="paragraph"> </div>

 Surjections are the (-1)-connected maps, but they can be characterized more simply since an inhabited hprop is automatically contractible. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="IsSurjection" class="idref" href="#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> := (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#IsConnMap"><span class="id" title="class">IsConnMap</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="BuildIsSurjection" class="idref" href="#BuildIsSurjection"><span class="id" title="definition">BuildIsSurjection</span></a> {<a id="A:86" class="idref" href="#A:86"><span class="id" title="binder">A</span></a> <a id="B:87" class="idref" href="#B:87"><span class="id" title="binder">B</span></a>} (<a id="f:88" class="idref" href="#f:88"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:86"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:87"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="b:89" class="idref" href="#b:89"><span class="id" title="binder">b</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:88"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Truncations.Core.html#b:89"><span class="id" title="variable">b</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:88"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A family of types is pointwise merely inhabited if and only if the corresponding fibration is surjective. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="iff_merely_issurjection" class="idref" href="#iff_merely_issurjection"><span class="id" title="lemma">iff_merely_issurjection</span></a> {<a id="X:90" class="idref" href="#X:90"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="P:91" class="idref" href="#P:91"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:90"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#P:91"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x:92"><span class="id" title="variable">x</span></a>)<a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Iff.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" title="abbreviation">pr1</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a id="x:93" class="idref" href="#x:93"><span class="id" title="binder">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:90"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#P:91"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x:93"><span class="id" title="variable">x</span></a><a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:90"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Basics.Iff.html#iff_compose"><span class="id" title="definition">iff_compose</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#iff_forall_inO_mapinO_pr1"><span class="id" title="lemma">iff_forall_inO_mapinO_pr1</span></a> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#Conn"><span class="id" title="definition">Conn</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">P</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Forall.html#iff_functor_forall"><span class="id" title="definition">iff_functor_forall</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Trunc.html#iff_contr_hprop"><span class="id" title="lemma">iff_contr_hprop</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1) (<span class="id" title="var">P</span> <span class="id" title="var">a</span>))).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equiv_merely_issurjection" class="idref" href="#equiv_merely_issurjection"><span class="id" title="lemma">equiv_merely_issurjection</span></a> `{<a id="H:94" class="idref" href="#H:94"><span class="id" title="binder">Funext</span></a>} {<a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="P:96" class="idref" href="#P:96"><span class="id" title="binder">P</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="x:97" class="idref" href="#x:97"><span class="id" title="binder">x</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#merely"><span class="id" title="definition">merely</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#P:96"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x:97"><span class="id" title="variable">x</span></a>)<a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">)</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#pr1"><span class="id" title="abbreviation">pr1</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:95"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#P:96"><span class="id" title="variable">P</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x:98"><span class="id" title="variable">x</span></a><a class="idref" href="HoTT.Basics.Overture.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:95"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="comment">(*&nbsp;Can&nbsp;also&nbsp;be&nbsp;proved&nbsp;from&nbsp;equiv_forall_inO_mapinO_pr1.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Trunc.html#equiv_iff_hprop_uncurried"><span class="id" title="definition">equiv_iff_hprop_uncurried</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#iff_merely_issurjection"><span class="id" title="lemma">iff_merely_issurjection</span></a> <span class="id" title="var">P</span>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Surjections cancel on the right 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="cancelR_issurjection" class="idref" href="#cancelR_issurjection"><span class="id" title="lemma">cancelR_issurjection</span></a> {<a id="A:99" class="idref" href="#A:99"><span class="id" title="binder">A</span></a> <a id="B:100" class="idref" href="#B:100"><span class="id" title="binder">B</span></a> <a id="C:101" class="idref" href="#C:101"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:102" class="idref" href="#f:102"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:99"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:100"><span class="id" title="variable">B</span></a>) (<a id="g:103" class="idref" href="#g:103"><span class="id" title="binder">g</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#B:100"><span class="id" title="variable">B</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#C:101"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="isconn:104" class="idref" href="#isconn:104"><span class="id" title="binder">isconn</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#g:103"><span class="id" title="variable">g</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:102"><span class="id" title="variable">f</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> <a class="idref" href="HoTT.Truncations.Core.html#g:103"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">X</span>:= (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> (<span class="id" title="var">g</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">c</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span> <span class="id" title="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#center"><span class="id" title="definition">center</span></a>, <span class="id" title="var">isconn</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Retractions are surjective. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="issurj_retr" class="idref" href="#issurj_retr"><span class="id" title="definition">issurj_retr</span></a> {<a id="X:105" class="idref" href="#X:105"><span class="id" title="binder">X</span></a> <a id="Y:106" class="idref" href="#Y:106"><span class="id" title="binder">Y</span></a> : <span class="id" title="keyword">Type</span>} {<a id="r:107" class="idref" href="#r:107"><span class="id" title="binder">r</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:105"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:106"><span class="id" title="variable">Y</span></a>} (<a id="s:108" class="idref" href="#s:108"><span class="id" title="binder">s</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Y:106"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:105"><span class="id" title="variable">X</span></a>) (<a id="h:110" class="idref" href="#h:110"><span class="id" title="binder">h</span></a> : <a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">∀</span></a> <a id="y:109" class="idref" href="#y:109"><span class="id" title="binder">y</span></a>:<a class="idref" href="HoTT.Truncations.Core.html#Y:106"><span class="id" title="variable">Y</span></a><a class="idref" href="HoTT.Basics.Notations.html#adf9957462624adc9c2c94f56add3958"><span class="id" title="notation">,</span></a> <a class="idref" href="HoTT.Truncations.Core.html#r:107"><span class="id" title="variable">r</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#s:108"><span class="id" title="variable">s</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:109"><span class="id" title="variable">y</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:109"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Truncations.Core.html#IsSurjection"><span class="id" title="abbreviation">IsSurjection</span></a> <a class="idref" href="HoTT.Truncations.Core.html#r:107"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">y</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <span class="id" title="var">h</span> <span class="id" title="var">y</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1780"></a><h2 class="section">Embeddings</h2>

<div class="paragraph"> </div>

 For any point in the image of an embedding, the fibers are contractible. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a id="contr_hfiber_emb" class="idref" href="#contr_hfiber_emb"><span class="id" title="instance">contr_hfiber_emb</span></a> {<a id="A:111" class="idref" href="#A:111"><span class="id" title="binder">A</span></a> <a id="B:112" class="idref" href="#B:112"><span class="id" title="binder">B</span></a>} (<a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:111"><span class="id" title="variable">A</span></a>) (<a id="f:114" class="idref" href="#f:114"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:111"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:112"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;`{<a id="IsEmbedding0:115" class="idref" href="#IsEmbedding0:115"><span class="id" title="binder">IsEmbedding</span></a> <a id="IsEmbedding0:115" class="idref" href="#IsEmbedding0:115"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#Contr"><span class="id" title="abbreviation">Contr</span></a> (<a class="idref" href="HoTT.Basics.Overture.html#hfiber"><span class="id" title="definition">hfiber</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:114"><span class="id" title="variable">f</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="HoTT.Truncations.Core.html#a:113"><span class="id" title="variable">a</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">srapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a>. <span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">;</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idpath"><span class="id" title="constructor">idpath</span></a> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)<a class="idref" href="HoTT.Basics.Overture.html#4887cec9c4a6ccb88dc6b18963c35c8f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Since embeddings are the (-1)-truncated maps, a map that is both a surjection and an embedding is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="isequiv_surj_emb" class="idref" href="#isequiv_surj_emb"><span class="id" title="definition">isequiv_surj_emb</span></a> {<a id="A:116" class="idref" href="#A:116"><span class="id" title="binder">A</span></a> <a id="B:117" class="idref" href="#B:117"><span class="id" title="binder">B</span></a>} (<a id="f:118" class="idref" href="#f:118"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#A:116"><span class="id" title="variable">A</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#B:117"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;`{<a id="IsSurjection0:119" class="idref" href="#IsSurjection0:119"><span class="id" title="binder">IsSurjection</span></a> <a id="IsSurjection0:119" class="idref" href="#IsSurjection0:119"><span class="id" title="binder">f</span></a>} `{<a id="IsEmbedding0:120" class="idref" href="#IsEmbedding0:120"><span class="id" title="binder">IsEmbedding</span></a> <a id="IsEmbedding0:120" class="idref" href="#IsEmbedding0:120"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:118"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#isequiv_conn_ino_map"><span class="id" title="definition">isequiv_conn_ino_map</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1))); <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
As a corollary, it follows that if <span class="inlinecode"><a class="idref" href="HoTT.Classes.theory.ua_second_isomorphism.html#i"><span class="id" title="abbreviation">i</span></a></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Types.Bool.html#EquivBoolEquiv.f"><span class="id" title="variable">f</span></a></span> is an equivalence and <span class="inlinecode"><a class="idref" href="HoTT.Classes.theory.ua_second_isomorphism.html#i"><span class="id" title="abbreviation">i</span></a></span> is an embedding, then <span class="inlinecode"><a class="idref" href="HoTT.Types.Bool.html#EquivBoolEquiv.f"><span class="id" title="variable">f</span></a></span> is an equivalence. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="isequiv_isequiv_compose_embedding" class="idref" href="#isequiv_isequiv_compose_embedding"><span class="id" title="definition">isequiv_isequiv_compose_embedding</span></a> {<a id="X:121" class="idref" href="#X:121"><span class="id" title="binder">X</span></a> <a id="Y:122" class="idref" href="#Y:122"><span class="id" title="binder">Y</span></a> <a id="Z:123" class="idref" href="#Z:123"><span class="id" title="binder">Z</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="f:124" class="idref" href="#f:124"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:121"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Y:122"><span class="id" title="variable">Y</span></a>} (<a id="i:125" class="idref" href="#i:125"><span class="id" title="binder">i</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Y:122"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Z:123"><span class="id" title="variable">Z</span></a>) `{<a id="IsEmbedding0:126" class="idref" href="#IsEmbedding0:126"><span class="id" title="binder">IsEmbedding</span></a> <a id="IsEmbedding0:126" class="idref" href="#IsEmbedding0:126"><span class="id" title="binder">i</span></a>}<br/>
&nbsp;&nbsp;`{<a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">!</span></a><a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">IsEquiv</span></a> <a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">(</span></a><a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">i</span></a> <a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">o</span></a> <a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">f</span></a><a id="IsEquiv0:127" class="idref" href="#IsEquiv0:127"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#IsEquiv"><span class="id" title="class">IsEquiv</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:124"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#cancelL_isequiv"><span class="id" title="definition">cancelL_isequiv</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Truncations.Core.html#isequiv_surj_emb"><span class="id" title="definition">isequiv_surj_emb</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<a class="idref" href="HoTT.Truncations.Core.html#cancelR_issurjection"><span class="id" title="lemma">cancelR_issurjection</span></a> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> is a set and <span class="inlinecode"><a class="idref" href="HoTT.Types.Bool.html#EquivBoolEquiv.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTT.HIT.iso.html#iso.Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="HoTT.Classes.implementations.natpair_integers.html#NatPair.Z"><span class="id" title="definition">Z</span></a></span> is a surjection, then <span class="inlinecode">-</span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode"><a class="idref" href="HoTT.Types.Bool.html#EquivBoolEquiv.f"><span class="id" title="variable">f</span></a></span> is an embedding. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="isembedding_precompose_surjection_hset" class="idref" href="#isembedding_precompose_surjection_hset"><span class="id" title="definition">isembedding_precompose_surjection_hset</span></a> `{<a id="H:128" class="idref" href="#H:128"><span class="id" title="binder">Funext</span></a>} {<a id="X:129" class="idref" href="#X:129"><span class="id" title="binder">X</span></a> <a id="Y:130" class="idref" href="#Y:130"><span class="id" title="binder">Y</span></a> <a id="Z:131" class="idref" href="#Z:131"><span class="id" title="binder">Z</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="IsHSet0:132" class="idref" href="#IsHSet0:132"><span class="id" title="binder">IsHSet</span></a> <a id="IsHSet0:132" class="idref" href="#IsHSet0:132"><span class="id" title="binder">X</span></a>} (<a id="f:133" class="idref" href="#f:133"><span class="id" title="binder">f</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Y:130"><span class="id" title="variable">Y</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Z:131"><span class="id" title="variable">Z</span></a>) `{<a id="IsSurjection0:134" class="idref" href="#IsSurjection0:134"><span class="id" title="binder">IsSurjection</span></a> <a id="IsSurjection0:134" class="idref" href="#IsSurjection0:134"><span class="id" title="binder">f</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Trunc.html#IsEmbedding"><span class="id" title="abbreviation">IsEmbedding</span></a> (<span class="id" title="keyword">fun</span> <a id="phi:135" class="idref" href="#phi:135"><span class="id" title="binder">phi</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Z:131"><span class="id" title="variable">Z</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:129"><span class="id" title="variable">X</span></a> ⇒ <a class="idref" href="HoTT.Truncations.Core.html#phi:135"><span class="id" title="variable">phi</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Truncations.Core.html#f:133"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">phi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Overture.html#istrunc_S"><span class="id" title="constructor">istrunc_S</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">g0</span> <span class="id" title="var">g1</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#contr_inhabited_hprop"><span class="id" title="lemma">contr_inhabited_hprop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Types.Sigma.html#path_sigma_hprop"><span class="id" title="definition">path_sigma_hprop</span></a>, <a class="idref" href="HoTT.Types.Arrow.html#equiv_path_arrow"><span class="id" title="definition">equiv_path_arrow</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#conn_map_elim"><span class="id" title="definition">conn_map_elim</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Basics.Overture.html#ap10"><span class="id" title="definition">ap10</span></a> (<span class="id" title="var">g0</span><a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.2'"><span class="id" title="notation">.2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#da4283005a63bc086811fc2e64b35356"><span class="id" title="notation">@</span></a> <span class="id" title="var">g1</span><a class="idref" href="HoTT.Basics.Overture.html#::fibration_scope:x_'.2'"><span class="id" title="notation">.2</span></a><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>) <span class="id" title="var">y</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We next prove that <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode">(<a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Type</span>)</span> is an embedding. This was proved by Escardó as Lemma 15 in "Injective types in univalent mathematics", but we give an argument similar to the proof of Theorem 2.25 of CORS. 
<div class="paragraph"> </div>

 This will be an inverse to <span class="inlinecode"><a class="idref" href="HoTT.Tactics.EquivalenceInduction.html#ap"><span class="id" title="section">ap</span></a></span> <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a></span>.  We'll want to show that it is an embedding, so we'll construct it out of pieces that are clearly equivalences, except for one step, <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#equiv_fun"><span class="id" title="projection">equiv_fun</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="ap_paths_inverse" class="idref" href="#ap_paths_inverse"><span class="id" title="definition">ap_paths_inverse</span></a> `{<a id="H:136" class="idref" href="#H:136"><span class="id" title="binder">Univalence</span></a>} {<a id="X:137" class="idref" href="#X:137"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Type</span>} (<a id="x1:138" class="idref" href="#x1:138"><span class="id" title="binder">x1</span></a> <a id="x2:139" class="idref" href="#x2:139"><span class="id" title="binder">x2</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#X:137"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x1:138"><span class="id" title="variable">x1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x2:139"><span class="id" title="variable">x2</span></a> <a class="idref" href="HoTT.Basics.Overture.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x1:138"><span class="id" title="variable">x1</span></a> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#x2:139"><span class="id" title="variable">x2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> @<a class="idref" href="HoTT.Types.Arrow.html#equiv_ap10"><span class="id" title="definition">equiv_ap10</span></a> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="keyword">Type</span> (<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <span class="id" title="var">x1</span>) (<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <span class="id" title="var">x2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Types.Forall.html#equiv_functor_forall_id"><span class="id" title="definition">equiv_functor_forall_id</span></a> (<span class="id" title="keyword">fun</span> <a id="y:140" class="idref" href="#y:140"><span class="id" title="binder"><span id="y:141" class="id">y</span></span></a> ⇒ <a class="idref" href="HoTT.Types.Universe.html#equiv_equiv_path"><span class="id" title="definition">equiv_equiv_path</span></a> (<span class="id" title="var">x1</span> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:140"><span class="id" title="variable">y</span></a>) (<span class="id" title="var">x2</span> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:140"><span class="id" title="variable">y</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Types.Forall.html#functor_forall_id"><span class="id" title="definition">functor_forall_id</span></a> (<span class="id" title="keyword">fun</span> <a id="y:142" class="idref" href="#y:142"><span class="id" title="binder"><span id="y:143" class="id">y</span></span></a> ⇒ @<a class="idref" href="HoTT.Basics.Overture.html#equiv_fun"><span class="id" title="projection">equiv_fun</span></a> (<span class="id" title="var">x1</span> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:142"><span class="id" title="variable">y</span></a>) (<span class="id" title="var">x2</span> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:142"><span class="id" title="variable">y</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Overture.html#::function_scope:x_'o'_x"><span class="id" title="notation">o</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Types.Paths.html#equiv_paths_ind"><span class="id" title="definition">equiv_paths_ind</span></a> <span class="id" title="var">x1</span> (<span class="id" title="keyword">fun</span> <a id="y:144" class="idref" href="#y:144"><span class="id" title="binder"><span id="y:146" class="id">y</span></span></a> <a id="p:145" class="idref" href="#p:145"><span class="id" title="binder"><span id="p:147" class="id">p</span></span></a> ⇒ <span class="id" title="var">x2</span> <a class="idref" href="HoTT.Basics.Overture.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="HoTT.Truncations.Core.html#y:144"><span class="id" title="variable">y</span></a>)<a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">)^-1</span></a>%<span class="id" title="var">equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="HoTT.Types.Paths.html#equiv_path_inverse"><span class="id" title="definition">equiv_path_inverse</span></a> <span class="id" title="var">x2</span> <span class="id" title="var">x1</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
A Yoneda-like embedding for path types: <span class="inlinecode"><a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode">(<a class="idref" href="HoTT.Sets.GCH.html#LEM.X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Type</span>)</span> is an embedding. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="isembedding_paths" class="idref" href="#isembedding_paths"><span class="id" title="definition">isembedding_paths</span></a> `{<a id="H:148" class="idref" href="#H:148"><span class="id" title="binder">Univalence</span></a>} {<a id="X:149" class="idref" href="#X:149"><span class="id" title="binder">X</span></a> : <span class="id" title="var">Type@</span>{<span class="id" title="var">u</span>}} : <a class="idref" href="HoTT.Basics.Trunc.html#IsEmbedding"><span class="id" title="abbreviation">IsEmbedding</span></a> (@<a class="idref" href="HoTT.Basics.Overture.html#paths"><span class="id" title="inductive">paths</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:149"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;To&nbsp;show&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">paths</span></span>&nbsp;is&nbsp;an&nbsp;embedding,&nbsp;it&nbsp;suffices&nbsp;to&nbsp;show&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">ap</span></span> <span class="inlinecode"><span class="id" title="var">paths</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">x2</span></span> <span class="inlinecode">→</span> <span class="inlinecode">(<span class="id" title="var">paths</span></span> <span class="inlinecode"><span class="id" title="var">x1</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">paths</span></span> <span class="inlinecode"><span class="id" title="var">x2</span>)</span>&nbsp;is&nbsp;an&nbsp;equivalence.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">snapply</span> <a class="idref" href="HoTT.HFiber.html#isembedding_isequiv_ap"><span class="id" title="definition">isembedding_isequiv_ap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;And&nbsp;for&nbsp;that,&nbsp;it&nbsp;suffices&nbsp;to&nbsp;show&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">o</span></span> <span class="inlinecode">(<span class="id" title="var">ap</span></span> <span class="inlinecode"><span class="id" title="var">paths</span>)</span>&nbsp;is&nbsp;an&nbsp;equivalence&nbsp;for&nbsp;a&nbsp;well-chosen&nbsp;embedding&nbsp;<span class="inlinecode"><span class="id" title="var">i</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">snapply</span> (<a class="idref" href="HoTT.Truncations.Core.html#isequiv_isequiv_compose_embedding"><span class="id" title="definition">isequiv_isequiv_compose_embedding</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#ap_paths_inverse"><span class="id" title="definition">ap_paths_inverse</span></a> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>)).<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">ap_paths_inverse</span></span> <span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span>&nbsp;is&nbsp;an&nbsp;embedding&nbsp;since&nbsp;it&nbsp;is&nbsp;a&nbsp;composite&nbsp;of&nbsp;four&nbsp;equivalences&nbsp;and&nbsp;one&nbsp;embedding.&nbsp;&nbsp;We&nbsp;can&nbsp;group&nbsp;these&nbsp;into&nbsp;three&nbsp;parts.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="HoTT.Truncations.Core.html#ap_paths_inverse"><span class="id" title="definition">ap_paths_inverse</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<a class="idref" href="HoTT.Modalities.Modality.html#mapinO_compose"><span class="id" title="instance">mapinO_compose</span></a> (<span class="id" title="var">O</span>:=<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (-1)) <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Paths.html#equiv_path_inverse"><span class="id" title="definition">equiv_path_inverse</span></a> <span class="id" title="var">x2</span> <span class="id" title="var">x1</span> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="comment">(*&nbsp;The&nbsp;second&nbsp;part&nbsp;is&nbsp;an&nbsp;equivalence,&nbsp;so&nbsp;it's&nbsp;an&nbsp;embedding.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nrefine</span> (<a class="idref" href="HoTT.Modalities.Modality.html#mapinO_compose"><span class="id" title="instance">mapinO_compose</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Types.Forall.html#functor_forall_id"><span class="id" title="definition">functor_forall_id</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">exact</span> <span class="id" title="var">_</span>. <span class="comment">(*&nbsp;The&nbsp;first&nbsp;part&nbsp;is&nbsp;an&nbsp;equivalence,&nbsp;so&nbsp;it's&nbsp;an&nbsp;embedding.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#mapinO_functor_forall_id"><span class="id" title="definition">mapinO_functor_forall_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="HoTT.HFiber.html#isembedding_equiv_fun"><span class="id" title="instance">isembedding_equiv_fun</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;The&nbsp;composite&nbsp;is&nbsp;an&nbsp;equivalence&nbsp;because&nbsp;it&nbsp;is&nbsp;homotopic&nbsp;to&nbsp;the&nbsp;identity.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> (<a class="idref" href="HoTT.Basics.Equivalences.html#isequiv_homotopic"><span class="id" title="definition">isequiv_homotopic</span></a> <a class="idref" href="HoTT.Basics.Overture.html#idmap"><span class="id" title="abbreviation">idmap</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab1781"></a><h2 class="section">Iterated truncations</h2>

<div class="paragraph"> </div>

 Compare to <span class="inlinecode"><a class="idref" href="HoTT.Truncations.SeparatedTrunc.html#O_leq_Tr"><span class="id" title="instance">O_leq_Tr</span></a></span> and <span class="inlinecode"><a class="idref" href="HoTT.Truncations.SeparatedTrunc.html#O_strong_leq_Tr"><span class="id" title="instance">O_strong_leq_Tr</span></a></span> in SeparatedTrunc.v. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="O_leq_Tr_leq" class="idref" href="#O_leq_Tr_leq"><span class="id" title="definition">O_leq_Tr_leq</span></a> {<a id="n:150" class="idref" href="#n:150"><span class="id" title="binder">n</span></a> <a id="m:151" class="idref" href="#m:151"><span class="id" title="binder">m</span></a> : <a class="idref" href="HoTT.Basics.Overture.html#trunc_index"><span class="id" title="inductive">trunc_index</span></a>} (<a id="Hmn:152" class="idref" href="#Hmn:152"><span class="id" title="binder">Hmn</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#m:151"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Basics.Trunc.html#20142177726a7a019ee7c2fb6997f6d8"><span class="id" title="notation">≤</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:150"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_leq"><span class="id" title="class">O_leq</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#m:151"><span class="id" title="variable">m</span></a>) (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:150"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>; <span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#istrunc_leq"><span class="id" title="definition">istrunc_leq</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Trunc_min" class="idref" href="#Trunc_min"><span class="id" title="definition">Trunc_min</span></a> <a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="m:154" class="idref" href="#m:154"><span class="id" title="binder">m</span></a> <a id="X:155" class="idref" href="#X:155"><span class="id" title="binder">X</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> (<a class="idref" href="HoTT.Basics.Trunc.html#trunc_index_min"><span class="id" title="definition">trunc_index_min</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#m:154"><span class="id" title="variable">m</span></a>) <a class="idref" href="HoTT.Truncations.Core.html#X:155"><span class="id" title="variable">X</span></a> <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:153"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#m:154"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:155"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="HoTT.Basics.Trunc.html#trunc_index_min_path"><span class="id" title="definition">trunc_index_min_path</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span>|<span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> := <a class="idref" href="HoTT.Basics.Trunc.html#trunc_index_min_leq_right"><span class="id" title="definition">trunc_index_min_leq_right</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>; <span class="id" title="tactic">clear</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">snapply</span> (<a class="idref" href="HoTT.Basics.Overture.html#Build_Equiv"><span class="id" title="constructor">Build_Equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_functor"><span class="id" title="definition">Trunc_functor</span></a> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Truncations.Core.html#tr"><span class="id" title="constructor">tr</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">napply</span> <a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#O_inverts_conn_map"><span class="id" title="instance">O_inverts_conn_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> (<a class="idref" href="HoTT.Modalities.ReflectiveSubuniverse.html#conn_map_O_leq"><span class="id" title="definition">conn_map_O_leq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rapply</span> <a class="idref" href="HoTT.Truncations.Core.html#O_leq_Tr_leq"><span class="id" title="definition">O_leq_Tr_leq</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> := <a class="idref" href="HoTT.Basics.Trunc.html#trunc_index_min_leq_left"><span class="id" title="definition">trunc_index_min_leq_left</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span><a class="idref" href="HoTT.Basics.Overture.html#6bc2e8b4a6e295632a90f5f35132db8d"><span class="id" title="notation">^</span></a>; <span class="id" title="tactic">clear</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <a class="idref" href="HoTT.Truncations.Core.html#equiv_tr"><span class="id" title="definition">equiv_tr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">srapply</span> <a class="idref" href="HoTT.Basics.Trunc.html#istrunc_leq"><span class="id" title="definition">istrunc_leq</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="Trunc_swap" class="idref" href="#Trunc_swap"><span class="id" title="definition">Trunc_swap</span></a> <a id="n:156" class="idref" href="#n:156"><span class="id" title="binder">n</span></a> <a id="m:157" class="idref" href="#m:157"><span class="id" title="binder">m</span></a> <a id="X:158" class="idref" href="#X:158"><span class="id" title="binder">X</span></a> : <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:156"><span class="id" title="variable">n</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#m:157"><span class="id" title="variable">m</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:158"><span class="id" title="variable">X</span></a>) <a class="idref" href="HoTT.Basics.Overture.html#068136b784cb569aaadfa01f234d5c01"><span class="id" title="notation">&lt;~&gt;</span></a> <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#m:157"><span class="id" title="variable">m</span></a> (<a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#n:156"><span class="id" title="variable">n</span></a> <a class="idref" href="HoTT.Truncations.Core.html#X:158"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="HoTT.Truncations.Core.html#Trunc_min"><span class="id" title="definition">Trunc_min</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#equiv_transport"><span class="id" title="definition">equiv_transport</span></a> (<span class="id" title="keyword">fun</span> <a id="k:159" class="idref" href="#k:159"><span class="id" title="binder"><span id="k:160" class="id">k</span></span></a> ⇒ <a class="idref" href="HoTT.Truncations.Core.html#Tr"><span class="id" title="definition">Tr</span></a> <a class="idref" href="HoTT.Truncations.Core.html#k:159"><span class="id" title="variable">k</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <a class="idref" href="HoTT.Basics.Equivalences.html#::equiv_scope:x_'oE'_x"><span class="id" title="notation">oE</span></a> <a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">(</span></a><a class="idref" href="HoTT.Truncations.Core.html#Trunc_min"><span class="id" title="definition">Trunc_min</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span><a class="idref" href="HoTT.Basics.Equivalences.html#76214fa316f18d720833e810bbfd71fb"><span class="id" title="notation">)^-1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="HoTT.Basics.Trunc.html#trunc_index_min_swap"><span class="id" title="definition">trunc_index_min_swap</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
If you are looking for a theorem about truncation, you may want to read the note "Finding Theorems" in "STYLE.md". 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>