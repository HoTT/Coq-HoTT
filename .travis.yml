language: c

# don't build the autogenerated master-with-autoreconf-files
branches:
 except:
   - master-with-autoreconf-files

env:

 matrix:
   - UPDATE_HTML="yes"    WITH_AUTORECONF="yes"    COQBIN=""
   - UPDATE_HTML=""       WITH_AUTORECONF=""       COQBIN=""
   - UPDATE_HTML=""       WITH_AUTORECONF="yes"    PREFIX="/usr/local" COQBIN="/usr/local/bin"

 global:
# encrypted version of deploy key for pushing
    - secure: "BbEmeDrctsjexOh5wOT+/3dsXzLu9WyTNwtP9cc6KDMQN+TOZ08nl1zRMJ8ICRA+TcEWWydgks4T4vi3RMWfjW4WFiblpi/qy/t9XiCC/50JEXtIjiwaTsIjpa8wjRiHCmgvZmoWfuOPnBNyXTVInmu0NhpZaA/hZJ4CQjJqu3k="


before_script:
 - ./etc/ci/before_script.sh


script: "./autogen.sh && ./configure COQBIN=\"$COQBIN\" && make"


after_success:
 - ./etc/ci/after_success.sh
