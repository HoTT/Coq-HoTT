<html>
<head>
<title>Connectedness.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Connectedness.v</h1>

<div class="code" title="File: Connectedness.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** * Connectedness *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 1
Time: 0.028s">
<div class="time" style="width: 52.830188679245%"></div>
<pre>From HoTT Require Import Basics.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 1
Time: 0.014s">
<div class="time" style="width: 26.415094339623%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 2
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
Require Import HFiber.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 3
Time: 0.021s">
<div class="time" style="width: 39.622641509434%"></div>
<pre>

Require Import Extensions.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Factorization.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 6
Time: 0.005s">
<div class="time" style="width: 9.4339622641509%"></div>
<pre>
Require Export Modalities.Modality.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>        (* [Export] since the actual definitions of connectedness appear there, in the generality of a modality. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 7
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Require Import Modalities.Descent.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 7
Time: 0.006s">
<div class="time" style="width: 11.320754716981%"></div>
<pre>
Require Import Truncations.Core Truncations.SeparatedTrunc.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This reduces universe variables in [conn_pointed_type] and [conn_point_elim], which refer to [Unit]. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Set Universe Minimization ToSet.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope trunc_scope.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** There is a slight controversy of indexing for connectedness — in particular, how the indexing for maps should relate to the indexing for types.  One may reasonably take the connectedness of a map to correspond either to that of its *fibers*, or of its *cofiber*; these differ by 1.  The traditional topological indexing uses the cofiber.  We use the fiber, as does Lurie in [HTT]; but we choose to agree with the traditional indexing on types, while Lurie agrees with it on maps.

Currently, the translation is therefore as follows:

       HoTT              Traditional       Lurie

Map    (n-1)-connected   n-connected       n-connective
Type   n-connected       n-connected       (n+1)-connective

A handy benchmark: under our indexing, the map [S1 -&gt; 1] is 0-connected but not 1-connected, while the map [1 -&gt; S1] is (–1)–connected but not 0-connected.


One reason for our choice is that this way, the n-truncated and n-connected maps are the modal and modally-connected maps for the n-truncation modality.  Many of the basic lemmas about connected maps are in fact true for any modality, and can be found in [Modality.v].  Thus, here we consider mainly properties that involve the interaction of connectedness at different truncation levels. *)

(** ** Truncatedness of the type of extensions *)

(** A key lemma on the interaction between connectedness and truncatedness: suppose one is trying to extend along an n-connected map, into a k-truncated family of types (k ≥ n).  Then the space of possible extensions is (k–n–2)-truncated.

(Mnemonic for the indexing: think of the base case, where k=n; then we know we can eliminate, so the space of extensions is contractible.)

This lemma is most useful via corollaries like the wedge-inclusion, the wiggly wedge, and their n-ary generalizations. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 35
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Lemma istrunc_extension_along_conn `{Funext} {m n : trunc_index}
  {A B : Type} (f : A -&gt; B) `{IsConnMap n _ _ f}
  (P : B -&gt; Type) {HP : forall b:B, IsTrunc (m +2+ n) (P b)}
  (d : forall a:A, P (f a))
  : IsTrunc m (ExtensionAlong f P d).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert P HP d.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simple_induction m m' IH; intros P HP d; simpl in *.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* m = –2 *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 43
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre> apply (Build_Contr _ (extension_conn_map_elim n f P d)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros y.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (allpath_extension_conn_map n); assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* m = S m' *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply istrunc_S.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros e e'.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 47
Time: 0.002s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre> exact (istrunc_isequiv_istrunc _ (path_extension e e')).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Magically infers: paths in extensions = extensions into paths, which by induction is [m']-truncated. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 48
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectedness of path spaces *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance isconnected_paths `{Univalence} {n A}
       `{IsConnected n.+1 A} (x y : A)
  : IsConnected n (x = y).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 54
Time: 0.003s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre>
  exact (contr_equiv' _ (equiv_path_Tr x y)^-1).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** As a consequence, we have that [ap f] is n-connected when [f] is (n+1)-connected.  See HFiber.v and Loops.v for similar results about truncated maps. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 58
Time: 0.035s">
<div class="time" style="width: 66.037735849057%"></div>
<pre>Instance isconnmap_ap_isconnmap `{Univalence} (n : trunc_index) {A B : Type}
  (f : A -&gt; B) `{!IsConnMap n.+1 f} (x y : A)
  : IsConnMap n (@ap _ _ f x y)
  := fun p =&gt; isconnected_equiv (Tr n) _ (hfiber_ap p)^-1 _.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The converse to [isconnected_paths] holds when [A] is merely inhabited. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_isconnected_allpath `{Univalence} (n : trunc_index)
  (A : Type) `{mA : merely A}
  (isc : forall x y : A, IsConnected n (x = y))
  : IsConnected n.+1 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 67
Time: 0.015s">
<div class="time" style="width: 28.301886792453%"></div>
<pre>
  strip_truncations; hnf.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (Build_Contr _ (tr mA)); intro a.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 69
Time: 0.015s">
<div class="time" style="width: 28.301886792453%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_Tr, center, isc.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** As a consequence, we get a converse to [isconnmap_ap_isconnmap] for (-1)-connected maps. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnmap_isconnmap_ap_surj `{Univalence} (n : trunc_index) {A B : Type}
  (f : A -&gt; B) {surj : IsConnMap (-1) f}
  (isc : forall x y : A, IsConnMap n (@ap _ _ f x y))
  : IsConnMap n.+1 f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro b.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_isconnected_allpath.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply center, surj.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros [x p] [y q]; destruct q.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 82
Time: 0.003s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre>
  exact (isconnected_equiv _ _ (hfiber_ap p) _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectivity of pointed types *)

(** The connectivity of a pointed type and (the inclusion of) its point are intimately connected. *)

(** We can't make both of these [Instance]s, as that would result in infinite loops. And the first one is not likely to be useful as an instance, as it requires guessing the point [a0]. *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition conn_pointed_type@{u} {n : trunc_index} {A : Type@{u}} (a0:A)
  `{IsConnMap@{u} n _ _ (unit_name a0)}
  : IsConnected n.+1 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_conn_map_to_unit.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 95
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  exact (OO_cancelR_conn_map (Tr n.+1) (Tr n) (unit_name a0) (const_tt A)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 97
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

Definition conn_point_incl `{Univalence} {n : trunc_index} {A : Type} (a0:A)
  `{IsConnected n.+1 A}
  : IsConnMap n (unit_name a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 102
Time: 0.002s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>
  rapply (OO_cancelL_conn_map (Tr n.+1) (Tr n) (unit_name a0) (const_tt A)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply O_lex_leq_Tr.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [conn_point_incl] can be made an instance, but at the time of writing, this doesn't cause any additional goals to be solved compared to making it an immediate hint, so we do the latter. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>#[export] Hint Immediate conn_point_incl : typeclass_instances.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Note that [OO_cancelR_conn_map] and [OO_cancelL_conn_map] (Proposition 2.31 of CORS) generalize the above statements to 2/3 of a 2-out-of-3 property for connected maps, for any reflective subuniverse and its subuniverse of separated types.  If useful, we could specialize that more general form explicitly to truncations. *)

(** To prove an [n]-truncated predicate on an (n+1)-connected, pointed type, it's enough to prove it for the basepoint. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition conn_point_elim `{Univalence} (n : trunc_index) {A : pType@{u}} `{IsConnected n.+1 A}
           (P : A -&gt; Type@{u}) `{forall a, IsTrunc n (P a)} (p0 : P (point A))
  : forall a, P a.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* This follows from [conn_point_incl] and [conn_map_elim], but we give a direct proof. *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>intro a.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* Since [A] is [n+1]-connected, [a0 = a] is [n]-connected, which means that [Tr n (a0 = a)] has an element. *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 118
Time: 0.007s">
<div class="time" style="width: 13.207547169811%"></div>
<pre>pose proof (p := center (Tr n ((point A) = a))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 118
Time: 0.023s">
<div class="time" style="width: 43.396226415094%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p # p0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A computation rule for [conn_point_elim_comp]. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 123
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Definition conn_point_elim_comp `{Univalence} (n : trunc_index) {A : pType@{u}} `{IsConnected n.+1 A}
  (P : A -&gt; Type@{u}) `{forall a, IsTrunc n (P a)} (p0 : P (point A))
  : conn_point_elim n P p0 (point A) = p0.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold conn_point_elim.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* The center of truncation isn't definitionally [tr 1], but is equal to it: *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>exact (ap (Trunc_ind _ _) (contr (tr idpath))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Decreasing connectedness *)

(** An [n.+1]-connected type is also [n]-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_pred n A `{IsConnected n.+1 A}
  : IsConnected n A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_from_elim; intros C ? f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 137
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  exact (isconnected_elim n.+1 C f).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* As an instance, this would cause loops, but it can be added as an immediate hint. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Hint Immediate isconnected_pred : typeclass_instances.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A version explicitly using the predecessor function. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_pred' (n : trunc_index) (A : Type) `{IsConnected n A}
  : IsConnected n.-1 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct n.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: unfold IsConnected; simpl; apply istrunc_truncation.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by apply isconnected_pred.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A [k]-connected type is [n]-connected, when [k &gt;= n].  We constrain [k] by making it of the form [n +2+ m], which makes the induction go through smoothly. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_pred_add n m A `{H : IsConnected (n +2+ m) A}
  : IsConnected m A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  induction n.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  rapply IHn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A version with the order of summands swapped, which is sometimes handy, e.g. in the next two results. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_pred_add' n m A `{H : IsConnected (m +2+ n) A}
  : IsConnected m A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (isconnected_pred_add n m).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct (trunc_index_add_comm m n); assumption.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It follows that an [n.+1]-connected type is also [-1]-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition merely_isconnected n A `{IsConnected n.+1 A}
  : merely A
  := @center _ (isconnected_pred_add' n (-1) A).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And that an [n.+2]-connected type is [0]-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition is0connected_isconnected (n : trunc_index) A `{IsConnected n.+2 A}
  : IsConnected 0 A
  := isconnected_pred_add' n 0 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 172
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

Definition isconnmap_pred' (n : trunc_index) {A B : Type} (f : A -&gt; B)
  `{IsConnMap n _ _ f}
  : IsConnMap n.-1 f
  := fun b =&gt; isconnected_pred' n _.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition isconnmap_pred_add n m A B (f : A -&gt; B) `{IsConnMap (n +2+ m) _ _ f}
  : IsConnMap m f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro b.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 182
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  exact (isconnected_pred_add n m _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** (-2)-connectedness *)

(** Every type is (-2)-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnected_minus_two A : IsConnected (-2) A
  := istrunc_truncation (-2) A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Every map is (-2)-connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition isconnmap_minus_two {A B : Type} (f : A -&gt; B)
  : IsConnMap (-2) f
  := fun b =&gt; isconnected_minus_two _.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Hint Immediate isconnected_minus_two : typeclass_instances.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Hint Immediate isconnmap_minus_two : typeclass_instances.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** 0-connectedness *)

(** To be 0-connected is the same as to be (-1)-connected and that any two points are merely equal.  TODO: This should also be generalized to separated subuniverses (CORS Remark 2.35).  *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition merely_path_is0connected `{Univalence}
           (A : Type) `{IsConnected 0 A} (x y : A)
  : merely (x = y).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** This follows immediately from [isconnected_paths] above. *)
 </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 205
Time: 0.004s">
<div class="time" style="width: 7.5471698113208%"></div>
<pre>rapply center.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The converse holds when [A] is merely inhabited. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition is0connected_merely_allpath `{Univalence}
           (A : Type) `{mA : merely A}
           (p : forall (x y:A), merely (x = y))
  : IsConnected 0 A.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (isconnected_isconnected_allpath _ _ (mA:=mA)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x y; hnf.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (contr_inhabited_hprop _ (p x y)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The path component of a point [x : X] is connected. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance is0connected_component {X : Type} (x : X)
  : IsConnected 0 { z : X &amp; merely (z = x) }.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (Build_Contr _ (tr (x; tr idpath))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 221
Time: 0.002s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>
  rapply Trunc_ind; intros [Z p].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 222
Time: 0.004s">
<div class="time" style="width: 7.5471698113208%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (ap tr).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 224
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  rapply path_sigma_hprop.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact p^.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 226
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Any two points in a path component are merely equal.  This follows from [merely_path_is0connected], but this proof doesn't need univalence. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition merely_path_component {X : Type} {x : X}
  (z1 z2 : { z : X &amp; merely (z = x) })
  : merely (z1 = z2).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct z1 as [z1 p1], z2 as [z2 p2].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 233
Time: 0.009s">
<div class="time" style="width: 16.981132075472%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply tr.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 235
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  apply path_sigma_hprop; cbn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p1 @ p2^).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 237
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The path component of a point [x : X] is equivalent to the image of the constant map [Unit -&gt; X] at [x]. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_component_image_unit {X : Type} (x : X)
  : { z : X &amp; merely (z = x) } &lt;~&gt; image (Tr (-1)) (unit_name x).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold image; simpl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intros z; simpl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Trunc_functor_equiv; unfold hfiber.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((equiv_contr_sigma _)^-1 oE _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_inverse.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 247
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** 0-connected types are indecomposable *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance indecomposable_0connected `{Univalence}
       (X : Type) `{IsConnected 0 X}
  : Indecomposable X.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (IsConnected (-1) X) by exact (isconnected_pred (-1) X).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 254
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  constructor.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros A B f.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    assert (z := center (merely X) : merely X); generalize z.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 257
Time: 0.017s">
<div class="time" style="width: 32.075471698113%"></div>
<pre>
    refine (Trunc_rec _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 259
Time: 0.003s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre> apply ishprop_sum; try exact _.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros l r.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 260
Time: 0.021s">
<div class="time" style="width: 39.622641509434%"></div>
<pre> strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (not_is_inl_and_inr' (f z) (l z) (r z)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      remember (f x) as y eqn:p.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      destruct y as [a|b]; [ left | right ]; intros x'.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 264
Time: 0.053s">
<div class="time" style="width: 100%"></div>
<pre>
      all:assert (q := merely_path_is0connected X x x');
        strip_truncations.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      all:refine (transport _ (ap f q) _).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 267
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      all:exact (transport _ p^ tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros nx.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (Trunc_rec (n := -1) nx).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 270
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (center (merely X)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 271
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Truncation preserves connectedness. Note that this is for different levels. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance isconnected_trunc {X : Type} (n m : trunc_index) `{IsConnected n X}
  : IsConnected n (Tr m X).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold IsConnected.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 277
Time: 0.002s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>
  exact (contr_equiv' _ (Trunc_swap n m X)^-1).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Wedge_Incl_Conn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectivity of the wedge into the product *)

(** A very useful form of the key lemma [istrunc_extension_along_conn] is the connectivity of the wedge into the product, for a pair of pointed spaces.  In fact this can be formulated without mentioning the wedge per se (so, without requiring HIT’s), since the statement only needs to talk about maps out of the wedge.  The version involving the wedge itself is deduced in Homotopy/Wedge.v.

Once again, we believe that the type of the conclusion is an hprop (though we do not prove it) — essentially because it is wrapping up an elimination principle and its corresponding computation rule — and so we make the proof of this result opaque. *)

</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 288
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Context `{Univalence}
  {m n : trunc_index}
  {A : Type} (a0 : A) `{IsConnected m.+1 A}
  {B : Type} (b0 : B) `{IsConnected n.+1 B}
  (P : A -&gt; B -&gt; Type) {HP : forall a b, IsTrunc (m +2+ n) (P a b)}
  (f_a0 : forall b:B, P a0 b)
  (f_b0 : forall a:A, P a b0)
  (f_a0b0 : f_a0 b0 = f_b0 a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 295
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Corollary isconn_wedge_incl
  : { f : forall a b, P a b
  &amp; { e_a0 : forall b, f a0 b = f_a0 b
  &amp; { e_b0 : forall a, f a b0 = f_b0 a
  &amp; e_b0 a0 = (e_a0 b0) @ f_a0b0 }}}.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (goal_as_extension :
    ExtensionAlong (unit_name a0)
      (fun a =&gt; ExtensionAlong (unit_name b0) (P a) (unit_name (f_b0 a)))
      (unit_name (f_a0 ; (unit_name f_a0b0)))).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (extension_conn_map_elim m).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 308
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (conn_point_incl a0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 308
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply (istrunc_extension_along_conn (n := n)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 311
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (conn_point_incl b0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 311
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply HP.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct goal_as_extension as [f_eb name_ea_eab].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    assert (ea_eab := name_ea_eab tt); clear name_ea_eab.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 314
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (fun a =&gt; pr1 (f_eb a)).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 315
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (fun b =&gt; apD10 (ea_eab ..1) b).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (fun a =&gt; pr2 (f_eb a) tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 317
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* The last component is essentially (g' ..2), wrapped in a bit of path-algebra. *)
   </pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 319
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>apply moveL_Mp.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 319
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rhs_V napply (apD10 (ea_eab ..2) tt).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    set (ea := ea_eab ..1).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> generalize ea; simpl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> clear ea_eab ea.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite transport_arrow.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite transport_const.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite transport_paths_Fl.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact 1%path.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 323
Time: 0.003s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre>
Qed.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It is easier to apply the above result with its components separated. *)</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition wedge_incl_elim : forall a b, P a b
  := isconn_wedge_incl.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 327
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition wedge_incl_comp1 : forall b, wedge_incl_elim a0 b = f_a0 b
  := isconn_wedge_incl.2.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition wedge_incl_comp2 : forall a, wedge_incl_elim a b0 = f_b0 a
  := isconn_wedge_incl.2.2.1.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition wedge_incl_comp3
  : wedge_incl_comp2 a0 = (wedge_incl_comp1 b0) @ f_a0b0
  := isconn_wedge_incl.2.2.2.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 337
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End Wedge_Incl_Conn.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 339
Time: 0.001s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

Definition wedge_incl_elim_uncurried `{Univalence}
  {m n : trunc_index}
  {A : Type} (a0 : A) `{IsConnected m.+1 A}
  {B : Type} (b0 : B) `{IsConnected n.+1 B}
  (P : A -&gt; B -&gt; Type) {HP : forall a b, IsTrunc (m +2+ n) (P a b)}
  (fs : {f_a0 : forall b:B, P a0 b
        &amp; { f_b0 : forall a:A, P a b0
        &amp; f_a0 b0 = f_b0 a0 }})
  : forall (a : A) (b : B), P a b.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct fs as [f_a0 [f_b0 f_a0b0]].</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (wedge_incl_elim _ _ _ _ _ f_a0b0).</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Connectedness.v
Line: 354
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

