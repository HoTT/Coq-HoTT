<html>
<head>
<title>Presentation.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Presentation.v</h1>

<div class="code" title="File: Presentation.v
Line: 1
Time: 0.037s">
<div class="time" style="width: 100%"></div>
<pre>From HoTT Require Import Basics Types.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 1
Time: 0.032s">
<div class="time" style="width: 86.486486486486%"></div>
<pre>
Require Import Truncations.Core.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 2
Time: 0.032s">
<div class="time" style="width: 86.486486486486%"></div>
<pre>
Require Import Algebra.Groups.Group.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 3
Time: 0.005s">
<div class="time" style="width: 13.513513513514%"></div>
<pre>
Require Import Algebra.Groups.FreeGroup.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 4
Time: 0.002s">
<div class="time" style="width: 5.4054054054054%"></div>
<pre>
Require Import Algebra.Groups.GroupCoeq.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 5
Time: 0.005s">
<div class="time" style="width: 13.513513513514%"></div>
<pre>
Require Import Spaces.Finite Spaces.List.Core.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 6
Time: 0.002s">
<div class="time" style="width: 5.4054054054054%"></div>
<pre>
From HoTT.WildCat Require Import Core Equiv Yoneda.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope mc_scope.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope mc_mult_scope.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** In this file we develop presentations of groups. *)

(** The data of a group presentation *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 14
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>Record GroupPresentation := {
  (** We have a type of generators *)
  gp_generators : Type ;
  (** An indexing type for relators *)
  gp_rel_index : Type ;
  (** The relators are picked out amongst elements of the free group on the generators. *)
  gp_relators : gp_rel_index -&gt; FreeGroup gp_generators;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Note: A relator is a relation in the form of "w = 1", any relation "w = v" can become a relator "wv^-1 = 1" for words v and w. *)

(** Given the data of a group presentation we can construct the group. This is sometimes called the presented group. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition group_gp : GroupPresentation -&gt; Group.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros [X I R].</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (GroupCoeq
    (FreeGroup_rec R)
    (FreeGroup_rec (fun x =&gt; @group_unit (FreeGroup X)))).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A group [G] has a presentation if there exists a group presentation whose presented group is isomorphic to [G]. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 33
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>Class HasPresentation (G : Group) := {
  presentation : GroupPresentation;
  grp_iso_presentation : GroupIsomorphism (group_gp presentation) G;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Coercion presentation : HasPresentation &gt;-&gt; GroupPresentation.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Here are a few finiteness properties of group presentations. *)

(** A group presentation is finitely generated if its generating set is finite. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Class FinitelyGeneratedPresentation (P : GroupPresentation)
  := finite_gp_generators : Finite (gp_generators P).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A group presentation is finitely related if its relators indexing set is finite. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Class FinitelyRelatedPresentation (P : GroupPresentation)
  := finite_gp_relators : Finite (gp_rel_index P).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A group presentation is a finite presentation if it is finitely generated and related. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Class FinitePresentation (P : GroupPresentation) := {
  fp_generators : FinitelyGeneratedPresentation P;
  fp_relators : FinitelyRelatedPresentation P;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** These directly translate into properties of groups. *)

(** A group is finitely generated if it has a finitely generated presentation. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 55
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>Class IsFinitelyGenerated (G : Group) := {
  fg_presentation : HasPresentation G;
  fg_presentation_fg : FinitelyGeneratedPresentation fg_presentation;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A group is finitely related if it has a finitely related presentation. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 60
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>Class IsFinitelyRelated (G : Group) := {
  fr_presentation : HasPresentation G;
  fr_presentation_fr : FinitelyRelatedPresentation fr_presentation;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>

Class IsFinitelyPresented (G : Group) := {
  fp_presentation : HasPresentation G;
  fp_presentation_fp : FinitePresentation fp_presentation;
}.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Fundamental theorem of presentations of groups *)

(** A group homomorphism from a presented group is determined with how the underlying map acts on generators subject to the condition that relators are sent to the unit. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>Theorem grp_pres_rec {funext : Funext} (G : Group) (P : HasPresentation G) (H : Group)
  : {f : gp_generators P -&gt; H &amp; forall r,
      FreeGroup_rec f (gp_relators P r) = group_unit}
    &lt;~&gt; GroupHomomorphism G H.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 76
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>
  refine ((equiv_precompose_cat_equiv grp_iso_presentation (z:=H))^-1 oE _).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_groupcoeq_rec _ _ oE _).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srefine (equiv_functor_sigma_pb _ oE _).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  2: apply equiv_freegroup_rec.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 82
Time: 0.021s">
<div class="time" style="width: 56.756756756757%"></div>
<pre>
  srapply equiv_iff_hprop.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros p.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 84
Time: 0.002s">
<div class="time" style="width: 5.4054054054054%"></div>
<pre>
    change (equiv_freegroup_rec H _ f $o FreeGroup_rec (gp_relators P)
      $== equiv_freegroup_rec _ _ f $o FreeGroup_rec (fun _ =&gt; group_unit)).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 86
Time: 0.001s">
<div class="time" style="width: 2.7027027027027%"></div>
<pre>
    rapply FreeGroup_ind_homotopy.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact p.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros p r.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  hnf in p.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p (freegroup_in r)).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 91
Time: 0.004s">
<div class="time" style="width: 10.810810810811%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Constructors for finite presentations *)

</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Build_Finite_GroupPresentation n m
  (f : FinSeq m (FreeGroup (Fin n)))
  : GroupPresentation.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snapply Build_GroupPresentation.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Fin n).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Fin m).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance FinitelyGeneratedPresentation_Build_Finite_GroupPresentation
  {n m f}
  : FinitelyGeneratedPresentation (Build_Finite_GroupPresentation n m f).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unshelve econstructor.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  2: simpl; apply tr; reflexivity.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance FinitelyRelatedPresentation_Build_Finite_GroupPresentation
  {n m f}
  : FinitelyRelatedPresentation (Build_Finite_GroupPresentation n m f).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unshelve econstructor.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  2: simpl; apply tr; reflexivity.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Notations for presentations *)

(** Convenient abbreviation when defining notations. *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Notation ff := (freegroup_in o fin_nat).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** TODO: I haven't worked out how to generalize to any number of binders, so we explicitly list the first few levels. *)

</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Open Scope nat_scope.</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** One generator *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "⟨ x | F , .. , G ⟩" :=
  (Build_Finite_GroupPresentation 1 _
    (fscons ((fun (x : FreeGroup (Fin 1))
      =&gt; F : FreeGroup (Fin _)) (ff 0%nat))
    .. (fscons ((fun (x : FreeGroup (Fin 1))
      =&gt; G : FreeGroup (Fin _)) (ff 0)) fsnil) ..))
  (at level 200, x binder).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Two generators *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "⟨ x , y | F , .. , G ⟩" :=
  (Build_Finite_GroupPresentation 2 _
    (fscons ((fun (x y : FreeGroup (Fin 2))
      =&gt; F : FreeGroup (Fin _)) (ff 0) (ff 1))
    .. (fscons ((fun (x y : FreeGroup (Fin 2))
      =&gt; G : FreeGroup (Fin _)) (ff 0) (ff 1)) fsnil) ..))
  (at level 200, x binder, y binder).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Three generators *)</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "⟨ x , y , z | F , .. , G ⟩" :=
  (Build_Finite_GroupPresentation 3 _
    (fscons ((fun (x y z : FreeGroup (Fin 3))
      =&gt; F : FreeGroup (Fin _)) (ff 0) (ff 1) (ff 2))
    .. (fscons ((fun (x y z : FreeGroup (Fin 3))
      =&gt; G : FreeGroup (Fin _)) (ff 0) (ff 1) (ff 2)) fsnil) ..))
  (at level 200, x binder, y binder, z binder).</pre>
</div>
<div class="code" title="File: Presentation.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

