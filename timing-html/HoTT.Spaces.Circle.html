<html>
<head>
<title>Circle.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Circle.v</h1>

<div class="code" title="File: Circle.v
Line: 1
Time: 0.038s">
<div class="time" style="width: 77.551020408163%"></div>
<pre>From HoTT Require Import Basics Types.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 1
Time: 0.049s">
<div class="time" style="width: 100%"></div>
<pre>
Require Import Pointed.Core Pointed.Loops Pointed.pEquiv.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 2
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>
Require Import HSet.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 3
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
Require Import Spaces.Int.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Colimits.Coeq.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 5
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>
Require Import Truncations.Core Truncations.Connectedness.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Theorems about the [Circle]. *)

</pre>
</div>
<div class="code" title="File: Circle.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Open Scope pointed_scope.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Generalizable Variables X A B f g n.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ** Definition of the [Circle]. *)

(** We define the circle as the coequalizer of two copies of the identity map of [Unit].  This is easily equivalent to the naive definition

&lt;&lt;
Private Inductive Circle : Type0 :=
| base : Circle
| loop : base = base.
&gt;&gt;

but it allows us to apply the flattening lemma directly rather than having to pass across that equivalence.  *)

(** The circle is defined to be the coequalizer of two copies of the identity map on [Unit]. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle := @Coeq Unit Unit idmap idmap.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It has a basepoint. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition base : Circle := coeq tt.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And a non-trivial path. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition loop : base = base := cglue tt.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Here is a notation for the circle that can be imported. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Module CircleNotation.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Notation S1 := Circle (only parsing).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End CircleNotation.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Circle induction *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_ind (P : Circle -&gt; Type)
  (b : P base) (l : loop # b = b)
  : forall (x : Circle), P x.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (Coeq_ind P (fun u =&gt; transport P (ap coeq (path_unit tt u)) b) _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros []; exact l.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Computation rule for circle induction. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 44
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>Definition Circle_ind_beta_loop (P : Circle -&gt; Type)
  (b : P base) (l : loop # b = b)
  : apD (Circle_ind P b l) loop = l
  := Coeq_ind_beta_cglue P _ _ tt.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We mark [Circle], [base] and [loop] to never be simplified by [simpl] or [cbn] in order to hide how we defined it from the user. *) </pre>
</div>
<div class="code" title="File: Circle.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Arguments Circle : simpl never.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments base : simpl never.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments loop : simpl never.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments Circle_ind_beta_loop : simpl never.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The recursion principle or non-dependent eliminator. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_rec (P : Type) (b : P) (l : b = b)
  : Circle -&gt; P
  := Circle_ind (fun _ =&gt; P) b (transport_const _ _ @ l).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Computation rule for non-dependent eliminator. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_rec_beta_loop (P : Type) (b : P) (l : b = b)
  : ap (Circle_rec P b l) loop = l.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold Circle_rec.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cancelL (transport_const loop b) _ _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((apD_const (Circle_ind (fun _ =&gt; P) b _) loop)^ @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (Circle_ind_beta_loop (fun _ =&gt; P) _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 64
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The [Circle] is pointed by [base]. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>#[export] Instance ispointed_Circle : IsPointed Circle := base.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition pCircle : pType := [Circle, base].</pre>
</div>
<div class="code" title="File: Circle.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** The loop space of the [Circle] is the Integers [Int]

  This is the encode-decode style proof a la Licata-Shulman. *)

</pre>
</div>
<div class="code" title="File: Circle.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section EncodeDecode.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** We assume univalence throughout this section. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context `{Univalence}.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** First we define the type of codes, this is a type family over the circle. This can be thought of as the covering space by the homotopical real numbers. It is defined by mapping loop to the path given by univalence applied to the automorphism of the integers. We will show that the section of this family at [base] is equivalent to the loop space of the circle. Giving us an equivalence [base = base &lt;~&gt; Int]. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 79
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>Definition Circle_code : Circle -&gt; Type
    := Circle_rec Type Int (path_universe int_succ).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Transporting along [loop] gives us the successor automorphism on [Int]. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition transport_Circle_code_loop (z : Int)
    : transport Circle_code loop z = int_succ z.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (transport_compose idmap Circle_code loop z @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Circle_code; rewrite Circle_rec_beta_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply transport_path_universe.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Transporting along [loop^] gives us the predecessor on [Int]. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition transport_Circle_code_loopV (z : Int)
    : transport Circle_code loop^ z = int_pred z.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (transport_compose idmap Circle_code loop^ z @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite ap_V.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Circle_code; rewrite Circle_rec_beta_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite &lt;- (path_universe_V int_succ).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply transport_path_universe.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 99
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** To turn a path in [Circle] based at [base] into a code we transport along it. We call this encoding. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_encode (x:Circle) : (base = x) -&gt; Circle_code x
    := fun p =&gt; p # zero.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** TODO: explain this proof in more detail. *)
  (** Turning a code into a path based at [base]. We call this decoding. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_decode (x : Circle) : Circle_code x -&gt; (base = x).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    revert x; refine (Circle_ind (fun x =&gt; Circle_code x -&gt; base = x) (loopexp loop) _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_forall; intros z; simpl in z.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (transport_arrow _ _ _ @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (transport_paths_r loop _ @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite transport_Circle_code_loopV.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite loopexp_pred_r.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_pV_p.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The non-trivial part of the proof that decode and encode are equivalences is showing that decoding followed by encoding is the identity on the fibers over [base]. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_encode_loopexp (z : Int)
    : Circle_encode base (loopexp loop z) = z.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    induction z as [|n | n].</pre>
</div>
<div class="code" title="File: Circle.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite loopexp_succ_r.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold Circle_encode in IHz |- *.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite transport_pp.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite IHz.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply transport_Circle_code_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite loopexp_pred_r.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold Circle_encode in IHz |- *.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite transport_pp.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite IHz.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply transport_Circle_code_loopV.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 134
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now we put it together. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_encode_isequiv (x:Circle) : IsEquiv (Circle_encode x).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
   refine (isequiv_adjointify (Circle_encode x) (Circle_decode x) _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Here we induct on [x:Circle].  We just did the case when [x] is [base]. *)
   </pre>
</div>
<div class="code" title="File: Circle.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Circle.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (Circle_ind (fun x =&gt; (Circle_encode x) o (Circle_decode x) == idmap)
        Circle_encode_loopexp _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      (* What remains is easy since [Int] is known to be a set. *)
     </pre>
</div>
<div class="code" title="File: Circle.v
Line: 145
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>by apply path_forall; intros z; apply hset_path2.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* The other side is trivial by path induction. *)
   </pre>
</div>
<div class="code" title="File: Circle.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Circle.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros []; reflexivity.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 147
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Finally giving us an equivalence between the loop space of the [Circle] and [Int]. *)
 </pre>
</div>
<div class="code" title="File: Circle.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_loopCircle_int : (base = base) &lt;~&gt; Int
    := Build_Equiv _ _ (Circle_encode base) (Circle_encode_isequiv base).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 152
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>

End EncodeDecode.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectedness and truncatedness of the [Circle] *)

(** The circle is 0-connected. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance isconnected_Circle `{Univalence} : IsConnected 0 Circle.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply is0connected_merely_allpath.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (tr base).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srefine (Circle_ind _ _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simple refine (Circle_ind _ _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Circle.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (tr 1).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Circle.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_ishprop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre> apply path_ishprop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It follows that the circle is a 1-type. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance istrunc_Circle `{Univalence} : IsTrunc 1 Circle.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply istrunc_S.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x y.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (p := merely_path_is0connected Circle base x).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  assert (q := merely_path_is0connected Circle base y).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 174
Time: 0.014s">
<div class="time" style="width: 28.571428571429%"></div>
<pre>
  strip_truncations.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p, q.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 176
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (istrunc_equiv_istrunc (n := 0) Int equiv_loopCircle_int^-1).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 177
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Iteration of equivalences *)

(** If [P : Circle -&gt; Type] is defined by a type [X] and an auto-equivalence [f], then the image of [n : Int] regarded as in [base = base] is [iter_int f n]. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 182
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>Definition Circle_action_is_iter `{Univalence} X (f : X &lt;~&gt; X) (n : Int) (x : X)
: transport (Circle_rec Type X (path_universe f)) (equiv_loopCircle_int^-1 n) x
  = int_iter f n x.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ @ loopexp_path_universe _ _ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (transport_compose idmap _ _ _ @ _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (ap (fun p =&gt; transport idmap p x) _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold equiv_loopCircle_int; cbn.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold Circle_decode; simpl.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  rewrite ap_loopexp.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (ap (fun p =&gt; loopexp p n) _).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Circle_rec_beta_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 193
Time: 0.003s">
<div class="time" style="width: 6.1224489795918%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The universal property of the circle (Lemma 6.2.9 in the Book).  We could deduce this from [isequiv_Coeq_rec], but it's nice to see a direct proof too. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Circle_rec_uncurried (P : Type)
  : {b : P &amp; b = b} -&gt; (Circle -&gt; P)
  := fun x =&gt; Circle_rec P (pr1 x) (pr2 x).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance isequiv_Circle_rec_uncurried `{Funext} (P : Type) : IsEquiv (Circle_rec_uncurried P).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (fun g =&gt; (g base ; ap g loop)).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros g.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_arrow.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srapply Circle_ind.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Circle.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Circle.v
Line: 208
Time: 0.001s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre> transport_paths FlFr.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply equiv_p1_1q.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply Circle_rec_beta_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [b p]; apply ap.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply Circle_rec_beta_loop.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 212
Time: 0.002s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition equiv_Circle_rec `{Funext} (P : Type)
  : {b : P &amp; b = b} &lt;~&gt; (Circle -&gt; P)
  := Build_Equiv _ _ _ (isequiv_Circle_rec_uncurried P).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A pointed version of the universal property of the circle. *)</pre>
</div>
<div class="code" title="File: Circle.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pmap_from_circle_loops `{Funext} (X : pType)
  : (pCircle -&gt;** X) &lt;~&gt;* loops X.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snapply Build_pEquiv'.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (_ oE (issig_pmap _ _)^-1%equiv).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    equiv_via { xp : { x : X &amp; x = x } &amp; xp.1 = pt }.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 224
Time: 0.007s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
    2: make_equiv_contr_basedpaths.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact ((equiv_functor_sigma_pb (equiv_Circle_rec X)^-1%equiv)).</pre>
</div>
<div class="code" title="File: Circle.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Circle.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  apply ap_const.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 227
Time: 0.006s">
<div class="time" style="width: 12.244897959184%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Circle.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

