<html>
<head>
<title>Equiv.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Equiv.v</h1>

<div class="code" title="File: Equiv.v
Line: 1
Time: 0.026s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Basics.Utf8 Basics.Overture Basics.Tactics Basics.Equivalences.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 1
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Require Import WildCat.Core.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import WildCat.Opposite.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We declare a scope for printing [CatEquiv] as [≅] *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Declare Scope wc_iso_scope.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Equivalences in wild categories *)

(** We could define equivalences in any wild 1-category as bi-invertible maps, or in a wild 2-category as half-adjoint equivalences.  However, in concrete cases there is often an equivalent definition of equivalences that we want to use instead, and the important property we need is that it's logically equivalent to (quasi-)isomorphism. In [cat_hasequivs] below, we show that bi-invertible maps do provide a [HasEquivs] structure for any wild 1-category. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 10
Time: 0.013s">
<div class="time" style="width: 50%"></div>
<pre>Class HasEquivs (A : Type) `{Is1Cat A} :=
{
  CatEquiv' : A -&gt; A -&gt; Type where "a $&lt;~&gt; b" := (CatEquiv' a b);
  CatIsEquiv' : forall a b, (a $-&gt; b) -&gt; Type;
  cate_fun' : forall a b, (a $&lt;~&gt; b) -&gt; (a $-&gt; b);
  cate_isequiv' : forall a b (f : a $&lt;~&gt; b), CatIsEquiv' a b (cate_fun' a b f);
  cate_buildequiv' : forall a b (f : a $-&gt; b), CatIsEquiv' a b f -&gt; CatEquiv' a b;
  cate_buildequiv_fun' : forall a b (f : a $-&gt; b) (fe : CatIsEquiv' a b f),
      cate_fun' a b (cate_buildequiv' a b f fe) $== f;
  cate_inv' : forall a b (f : a $&lt;~&gt; b), b $-&gt; a;
  cate_issect' : forall a b (f : a $&lt;~&gt; b),
    cate_inv' _ _ f $o cate_fun' _ _ f $== Id a;
  cate_isretr' : forall a b (f : a $&lt;~&gt; b),
      cate_fun' _ _ f $o cate_inv' _ _ f $== Id b;
  catie_adjointify' : forall a b (f : a $-&gt; b) (g : b $-&gt; a)
    (r : f $o g $== Id b) (s : g $o f $== Id a), CatIsEquiv' a b f;
}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Since apparently a field of a record can't be the source of a coercion (Coq complains about the uniform inheritance condition, although as officially stated that condition appears to be satisfied), we redefine all the fields of [HasEquivs]. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition CatEquiv {A} `{HasEquivs A} (a b : A)
  := @CatEquiv' A _ _ _ _ _ a b.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "a $&lt;~&gt; b" := (CatEquiv a b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Infix "≅" := CatEquiv : wc_iso_scope.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments CatEquiv : simpl never.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 34
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition cate_fun {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : a $-&gt; b
  := @cate_fun' A _ _ _ _ _ a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Coercion cate_fun : CatEquiv &gt;-&gt; Hom.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Being an equivalence should be a typeclass, but we have to redefine it to work around https://github.com/coq/coq/issues/8994 . *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 42
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>Class CatIsEquiv {A} `{HasEquivs A} {a b : A} (f : a $-&gt; b)
  := catisequiv : CatIsEquiv' a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 43
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance cate_isequiv {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : CatIsEquiv f
  := cate_isequiv' a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 47
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition Build_CatEquiv {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) {fe : CatIsEquiv f}
  : a $&lt;~&gt; b
  := cate_buildequiv' a b f fe.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 52
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_buildequiv_fun {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) {fe : CatIsEquiv f}
  : cate_fun (Build_CatEquiv f) $== f
  := cate_buildequiv_fun' a b f fe.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 57
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition catie_adjointify {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) (g : b $-&gt; a)
           (r : f $o g $== Id b) (s : g $o f $== Id a)
  : CatIsEquiv f
  := catie_adjointify' a b f g r s.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 63
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition cate_adjointify {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) (g : b $-&gt; a)
           (r : f $o g $== Id b) (s : g $o f $== Id a)
  : a $&lt;~&gt; b
  := Build_CatEquiv f (fe:=catie_adjointify f g r s).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This one we define to construct the whole inverse equivalence. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cate_inv {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b) : b $&lt;~&gt; a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simple refine (cate_adjointify _ _ _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cate_inv' a b f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cate_issect' a b f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cate_isretr' a b f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "f ^-1$" := (cate_inv f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Opposite categories preserve having equivalences. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance hasequivs_op {A} `{HasEquivs A} : HasEquivs A^op.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 83
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>
  snapply Build_HasEquivs; intros a b; unfold op in a, b; cbn.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (b $&lt;~&gt; a).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact CatIsEquiv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_fun'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_isequiv'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_buildequiv'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rapply cate_buildequiv_fun'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_inv'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 92
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> rapply cate_isretr'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 93
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> rapply cate_issect'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f g s t.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (catie_adjointify f g t s).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 95
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 96
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Instance isequiv_op {A : Type} `{HasEquivs A}
       {a b : A} (f : a $-&gt; b) {ief : CatIsEquiv f}
  : @CatIsEquiv A^op _ _ _ _ _ b a f
  := ief.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 101
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_issect {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : f^-1$ $o f $== Id a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@ cate_issect' a b f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@R f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 109
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition cate_isretr {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : f $o f^-1$ $== Id b
  := cate_issect (A:=A^op) (b:=a) (a:=b) f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** If [g] is a section of an equivalence, then it is the inverse. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 115
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>Definition cate_inverse_sect {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  (g : b $-&gt; a) (p : f $o g $== Id b)
  : cate_fun f^-1$ $== g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((cat_idr _)^$ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((_ $@L p^$) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cat_assoc_opp _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cate_issect f $@R _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cat_idl.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 123
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** If [g] is a retraction of an equivalence, then it is the inverse. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 126
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>Definition cate_inverse_retr {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  (g : b $-&gt; a) (p : g $o f $== Id a)
  : cate_fun f^-1$ $== g
  := cate_inverse_sect (A:=A^op) (a:=b) (b:=a) f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** It follows that the inverse of the equivalence you get by adjointification is homotopic to the inverse [g] provided. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 131
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>Definition cate_inv_adjointify {A} `{HasEquivs A} {a b : A}
  (f : a $-&gt; b) (g : b $-&gt; a) (r : f $o g $== Id b) (s : g $o f $== Id a)
  : cate_fun (cate_adjointify f g r s)^-1$ $== g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_inverse_sect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact ((cate_buildequiv_fun f $@R _) $@ r).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 136
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The identity morphism is an equivalence *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 139
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>Instance catie_id {A} `{HasEquivs A} (a : A)
  : CatIsEquiv (Id a)
  := catie_adjointify (Id a) (Id a) (cat_idl (Id a)) (cat_idr (Id a)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 141
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition id_cate {A} `{HasEquivs A} (a : A)
  : a $&lt;~&gt; a
  := Build_CatEquiv (Id a).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 145
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance reflexive_cate {A} `{HasEquivs A}
  : Reflexive (@CatEquiv A _ _ _ _ _)
  := id_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 149
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance symmetric_cate {A} `{HasEquivs A}
  : Symmetric (@CatEquiv A _ _ _ _ _)
  := fun a b f =&gt; cate_inv f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Anything homotopic to an equivalence is an equivalence. This should not be an instance. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 155
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>Definition catie_homotopic {A} `{HasEquivs A} {a b : A}
  (f : a $-&gt; b) `{!CatIsEquiv f} {g : a $-&gt; b} (p : f $== g)
  : CatIsEquiv g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 158
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  snapply catie_adjointify.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Build_CatEquiv f)^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (p^$ $@R _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 161
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
    refine ((cate_buildequiv_fun f)^$ $@R _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply cate_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (_ $@L p^$ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
    refine (_ $@L (cate_buildequiv_fun f)^$ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply cate_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Equivalences can be composed.  In order to make use of duality, we factor out parts of the proof as two lemmas. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 170
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>Definition compose_catie_isretr {A} `{HasEquivs A} {a b c : A}
  (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : g $o f $o (f^-1$ $o g^-1$) $== Id c.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cat_assoc _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 174
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((_ $@L cat_assoc_opp _ _ _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 175
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine ((_ $@L (cate_isretr _ $@R _)) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 176
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((_ $@L cat_idl _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 178
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 179
Time: 0.005s">
<div class="time" style="width: 19.230769230769%"></div>
<pre>

Definition compose_catie_issect {A} `{HasEquivs A} {a b c : A}
  (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : (f^-1$ $o g^-1$ $o (g $o f) $== Id a)
  := compose_catie_isretr (A:=A^op) (a:=c) (b:=b) (c:=a) f g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 184
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Instance compose_catie {A} `{HasEquivs A} {a b c : A}
  (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : CatIsEquiv (g $o f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (catie_adjointify _ (f^-1$ $o g^-1$) _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply compose_catie_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply compose_catie_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 193
Time: 0.006s">
<div class="time" style="width: 23.076923076923%"></div>
<pre>

Instance compose_catie' {A} `{HasEquivs A} {a b c : A}
  (g : b $-&gt; c) `{!CatIsEquiv g} (f : a $-&gt; b) `{!CatIsEquiv f}
  : CatIsEquiv (g $o f)
  := catie_homotopic _ (cate_buildequiv_fun _ $@@ cate_buildequiv_fun _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 198
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition compose_cate {A} `{HasEquivs A} {a b c : A}
  (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b) : a $&lt;~&gt; c
  := Build_CatEquiv (g $o f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "g $oE f" := (compose_cate g f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 204
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition compose_cate_fun {A} `{HasEquivs A}
           {a b c : A} (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : cate_fun (g $oE f) $== g $o f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 211
Time: 0.016s">
<div class="time" style="width: 61.538461538462%"></div>
<pre>

Definition compose_cate_funinv {A} `{HasEquivs A}
           {a b c : A} (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : g $o f $== cate_fun (g $oE f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply gpd_rev.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 219
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition id_cate_fun {A} `{HasEquivs A} (a : A)
  : cate_fun (id_cate a) $== Id a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 225
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition compose_cate_assoc {A} `{HasEquivs A}
           {a b c d : A} (f : a $&lt;~&gt; b) (g : b $&lt;~&gt; c) (h : c $&lt;~&gt; d)
  : cate_fun ((h $oE g) $oE f) $== cate_fun (h $oE (g $oE f)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 230
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine (compose_cate_fun _ f $@ _ $@ cat_assoc f g h $@ _ $@
                           compose_cate_funinv h _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (compose_cate_fun h g $@R _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (_ $@L compose_cate_funinv g f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 234
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 235
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition compose_cate_assoc_opp {A} `{HasEquivs A}
           {a b c d : A} (f : a $&lt;~&gt; b) (g : b $&lt;~&gt; c) (h : c $&lt;~&gt; d)
  : cate_fun (h $oE (g $oE f)) $== cate_fun ((h $oE g) $oE f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Opaque compose_catie_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (* We use [exact_no_check] just to save a small amount of time. *)
 </pre>
</div>
<div class="code" title="File: Equiv.v
Line: 243
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>exact_no_check (compose_cate_assoc (A:=A^op) (a:=d) (b:=c) (c:=b) (d:=a) h g f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 243
Time: 0.008s">
<div class="time" style="width: 30.769230769231%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Transparent compose_catie_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 245
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition compose_cate_idl {A} `{HasEquivs A}
           {a b : A} (f : a $&lt;~&gt; b)
  : cate_fun (id_cate b $oE f) $== cate_fun f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (compose_cate_fun _ f $@ _ $@ cat_idl f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (cate_buildequiv_fun _ $@R _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 253
Time: 0.022s">
<div class="time" style="width: 84.615384615385%"></div>
<pre>

Definition compose_cate_idr {A} `{HasEquivs A}
           {a b : A} (f : a $&lt;~&gt; b)
  : cate_fun (f $oE id_cate a) $== cate_fun f
  := compose_cate_idl (A:=A^op) (a:=b) (b:=a) f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 258
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance transitive_cate {A} `{HasEquivs A}
  : Transitive (@CatEquiv A _ _ _ _ _)
  := fun a b c f g =&gt; g $oE f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Some more convenient equalities for equivalences. The naming scheme is similar to [PathGroupoids.v].*)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 265
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>Definition compose_V_hh {A} `{HasEquivs A} {a b c : A} (f : b $&lt;~&gt; c) (g : a $-&gt; b) :
  f^-1$ $o (f $o g) $== g :=
  (cat_assoc_opp _ _ _) $@ (cate_issect f $@R g) $@ cat_idl g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 267
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition compose_h_Vh {A} `{HasEquivs A} {a b c : A} (f : c $&lt;~&gt; b) (g : a $-&gt; b) :
  f $o (f^-1$ $o g) $== g :=
  (cat_assoc_opp _ _ _) $@ (cate_isretr f $@R g) $@ cat_idl g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 271
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition compose_hh_V {A} `{HasEquivs A} {a b c : A} (f : b $-&gt; c) (g : a $&lt;~&gt; b) :
  (f $o g) $o g^-1$ $== f :=
  cat_assoc _ _ _ $@ (f $@L cate_isretr g) $@ cat_idr f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 275
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition compose_hV_h {A} `{HasEquivs A} {a b c : A} (f : b $-&gt; c) (g : b $&lt;~&gt; a) :
  (f $o g^-1$) $o g $== f :=
  cat_assoc _ _ _ $@ (f $@L cate_issect g) $@ cat_idr f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Equivalences are both monomorphisms and epimorphisms (but not the converse). *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 282
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cate_monic_equiv {A} `{HasEquivs A} {a b : A} (e : a $&lt;~&gt; b)
  : Monic e.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros c f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 285
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine ((compose_V_hh e _)^$ $@ _ $@ compose_V_hh e _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (_ $@L p).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 287
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 288
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_epic_equiv {A} `{HasEquivs A} {a b : A} (e : a $&lt;~&gt; b)
  : Epic e
  := cate_monic_equiv (A:=A^op) (a:=b) (b:=a) e.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 292
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Movement Lemmas *)

(** These lemmas can be used to move equivalences around in an equation. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 297
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>Definition cate_moveL_eM {A} `{HasEquivs A} {a b c : A}
  (e : a $&lt;~&gt; b) (f : a $-&gt; c) (g : b $-&gt; c)
  (p : f $o e^-1$ $== g)
  : f $== g $o e.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_epic_equiv e^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p $@ (compose_hh_V _ _)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 304
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_moveR_eM {A} `{HasEquivs A} {a b c : A}
  (e : b $&lt;~&gt; a) (f : a $-&gt; c) (g : b $-&gt; c)
  (p : f $== g $o e^-1$)
  : f $o e $== g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_epic_equiv e^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 311
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (compose_hh_V _ _ $@ p).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 313
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition cate_moveL_Me {A} `{HasEquivs A} {a b c : A}
  (e : b $&lt;~&gt; c) (f : a $-&gt; c) (g : a $-&gt; b)
  (p : e^-1$ $o f $== g)
  : f $== e $o g
  := cate_moveL_eM (A:=A^op) (a:=c) (b:=b) (c:=a) e f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 319
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition cate_moveR_Me {A} `{HasEquivs A} {a b c : A}
  (e : c $&lt;~&gt; b) (f : a $-&gt; c) (g : a $-&gt; b)
  (p : f $== e^-1$ $o g)
  : e $o f $== g
  := cate_moveR_eM (A:=A^op) (a:=c) (b:=b) (c:=a) e f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 325
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_moveL_eV {A} `{HasEquivs A} {a b c : A}
  (e : a $&lt;~&gt; b) (f : b $-&gt; c) (g : a $-&gt; c)
  (p : f $o e $== g)
  : f $== g $o e^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_epic_equiv e).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p $@ (compose_hV_h _ _)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 334
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_moveR_eV {A} `{HasEquivs A} {a b c : A}
  (e : b $&lt;~&gt; a) (f : b $-&gt; c) (g : a $-&gt; c)
  (p : f $== g $o e)
  : f $o e^-1$ $== g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 340
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_epic_equiv e).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (compose_hV_h _ _ $@ p).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 342
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 343
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition cate_moveL_Ve {A} `{HasEquivs A} {a b c : A}
  (e : b $&lt;~&gt; c) (f : a $-&gt; b) (g : a $-&gt; c)
  (p : e $o f $== g)
  : f $== e^-1$ $o g
  := cate_moveL_eV (A:=A^op) (a:=c) (b:=b) (c:=a) e f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 349
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition cate_moveR_Ve {A} `{HasEquivs A} {a b c : A}
  (e : b $&lt;~&gt; c) (f : a $-&gt; c) (g : a $-&gt; b)
  (p : f $== e $o g)
  : e^-1$ $o f $== g
  := cate_moveR_eV (A:=A^op) (a:=b) (b:=c) (c:=a) e f g p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 355
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_moveL_V1 {A} `{HasEquivs A} {a b : A} {e : a $&lt;~&gt; b} (f : b $-&gt; a)
  (p : e $o f $== Id _)
  : f $== cate_fun e^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 359
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_monic_equiv e).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 361
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (p $@ (cate_isretr e)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 362
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 363
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition cate_moveL_1V {A} `{HasEquivs A} {a b : A} {e : a $&lt;~&gt; b} (f : b $-&gt; a)
  (p : f $o e $== Id _)
  : f $== cate_fun e^-1$
  := cate_moveL_V1 (A:=A^op) (a:=b) (b:=a) f p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 368
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_moveR_V1 {A} `{HasEquivs A} {a b : A} {e : a $&lt;~&gt; b} (f : b $-&gt; a)
  (p : Id _ $== e $o f)
  : cate_fun e^-1$ $== f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (cate_monic_equiv e).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (cate_isretr e $@ p).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 376
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition cate_moveR_1V {A} `{HasEquivs A} {a b : A} {e : a $&lt;~&gt; b} (f : b $-&gt; a)
  (p : Id _ $== f $o e)
  : cate_fun e^-1$ $== f
  := cate_moveR_V1 (A:=A^op) (a:=b) (b:=a) f p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 381
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Lemmas about the underlying map of an equivalence. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 384
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>Definition cate_inv2 {A} `{HasEquivs A} {a b : A} {e f : a $&lt;~&gt; b} (p : cate_fun e $== cate_fun f)
  : cate_fun e^-1$ $== cate_fun f^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 385
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 386
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_moveL_V1.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 387
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact ((p^$ $@R _) $@ cate_isretr _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 388
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 389
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_inv_compose {A} `{HasEquivs A} {a b c : A} (e : a $&lt;~&gt; b) (f : b $&lt;~&gt; c)
  : cate_fun (f $oE e)^-1$ $== cate_fun (e^-1$ $oE f^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 393
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@ (compose_cate_fun _ _)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 394
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_inv_adjointify.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 395
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 396
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_inv_compose' {A} `{HasEquivs A} {a b c : A} (e : a $&lt;~&gt; b) (f : b $&lt;~&gt; c)
  : cate_fun (f $oE e)^-1$ $== e^-1$ $o f^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  nrefine (_ $@ cate_buildequiv_fun _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 401
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  napply cate_inv_compose.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 403
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition cate_inv_V {A} `{HasEquivs A} {a b : A} (e : a $&lt;~&gt; b)
  : cate_fun (e^-1$)^-1$ $== cate_fun e.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 406
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 407
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_moveR_V1.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 408
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry; apply cate_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 409
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 410
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Any sufficiently coherent functor preserves equivalences.  *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 412
Time: 0.009s">
<div class="time" style="width: 34.615384615385%"></div>
<pre>Instance iemap {A B : Type} `{HasEquivs A} `{HasEquivs B}
       (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
       {a b : A} (f : a $&lt;~&gt; b)
  : CatIsEquiv (fmap F f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 416
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (catie_adjointify (fmap F f) (fmap F f^-1$) _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 418
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact ((fmap_comp F f^-1$ f)^$ $@ fmap2 F (cate_isretr _) $@ fmap_id F _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 418
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 419
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre> exact ((fmap_comp F f f^-1$)^$ $@ fmap2 F (cate_issect _) $@ fmap_id F _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 419
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 420
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition emap {A B : Type} `{HasEquivs A} `{HasEquivs B}
           (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
           {a b : A} (f : a $&lt;~&gt; b)
  : F a $&lt;~&gt; F b
  := Build_CatEquiv (fmap F f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 426
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition emap_id {A B : Type} `{HasEquivs A} `{HasEquivs B}
  (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F} {a : A}
  : cate_fun (emap F (id_cate a)) $== cate_fun (id_cate (F a)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 431
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cate_buildequiv_fun _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 432
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine (fmap2 F (id_cate_fun a) $@ _ $@ (id_cate_fun (F a))^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 433
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  rapply fmap_id.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 434
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 435
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>

Definition emap_compose {A B : Type} `{HasEquivs A} `{HasEquivs B}
  (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
  {a b c : A} (f : a $&lt;~&gt; b) (g : b $&lt;~&gt; c)
  : cate_fun (emap F (g $oE f)) $== fmap F (cate_fun g) $o fmap F (cate_fun f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 440
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 441
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cate_buildequiv_fun _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 442
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (fmap2 F (compose_cate_fun _ _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 443
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>
  rapply fmap_comp.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 444
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 445
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A variant. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 447
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>Definition emap_compose' {A B : Type} `{HasEquivs A} `{HasEquivs B}
  (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
  {a b c : A} (f : a $&lt;~&gt; b) (g : b $&lt;~&gt; c)
  : cate_fun (emap F (g $oE f)) $== cate_fun ((emap F g) $oE (emap F f)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 450
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 451
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (emap_compose F f g $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 452
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 453
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (compose_cate_fun _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 454
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (cate_buildequiv_fun _ $@@ cate_buildequiv_fun _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 455
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 456
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Definition emap_inv {A B : Type} `{HasEquivs A} `{HasEquivs B}
  (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
  {a b : A} (e : a $&lt;~&gt; b)
  : cate_fun (emap F e)^-1$ $== cate_fun (emap F e^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 461
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 462
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cate_inv_adjointify _ _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 463
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (cate_buildequiv_fun _)^$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 464
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 465
Time: 0.015s">
<div class="time" style="width: 57.692307692308%"></div>
<pre>

Definition emap_inv' {A B : Type} `{HasEquivs A} `{HasEquivs B}
  (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
  {a b : A} (e : a $&lt;~&gt; b)
  : cate_fun (emap F e)^-1$ $== fmap F e^-1$
  := emap_inv F e $@ cate_buildequiv_fun _.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 471
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** When we have equivalences, we can define what it means for a category to be univalent. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cat_equiv_path {A : Type} `{HasEquivs A} (a b : A)
  : (a = b) -&gt; (a $&lt;~&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 474
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 475
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros []; reflexivity.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 476
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 477
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Class IsUnivalent1Cat (A : Type) `{HasEquivs A}
  := isequiv_cat_equiv_path :: forall a b, IsEquiv (@cat_equiv_path A _ _ _ _ _ a b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 480
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Definition cat_path_equiv {A : Type} `{IsUnivalent1Cat A} (a b : A)
  : (a $&lt;~&gt; b) -&gt; (a = b)
  := (cat_equiv_path a b)^-1.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 484
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Core of a 1-category *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 487
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Record core (A : Type) := { uncore : A }.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 487
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments uncore {A} c.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 488
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments Build_core {A} a : rename.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 489
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance isgraph_core {A : Type} `{HasEquivs A}
  : IsGraph (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_IsGraph.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 494
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b ; exact (uncore a $&lt;~&gt; uncore b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 495
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 496
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance is01cat_core {A : Type} `{HasEquivs A}
  : Is01Cat (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 499
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 500
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_Is01Cat ; cbv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 502
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros; apply id_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 502
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a b c ; exact compose_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 504
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance is2graph_core {A : Type} `{HasEquivs A}
  : Is2Graph (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 507
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 508
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 509
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_IsGraph.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 510
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g ; exact (cate_fun f $== cate_fun g).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 511
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 512
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance is01cat_core_hom {A : Type} `{HasEquivs A} (a b : core A)
  : Is01Cat (a $-&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 515
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 516
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_Is01Cat.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 517
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 518
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro f; cbn; apply Id.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 518
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f g h; cbn; exact cat_comp.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 520
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance is0gpd_core_hom {A : Type} `{HasEquivs A} (a b : core A)
  : Is0Gpd (a $-&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 523
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 524
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Gpd.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 525
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g ; cbv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 526
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact gpd_rev.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 527
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 528
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance is0functor_core_postcomp {A : Type} `{HasEquivs A}
       (a b c : core A) (h : b $-&gt; c) :
  Is0Functor (cat_postcomp a h).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 532
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 533
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 534
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g al; cbn in h.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 535
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  exact (compose_cate_fun h f
           $@ (h $@L al)
           $@ (compose_cate_fun h g)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 538
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 539
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance is0functor_core_precomp {A : Type} `{HasEquivs A}
       (a b c : core A) (h : a $-&gt; b) :
  Is0Functor (cat_precomp c h).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 543
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 544
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g al; cbn in h.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 546
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** TODO: Why can't Coq resolve this? *)
 </pre>
</div>
<div class="code" title="File: Equiv.v
Line: 548
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>refine (compose_cate_fun f h
           $@ (_ $@R h)
           $@ (compose_cate_fun g h)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 550
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact al.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 551
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 552
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance is1cat_core {A : Type} `{HasEquivs A}
  : Is1Cat (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 555
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 556
Time: 0.005s">
<div class="time" style="width: 19.230769230769%"></div>
<pre>
  rapply Build_Is1Cat.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 557
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 558
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> intros; apply compose_cate_assoc.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 558
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 559
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> intros; apply compose_cate_assoc_opp.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 559
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 560
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> intros; apply compose_cate_idl.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 560
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 561
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> intros; apply compose_cate_idr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 561
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 562
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Instance is0gpd_core {A : Type} `{HasEquivs A}
  : Is0Gpd (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 565
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 566
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Gpd.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 567
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b f; cbn in *; exact (f^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 568
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 569
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance is1gpd_core {A : Type} `{HasEquivs A}
  : Is1Gpd (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 572
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 573
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>
  apply Build_Is1Gpd; cbn ; intros a b f;
    refine (compose_cate_fun _ _ $@ _ $@ (id_cate_fun _)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 575
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 576
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 576
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 577
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cate_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 577
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 578
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Instance hasequivs_core {A : Type} `{HasEquivs A}
  : HasEquivs (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 581
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 582
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>
  srapply Build_HasEquivs.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 583
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (fun a b =&gt; a $-&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 584
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  (* In [core A], i.e. [CatEquiv' (uncore a) (uncore b)]. *)
 </pre>
</div>
<div class="code" title="File: Equiv.v
Line: 585
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>all: intros a b f; cbn; intros.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 585
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 586
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact Unit.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 586
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  (* Or [CatIsEquiv' (uncore a) (uncore b) (cate_fun f)]? *)
 </pre>
</div>
<div class="code" title="File: Equiv.v
Line: 587
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 587
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 587
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 588
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact tt.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 588
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>    (* Or [cate_isequiv' _ _ _]? *)
 </pre>
</div>
<div class="code" title="File: Equiv.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 590
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 590
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 591
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f^-1$.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 591
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 592
Time: 0.008s">
<div class="time" style="width: 30.769230769231%"></div>
<pre> refine (compose_cate_fun _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 592
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (cate_issect _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 593
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    symmetry; apply id_cate_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 594
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 595
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (compose_cate_fun _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 595
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (cate_isretr _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 596
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    symmetry; apply id_cate_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 597
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 598
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact tt.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 598
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 599
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>

Instance hasmorext_core {A : Type} `{HasEquivs A, !HasMorExt A}
  `{forall (x y : core A) (f g : uncore x $&lt;~&gt; uncore y), IsEquiv (ap (x := f) (y := g) cate_fun)}
  : HasMorExt (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 603
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 604
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros X Y f g; cbn in *.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 605
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snapply isequiv_homotopic.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 606
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 607
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (GpdHom_path o (ap (x:=f) (y:=g) cate_fun)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 607
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 608
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre> rapply isequiv_compose.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 608
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 609
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro p; by induction p.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 609
Time: 0.003s">
<div class="time" style="width: 11.538461538462%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 610
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Initial objects and terminal objects are all respectively equivalent. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 613
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Lemma cate_isinitial A `{HasEquivs A} (x y : A)
  : IsInitial x -&gt; IsInitial y -&gt; x $&lt;~&gt; y.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 614
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 615
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros inx iny.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 616
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply (cate_adjointify (inx y).1 (iny x).1).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 617
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  1: exact (((iny _).2 _)^$ $@ (iny _).2 _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 618
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  1: exact (((inx _).2 _)^$ $@ (inx _).2 _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 619
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 620
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_isterminal A `{HasEquivs A} (x y : A)
  : IsTerminal x -&gt; IsTerminal y -&gt; y $&lt;~&gt; x
  := cate_isinitial A^op x y.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 624
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Lemma isinitial_cate A `{HasEquivs A} (x y : A)
  : x $&lt;~&gt; y -&gt; IsInitial x -&gt; IsInitial y.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 627
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 628
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f inx z.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 629
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists ((inx z).1 $o f^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 630
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros g.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 631
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@ compose_hh_V _ f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 632
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@R _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 633
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact ((inx z).2 _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 634
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 635
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition isterminal_cate A `{HasEquivs A} (x y : A)
  : y $&lt;~&gt; x -&gt; IsTerminal x -&gt; IsTerminal y
  := isinitial_cate A^op x y.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 639
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * There is a default notion of equivalence for a 1-category, namely bi-invertibility. *)

(** We do not use the half-adjoint definition, since we can't prove adjointification for that definition. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 644
Time: 0.004s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>Class Cat_IsBiInv {A} `{Is1Cat A} {x y : A} (f : x $-&gt; y) := {
  cat_equiv_inv : y $-&gt; x;
  cat_eisretr : f $o cat_equiv_inv $== Id y;
  cat_equiv_inv' : y $-&gt; x;
  cat_eissect' : cat_equiv_inv' $o f $== Id x;
}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 649
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments cat_equiv_inv {A}%_type_scope { _ _ _ _ x y} f {_}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 651
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments cat_eisretr {A}%_type_scope { _ _ _ _ x y} f {_}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 652
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments cat_equiv_inv' {A}%_type_scope { _ _ _ _ x y} f {_}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 653
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments cat_eissect' {A}%_type_scope { _ _ _ _ x y} f {_}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 654
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments Build_Cat_IsBiInv {A}%_type_scope {_ _ _ _ x y f} cat_equiv_inv cat_eisretr cat_equiv_inv' cat_eissect'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 656
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>

Record Cat_BiInv A `{Is1Cat A} (x y : A) := {
  cat_equiv_fun :&gt; x $-&gt; y;
  cat_equiv_isequiv : Cat_IsBiInv cat_equiv_fun;
}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 661
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Existing Instance cat_equiv_isequiv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 663
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The two inverses are necessarily homotopic. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 665
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>Definition cat_inverses_homotopic {A} `{Is1Cat A} {x y : A} (f : x $-&gt; y) {bif : Cat_IsBiInv f}
  : cat_equiv_inv f $== cat_equiv_inv' f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 666
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 667
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine ((cat_idl _)^$ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 668
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  refine (cat_prewhisker (cat_eissect' f)^$ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 669
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cat_assoc _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 670
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cat_postwhisker _ (cat_eisretr f) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 671
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cat_idr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 672
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 673
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Therefore we can prove [eissect] for the first inverse as well. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 675
Time: 0.002s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>Definition cat_eissect {A} `{Is1Cat A} {x y : A} (f : x $-&gt; y) {bif : Cat_IsBiInv f}
  : cat_equiv_inv f $o f $== Id x
  := (cat_inverses_homotopic f $@R f) $@ cat_eissect' f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 677
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This shows that any 1-category satisfies [HasEquivs].  We do not make it an instance, since we may want to use a different [HasEquivs] structure in particular cases. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 679
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cat_hasequivs A `{Is1Cat A} : HasEquivs A.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 679
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 680
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
  srapply Build_HasEquivs; intros x y.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 681
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (Cat_BiInv _ x y).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 682
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  all:intros f; cbn beta in *.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 683
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 684
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Cat_IsBiInv f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 684
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 685
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 685
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 686
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 686
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 687
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply Build_Cat_BiInv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 687
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 688
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros; reflexivity.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 688
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 689
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cat_equiv_inv f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 689
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 690
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cat_eissect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 690
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 691
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cat_eisretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 691
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 692
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros g r s.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 692
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (Build_Cat_IsBiInv g r g s).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 693
Time: 0.001s">
<div class="time" style="width: 3.8461538461538%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 695
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

