<html>
<head>
<title>Localization.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Localization.v</h1>

<div class="code" title="File: Localization.v
Line: 1
Time: 0.147s">
<div class="time" style="width: 100%"></div>
<pre>Require Import Basics.Overture Basics.Trunc Basics.Tactics Colimits.Quotient
  abstract_algebra Rings.CRing Truncations.Core Nat.Core
  Rings.QuotientRing WildCat.Core WildCat.Equiv.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope mc_scope.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Localization of commutative rings *)

(** Localization is a way to make elements in a commutative ring invertible by adding inverses, in the most minimal way possible. It generalizes the familiar operation of a field of fractions. *)

(** ** Multiplicative subsets *)

(** A multiplicative subset is formally a submonoid of the multiplicative monoid of a ring. Essentially it is a subset closed under finite products. *)

(** *** Definition *)

(** Multiplicative subsets of a ring [R] consist of: *)</pre>
</div>
<div class="code" title="File: Localization.v
Line: 17
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>Class IsMultiplicativeSubset {R : CRing} (S : R -&gt; Type) : Type := {
  (** Contains one *)
  mss_one : S 1 ;
  (** Closed under multiplication *)
  mss_mult : forall x y, S x -&gt; S y -&gt; S (x * y) ;
}.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments mss_one {R _ _}.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments mss_mult {R _ _ _ _}.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** *** Examples *)

(** The multiplicative subset of powers of a ring element. *)</pre>
</div>
<div class="code" title="File: Localization.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance ismultiplicative_powers (R : CRing) (x : R)
  : IsMultiplicativeSubset (fun r =&gt; exists n, rng_power x n = r).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_IsMultiplicativeSubset; cbn beta.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: by exists 0%nat.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros a b np mq.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct np as [n p], mq as [m q].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists (n + m)%nat.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  lhs_V napply rng_power_mult_law.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 37
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
  f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 38
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Invertible elements of a ring form a multiplicative subset. *)</pre>
</div>
<div class="code" title="File: Localization.v
Line: 41
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>Instance ismultiplicative_isinvertible (R : CRing)
  : IsMultiplicativeSubset (@IsInvertible R) := {}.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** TODO: Property of being a localization. *)

(** ** Construction of localization *)

</pre>
</div>
<div class="code" title="File: Localization.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We now construct the localization of a ring at a multiplicative subset as the following HIT:

&lt;&lt;
  HIT (Quotient fraction_eq) (R : CRing) (S : R -&gt; Type)
    `{IsMultiplicativeSubset R} :=
  | loc_frac (n d : R) (p : S d) : Localization R S
  | loc_frac_eq (n1 d1 n2 d2 : R) (p1 : S d1) (p2 : S d2)
      (x : R) (q : S x) (r : x * (d2 * n1 - n2 * d1) = 0)
      : loc_frac n1 d1 p1 = loc_frac n2 d2 p2
  .
&gt;&gt;

  along with the condition that this HIT be a set.

  We will implement this HIT by writing it as a set quotient. From now on, [loc_frac] will be implemented as [class_of fraction_eq] and [loc_frac_eq] will be implemented as [qglue]. *)

 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context (R : CRing) (S : R -&gt; Type) `{!IsMultiplicativeSubset S}.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** Construction of underlying Localization type *)

  (** The base type will be the type of fractions with respect to a multiplicative subset. This consists of pairs of elements of a ring [R] where the [denominator] is in the multiplicative subset [S]. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Record Fraction := {
    numerator : R ;
    denominator : R ;
    in_mult_subset_denominator : S denominator ;
  }.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We consider two fractions to be equal if we can rearrange the fractions as products and ask for equality up to some scaling factor from the multiplicative subset [S]. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition fraction_eq : Relation Fraction.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros [n1 d1 ?] [n2 d2 ?].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (exists (x : R), S x /\ _).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (x * n1 * d2 = x * n2 * d1).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** It is convenient to produce elements of this relation specialized to when the scaling factor is [1]. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition fraction_eq_simple f1 f2
    (p : numerator f1 * denominator f2 = numerator f2 * denominator f1)
    : fraction_eq f1 f2.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists 1.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (mss_one, _).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    lhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (ap (1 *.) p).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Fraction equality is a reflexive relation. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition fraction_eq_refl f1 : fraction_eq f1 f1.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    reflexivity.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Elements of [R] can be considered fractions. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition frac_in : R -&gt; Fraction
    := fun r =&gt; Build_Fraction r 1 mss_one.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now that we have defined the HIT as above, we can define the ring structure. *)

  (** *** Addition operation *)

  (** Fraction addition is the usual addition of fractions. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 112
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>Definition frac_add : Fraction -&gt; Fraction -&gt; Fraction :=
    fun '(Build_Fraction n1 d1 p1) '(Build_Fraction n2 d2 p2)
      =&gt; Build_Fraction (n1 * d2 + n2 * d1) (d1 * d2) (mss_mult p1 p2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Fraction addition is well-defined up to equality of fractions. *)

  (** It is easier to prove well-definedness as a function of both arguments at once. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition frac_add_wd (f1 f1' f2 f2' : Fraction)
    (p : fraction_eq f1 f1') (q : fraction_eq f2 f2')
    : fraction_eq (frac_add f1 f2) (frac_add f1' f2').</pre>
</div>
<div class="code" title="File: Localization.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 122
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    destruct f1 as [a s ss], f1' as [a' s' ss'],
      f2 as [b t st], f2' as [b' t' st'],
      p as [x [sx p]], q as [y [sy q]].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (x * y ; (mss_mult sx sy, _)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 127
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    rewrite 2 rng_dist_l, 2 rng_dist_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 128
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    snapply (ap011 (+)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 130
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre> rewrite 4 rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 130
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
      rewrite 8 (rng_mult_permute_2_3 _ y).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply (ap (.* y)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite 2 (rng_mult_permute_2_3 _ t).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply (ap (.* t)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite (rng_mult_permute_2_3 _ t').</pre>
</div>
<div class="code" title="File: Localization.v
Line: 135
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
      f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 137
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre> do 2 lhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 137
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
      do 2 rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 139
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
      rewrite 6 rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite 2 (rng_mult_permute_2_3 _ _ t').</pre>
</div>
<div class="code" title="File: Localization.v
Line: 141
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      rewrite 2 (rng_mult_permute_2_3 _ _ t).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 142
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      lhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 143
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 144
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
      f_ap; apply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 145
Time: 0.008s">
<div class="time" style="width: 5.4421768707483%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition frac_add_wd_l (f1 f1' f2 : Fraction) (p : fraction_eq f1 f1')
    : fraction_eq (frac_add f1 f2) (frac_add f1' f2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (fraction_eq_refl f2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    by apply frac_add_wd.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition frac_add_wd_r (f1 f2 f2' : Fraction) (p : fraction_eq f2 f2')
    : fraction_eq (frac_add f1 f2) (frac_add f1 f2').</pre>
</div>
<div class="code" title="File: Localization.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (fraction_eq_refl f1).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    by apply frac_add_wd.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The addition operation on the localization is induced from the addition operation for fractions. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance plus_rng_localization : Plus (Quotient fraction_eq).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    srapply Quotient_rec2.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> cbn.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros f1 f2.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (class_of _ (frac_add f1 f2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f1' f2 p.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  by apply qglue, frac_add_wd_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f2 f2' q.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  by apply qglue, frac_add_wd_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** Multiplication operation *)

 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 175
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>Definition frac_mult : Fraction -&gt; Fraction -&gt; Fraction :=
    fun '(Build_Fraction n1 d1 p1) '(Build_Fraction n2 d2 p2)
      =&gt; Build_Fraction (n1 * n2) (d1 * d2) (mss_mult p1 p2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition frac_mult_wd_l f1 f1' f2 (p : fraction_eq f1 f1')
    : fraction_eq (frac_mult f1 f2) (frac_mult f1' f2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct p as [x [s p]].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (x; (s, _)); simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 183
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    rewrite 4 rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite (rng_mult_permute_2_3 _ _ (denominator f1')).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite (rng_mult_permute_2_3 _ _ (denominator f1)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 186
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    lhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 188
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition frac_mult_wd_r f1 f2 f2' (p : fraction_eq f2 f2')
    : fraction_eq (frac_mult f1 f2) (frac_mult f1 f2').</pre>
</div>
<div class="code" title="File: Localization.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct p as [x [s p]].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (x; (s, _)); simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 196
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    rewrite 4 rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 197
Time: 0.026s">
<div class="time" style="width: 17.687074829932%"></div>
<pre>
    rewrite (rng_mult_permute_2_3 _ _ (numerator f2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite 2 (rng_mult_permute_2_3 _ _ (denominator f2')).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 199
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite (rng_mult_permute_2_3 _ _ (numerator f2')).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite 2 (rng_mult_permute_2_3 _ _ (denominator f2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    lhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 203
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 204
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance mult_rng_localization: Mult (Quotient fraction_eq).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srapply Quotient_rec2.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> cbn.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros f1 f2.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (class_of _ (frac_mult f1 f2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f1' f2 p; cbn beta.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      by apply qglue, frac_mult_wd_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f2 f2' q; cbn beta.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      by apply qglue, frac_mult_wd_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** Zero element *)

 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance zero_rng_localization : Zero (Quotient fraction_eq)
    := class_of _ (Build_Fraction 0 1 mss_one).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** One element *)

 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance one_rng_localization : One (Quotient fraction_eq)
    := class_of _(Build_Fraction 1 1 mss_one).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** Negation operation *)

 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition frac_negate : Fraction -&gt; Fraction
    :=  fun '(Build_Fraction n d p) =&gt; Build_Fraction (- n) d p.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition frac_negate_wd f1 f2 (p : fraction_eq f1 f2)
    : fraction_eq (frac_negate f1) (frac_negate f2).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct p as [x [s p]].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (x; (s,_)); simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 238
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    rewrite 2 rng_mult_negate_r, 2 rng_mult_negate_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance negate_rng_localization : Negate (Quotient fraction_eq).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srapply Quotient_rec.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply class_of.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (frac_negate f).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f2 p.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      by apply qglue, frac_negate_wd.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** *** Ring laws *)
  
  (** Commutativity of addition *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance commutative_plus_rng_localization
    : Commutative plus_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 257
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 258
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
    srapply Quotient_ind2_hprop; intros x y.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 259
Time: 0.007s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
    apply qglue, fraction_eq_simple; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite (rng_mult_comm (denominator y) (denominator x)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 261
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    f_ap; apply rng_plus_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Left additive identity *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Instance leftidentity_plus_rng_localization
    : LeftIdentity plus_rng_localization zero_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 267
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 268
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
    srapply Quotient_ind_hprop; intros f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 269
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    apply qglue, fraction_eq_simple; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 270
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite rng_mult_zero_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      rewrite rng_plus_zero_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply rng_mult_one_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> symmetry.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply rng_mult_one_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance leftinverse_plus_rng_localization
    : LeftInverse plus_rng_localization negate_rng_localization zero_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 281
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
    srapply Quotient_ind_hprop; intros f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 282
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    apply qglue, fraction_eq_simple; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (rng_mult_one_r _ @ _).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_ @ (rng_mult_zero_l _)^).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 285
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite rng_mult_negate_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply rng_plus_negate_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 287
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance associative_plus_rng_localization
    : Associative plus_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 292
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    srapply Quotient_ind3_hprop; intros x y z.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 293
Time: 0.017s">
<div class="time" style="width: 11.56462585034%"></div>
<pre>
    apply qglue, fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 294
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 295
Time: 0.007s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
    rewrite ? rng_dist_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 296
Time: 0.013s">
<div class="time" style="width: 8.843537414966%"></div>
<pre>
    rewrite ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 297
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    rewrite ? rng_plus_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 298
Time: 0.01s">
<div class="time" style="width: 6.8027210884354%"></div>
<pre>
    do 4 f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 299
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
    all: rewrite &lt;- ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    all: f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    2: apply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    rewrite rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 304
Time: 0.012s">
<div class="time" style="width: 8.1632653061224%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance leftidentity_mult_rng_localization
    : LeftIdentity mult_rng_localization one_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 308
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 309
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
    srapply Quotient_ind_hprop; intros f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 310
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    apply qglue, fraction_eq_simple; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 311
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    f_ap; [|symmetry]; apply rng_mult_one_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance associative_mult_rng_localization
    : Associative mult_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 317
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    srapply Quotient_ind3_hprop; intros x y z.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 318
Time: 0.008s">
<div class="time" style="width: 5.4421768707483%"></div>
<pre>
    apply qglue, fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 319
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    f_ap; [|symmetry]; apply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance commutative_mult_rng_localization
    : Commutative mult_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 325
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
    srapply Quotient_ind2_hprop; intros x y.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 326
Time: 0.007s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
    apply qglue, fraction_eq_simple; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 327
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    f_ap; rapply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Instance leftdistribute_rng_localization
    : LeftDistribute mult_rng_localization plus_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 333
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    srapply Quotient_ind3_hprop; intros x y z.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 334
Time: 0.008s">
<div class="time" style="width: 5.4421768707483%"></div>
<pre>
    apply qglue, fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 335
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 336
Time: 0.006s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>
    rewrite ? rng_dist_l, ? rng_dist_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 337
Time: 0.01s">
<div class="time" style="width: 6.8027210884354%"></div>
<pre>
    rewrite ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 338
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
    do 2 f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 339
Time: 0.008s">
<div class="time" style="width: 5.4421768707483%"></div>
<pre>
    all: rewrite &lt;- ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 340
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    all: do 2 f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 341
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
    all: rewrite ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 342
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    all: rewrite (rng_mult_comm (_ x)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 343
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
    all: rewrite &lt;- ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    all: f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 345
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    all: rewrite (rng_mult_comm _ (_ y)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 346
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    all: rewrite &lt;- ? rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    all: f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 348
Time: 0.013s">
<div class="time" style="width: 8.843537414966%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition rng_localization : CRing.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    snapply Build_CRing'.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* All of the laws can be found by typeclass search, but it's slightly faster if we fill them in: *)
   </pre>
</div>
<div class="code" title="File: Localization.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>1: exact (Build_AbGroup' (Quotient fraction_eq)
                commutative_plus_rng_localization
                associative_plus_rng_localization
                leftidentity_plus_rng_localization
                leftinverse_plus_rng_localization).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 359
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    all: exact _.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 361
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition loc_in : R $-&gt; rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 364
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    snapply Build_RingHomomorphism.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: exact (class_of _ o frac_in).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 366
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    snapply Build_IsSemiRingPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 367
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 368
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> snapply Build_IsMonoidPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 368
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x y.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        snapply qglue.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 371
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
        by simpl; rewrite 5 rng_mult_one_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> snapply Build_IsMonoidPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x y.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 375
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
        snapply qglue.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 376
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 377
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
        by simpl; rewrite 3 rng_mult_one_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 378
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 379
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 379
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 380
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  
  Section Rec.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 382
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Context (T : CRing) (f : R $-&gt; T)
      (H : forall x, S x -&gt; IsInvertible T (f x)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 385
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition rng_localization_rec_map : rng_localization -&gt; T.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 387
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 388
Time: 0.006s">
<div class="time" style="width: 4.0816326530612%"></div>
<pre>
      srapply Quotient_rec.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [n d sd].</pre>
</div>
<div class="code" title="File: Localization.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        refine (f n * inverse_elem (f d)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        exact (H d sd).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 393
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 393
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        intros x y z.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 394
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply rng_inv_moveR_rV.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 395
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rhs_V napply rng_mult_move_left_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 396
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 397
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply rng_inv_moveL_Vr.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 398
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        lhs_V napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rhs_V napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        napply (equiv_inj (f z.1 *.)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 401
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        {</pre>
</div>
<div class="code" title="File: Localization.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> napply isequiv_rng_inv_mult_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          exact (H _ (fst z.2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Localization.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        lhs_V napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 404
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rhs_V napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 405
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        lhs napply ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 406
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        1: lhs napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 407
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        1: napply rng_mult_permute_2_3.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 408
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rhs napply ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 409
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        2: napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 410
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        exact (ap f (snd z.2)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 411
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 412
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Instance issemiringpreserving_rng_localization_rec_map
      : IsSemiRingPreserving rng_localization_rec_map.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 416
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      snapply Build_IsSemiRingPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 418
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> snapply Build_IsMonoidPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 418
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 419
Time: 0.009s">
<div class="time" style="width: 6.1224489795918%"></div>
<pre> srapply Quotient_ind2_hprop.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 419
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          intros x y; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 420
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply rng_inv_moveR_rV.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 421
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rhs napply rng_dist_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 422
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rewrite rng_homo_plus.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 423
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
          rewrite 3 rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 424
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
          f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 425
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          1,2: rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 426
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          1,2: f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 427
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          1,2: lhs_V napply rng_mult_one_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 428
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          1,2: rhs napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          2: rhs napply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 430
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          2: rhs napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 431
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre>
          1,2: f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 432
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          1,2: symmetry.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          *</pre>
</div>
<div class="code" title="File: Localization.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply rng_inv_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          *</pre>
</div>
<div class="code" title="File: Localization.v
Line: 435
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply rng_inv_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 435
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
        +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 436
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> hnf; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 436
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> rewrite rng_homo_zero.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 436
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          napply rng_mult_zero_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 437
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 438
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre> snapply Build_IsMonoidPreserving.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 438
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 439
Time: 0.015s">
<div class="time" style="width: 10.204081632653%"></div>
<pre> srapply Quotient_ind2_hprop.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 439
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
          intros x y; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 440
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply rng_inv_moveR_rV.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 441
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          lhs napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 442
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 443
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 444
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 445
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply rng_inv_moveL_Vr.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 446
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          lhs napply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 447
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rhs_V napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 448
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 449
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply rng_inv_moveL_Vr.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 450
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          symmetry.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 451
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          rhs napply rng_mult_comm.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 452
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 453
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 454
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre> apply rng_inv_moveR_rV; symmetry.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 454
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
          apply rng_mult_one_l.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 455
Time: 0.009s">
<div class="time" style="width: 6.1224489795918%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 456
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition rng_localization_rec : rng_localization $-&gt; T
      := Build_RingHomomorphism rng_localization_rec_map _.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 459
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    
    Definition rng_localization_rec_beta
      : rng_localization_rec $o loc_in $== f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 462
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 463
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros x; simpl.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 464
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>   
      apply rng_inv_moveR_rV.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 465
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      lhs_V napply rng_mult_one_r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 466
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      napply ap; symmetry.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 467
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply rng_homo_one.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 468
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 469
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre>
  
  End Rec.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 471
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  
  (** Elements belonging to the multiplicative subset [S] of [R] become invertible in [rng_localization R S]. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 474
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>#[export] Instance isinvertible_rng_localization (x : R) (Sx : S x)
    : IsInvertible rng_localization (loc_in x).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 475
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 476
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    snapply isinvertible_cring.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 477
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 478
Time: 0.002s">
<div class="time" style="width: 1.3605442176871%"></div>
<pre> exact (class_of _ (Build_Fraction 1 x Sx)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 478
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 479
Time: 0.005s">
<div class="time" style="width: 3.4013605442177%"></div>
<pre> apply qglue, fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 479
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (ring_mult_assoc_opp _ _ _ _).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 481
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  
  (** As a special case, any denominator of a fraction must necessarily be invertible. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 484
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>#[export] Instance isinvertible_denominator (f : Fraction)
    : IsInvertible rng_localization (loc_in (denominator f)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 485
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 486
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    snapply isinvertible_rng_localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 487
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (in_mult_subset_denominator f).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 488
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 489
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  
  (** Elements that were invertible in the original ring [R], continue to be invertible in [rng_localization R S]. Since [loc_in] is a ring homomorphism this is automatic. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 492
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>Definition isinvertible_rng_localization_preserved (x : R)
    : IsInvertible R x -&gt; IsInvertible rng_localization (loc_in x)
    := _.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 494
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  
  (** We can factor any fraction as the multiplication of the numerator and the inverse of the denominator. *)
 </pre>
</div>
<div class="code" title="File: Localization.v
Line: 497
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition fraction_decompose (f : Fraction)
    : class_of fraction_eq f
      = loc_in (numerator f) * inverse_elem (loc_in (denominator f)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 499
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 500
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
    apply qglue, fraction_eq_simple.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    napply rng_mult_assoc.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 502
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 503
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>

  Definition rng_localization_ind
    (P : rng_localization -&gt; Type)
    (H : forall x, IsHProp (P x))
    (Hin : forall x, P (loc_in x))
    (Hinv : forall x (H : IsInvertible rng_localization x),
      P x -&gt; P (inverse_elem x))
    (Hmul : forall x y, P x -&gt; P y -&gt; P (x * y))
    : forall x, P x.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 512
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 513
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
    snapply Quotient_ind.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 514
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 515
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 515
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 516
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 516
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (transport P (fraction_decompose f)^ _).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 517
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply Hmul.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 518
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply Hin.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Localization.v
Line: 520
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply Hinv, Hin.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 520
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 521
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f1 f2 p.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 521
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply path_ishprop.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 522
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 523
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
  
  Definition rng_localization_ind_homotopy {T : CRing}
    {f g : rng_localization $-&gt; T}
    (p : f $o loc_in $== g $o loc_in)
    : f $== g.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 528
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 529
Time: 0.011s">
<div class="time" style="width: 7.4829931972789%"></div>
<pre>
    srapply rng_localization_ind.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 530
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 531
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact p.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 531
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 532
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> hnf; intros x H q.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 532
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      change (inverse_elem (f x) = inverse_elem (g x)).</pre>
</div>
<div class="code" title="File: Localization.v
Line: 533
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply isinvertible_unique.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 534
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact q.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 535
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Localization.v
Line: 536
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> hnf; intros x y q r.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 536
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      lhs napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 537
Time: 0.001s">
<div class="time" style="width: 0.68027210884354%"></div>
<pre>
      rhs napply rng_homo_mult.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 538
Time: 0.003s">
<div class="time" style="width: 2.0408163265306%"></div>
<pre>
      f_ap.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 539
Time: 0.004s">
<div class="time" style="width: 2.7210884353742%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 540
Time: 0.073s">
<div class="time" style="width: 49.659863945578%"></div>
<pre>

End Localization.</pre>
</div>
<div class="code" title="File: Localization.v
Line: 543
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** TODO: Show construction is a localization. *)

</pre>
</div>
</body>
</html>

