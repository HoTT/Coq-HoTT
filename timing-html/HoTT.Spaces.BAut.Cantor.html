<html>
<head>
<title>Cantor.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Cantor.v</h1>

<div class="code" title="File: Cantor.v
Line: 1
Time: 0.036s">
<div class="time" style="width: 100%"></div>
<pre>Require Import HoTT.Basics HoTT.Types.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 1
Time: 0.035s">
<div class="time" style="width: 97.222222222222%"></div>
<pre>
Require Import Idempotents.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 2
Time: 0.033s">
<div class="time" style="width: 91.666666666667%"></div>
<pre>
Require Import HoTT.Truncations.Core Universes.BAut Spaces.Cantor.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope equiv_scope.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * BAut(Cantor) *)

(** ** A pre-idempotent on [BAut Cantor] that does not split *)

(** We go into a non-exported module so that we can use short names for definitions without polluting the global namespace. *)

</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Module BAut_Cantor_Idempotent.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Section Assumptions.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Univalence}.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition f : BAut Cantor -&gt; BAut Cantor.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 18
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros Z.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** Here is the important part of this definition. *)
   </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>exists (Z + Cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** The rest is just a proof that [Z+Cantor] is again equivalent to [Cantor], using [cantor_fold] and the assumption that [Z] is equivalent to [Cantor]. *)
   </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 23
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>pose (e := Z.2); simpl in e; clearbody e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 23
Time: 0.005s">
<div class="time" style="width: 13.888888888889%"></div>
<pre>
    strip_truncations.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply tr.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_universe_uncurried.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_cantor_fold oE _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (equiv_path _ _ e +E 1).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** For the pre-idempotence of [f], the main point is again the existence of the equivalence [fold_cantor]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition preidem_f : IsPreIdempotent f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros Z.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_baut.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold f; simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_ oE equiv_sum_assoc Z Cantor Cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (1 +E equiv_cantor_fold).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 38
Time: 0.003s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We record how the action of [f] and [f o f] on paths corresponds to an action on equivalences. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 42
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>Definition ap_f {Z Z' : BAut Cantor} (p : Z = Z')
  : equiv_path _ _ (ap f p)..1
    = equiv_path Z Z' p..1 +E 1.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_equiv, path_arrow.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros [z|a]; reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 47
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 48
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>

  Definition ap_ff {Z Z' : BAut Cantor} (p : Z = Z')
  : equiv_path _ _ (ap (f o f) p)..1
    = equiv_path Z Z' p..1 +E 1 +E 1.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_equiv, path_arrow.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 54
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    intros [[z|a]|a]; reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 55
Time: 0.003s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now let's assume [f] is quasi-idempotent, but not necessarily using the same witness of pre-idempotency. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context (Ip : IsPreIdempotent f) (Jp : @IsQuasiIdempotent _ f Ip).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition I (Z : BAut Cantor)
  : (Z + Cantor) + Cantor &lt;~&gt; Z + Cantor
    := equiv_path _ _ (Ip Z)..1.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>

  Definition I0
  : Cantor + Cantor + Cantor + Cantor &lt;~&gt; Cantor + Cantor + Cantor
    := I (f (point (BAut Cantor))).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We don't know much about [I0], but we can show that it maps the rightmost two summands to the rightmost one, using the naturality of [I].  Here is the naturality. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 70
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>Definition Inat (Z Z' : BAut Cantor) (e : Z &lt;~&gt; Z')
  : I Z' oE (e +E 1 +E 1)
    = (e +E 1) oE I Z.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 73
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    revert e; equiv_intro (equiv_path Z Z') q.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 74
Time: 0.006s">
<div class="time" style="width: 16.666666666667%"></div>
<pre>
    revert q; equiv_intro ((equiv_path_sigma_hprop Z Z')^-1) p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 75
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 76
Time: 0.002s">
<div class="time" style="width: 5.5555555555556%"></div>
<pre> rewrite &lt;- ap_ff, &lt;- ap_f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold I.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 77
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre> refine ((equiv_path_pp _ _)^ @ _ @ (equiv_path_pp _ _)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 78
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    refine ((pr1_path_pp (ap (f o f) p) (Ip Z'))^ @ _ @ pr1_path_pp _ _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (concat_Ap Ip).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 80
Time: 0.011s">
<div class="time" style="width: 30.555555555556%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** To show our claim about the action of [I0], we will apply this naturality to the flip automorphism of [Cantor + Cantor].  Here are the images of that automorphism under [f] and [f o f]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition f_flip :=
    equiv_sum_symm Cantor Cantor +E equiv_idmap Cantor.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition ff_flip :=
    (equiv_sum_symm Cantor Cantor +E equiv_idmap Cantor) +E (equiv_idmap Cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The naturality of [I] implies that [I0] commutes with these images of the flip. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 90
Time: 0.004s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>Definition I0nat_flip
        (x : ((Cantor + Cantor) + Cantor) + Cantor)
  : I0 (ff_flip x) = f_flip (I0 x)
    := ap10_equiv
         (Inat (f (point (BAut Cantor))) (f (point (BAut Cantor)))
               (equiv_sum_symm Cantor Cantor))
         x.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The value of this is that we can detect which summand an element is in depending on whether or not it is fixed by [f_flip] or [ff_flip]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition f_flip_fixed_iff_inr (x : Cantor + Cantor + Cantor)
  : (f_flip x = x) &lt;-&gt; is_inr x.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 101
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    split; intros p; destruct x as [[c|c]|c]; simpl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      elim (inl_ne_inr _ _ p^).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      elim (inl_ne_inr _ _ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact tt.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 110
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition ff_flip_fixed_iff_inr
        (x : Cantor + Cantor + Cantor + Cantor)
  : (ff_flip x = x) &lt;-&gt; (is_inr x + is_inl_and is_inr x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 116
Time: 0.002s">
<div class="time" style="width: 5.5555555555556%"></div>
<pre>
    split; intros p; destruct x as [[[c|c]|c]|c]; simpl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> do 2 apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      elim (inl_ne_inr _ _ p^).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> do 2 apply path_sum_inl in p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      elim (inl_ne_inr _ _ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (inr tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (inl tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct p as [e|e]; elim e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct p as [e|e]; elim e.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct p as [e|_]; [ elim e | reflexivity ].</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> destruct p as [_|e]; [ reflexivity | elim e ].</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 127
Time: 0.003s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And the naturality guarantees that [I0] preserves fixed points. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 131
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>Definition I0_fixed_iff_fixed
        (x : Cantor + Cantor + Cantor + Cantor)
  : (ff_flip x = x) &lt;-&gt; (f_flip (I0 x) = I0 x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    split; intros p.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact ((I0nat_flip x)^ @ ap I0 p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (equiv_inj I0).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (I0nat_flip x @ p).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Putting it all together, here is the proof of our claim about [I0]. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 142
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>Definition I0_preserves_inr
        (x : Cantor + Cantor + Cantor + Cantor)
  : (is_inr x + is_inl_and is_inr x) &lt;-&gt; is_inr (I0 x).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (iff_compose _ (f_flip_fixed_iff_inr (I0 x))).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (iff_compose _ (I0_fixed_iff_fixed x)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply iff_inverse, ff_flip_fixed_iff_inr.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now we bring quasi-idempotence into play. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition J (Z : BAut Cantor)
  : I Z +E 1
    = I (f Z).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold I; simpl.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine ((ap_f (Ip Z))^ @ _).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    do 2 apply ap.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply Jp.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 159
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We reach a contradiction by showing that the two maps which [J] claims are equal send elements of the third summand of the domain into different summands of the codomain. *)
 </pre>
</div>
<div class="code" title="File: Cantor.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition impossible : Empty.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
    pose (x := inl (inr (fun n =&gt; true))
               : ((f (point (BAut Cantor))) + Cantor) + Cantor).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (not_is_inl_and_inr' (I (f (point (BAut Cantor))) x)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (transport is_inl
                       (ap10_equiv (J (point (BAut Cantor))) x) tt).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (fst (I0_preserves_inr x) (inr tt)).</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 170
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 171
Time: 0.009s">
<div class="time" style="width: 25%"></div>
<pre>

End Assumptions.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
End BAut_Cantor_Idempotent.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 174
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Let's make the important conclusions available globally. *)

</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition baut_cantor_idem `{Univalence}
: BAut Cantor -&gt; BAut Cantor
  := BAut_Cantor_Idempotent.f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition preidem_baut_cantor_idem `{Univalence}
: IsPreIdempotent baut_cantor_idem
  := BAut_Cantor_Idempotent.preidem_f.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 183
Time: 0.001s">
<div class="time" style="width: 2.7777777777778%"></div>
<pre>

Definition not_qidem_baut_cantor_idem `{Univalence}
: ~ { I : IsPreIdempotent baut_cantor_idem
        &amp; IsQuasiIdempotent baut_cantor_idem }
  := fun IJ =&gt; BAut_Cantor_Idempotent.impossible IJ.1 IJ.2.</pre>
</div>
<div class="code" title="File: Cantor.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

